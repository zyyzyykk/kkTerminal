(function(){var e={7882:function(e,l,t){"use strict";t(7658);var a=t(2483),o=t(3396),s=t(7139),i=t(9242),n=t.p+"img/terminal.bf5c83bf.svg",r=t.p+"img/transport.16cb9746.svg",u=t.p+"img/error_upload.4f7cb736.svg",d=t.p+"img/error_download.f92a5a30.svg";const c=e=>((0,o.dD)("data-v-5eb5b9f0"),e=e(),(0,o.Cn)(),e),p={class:"root-view"},m={class:"setting"},v=c((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),g=c((()=>(0,o._)("div",null,"Docker",-1))),f=[g],w={key:0,class:"kk-flex bar"},y=c((()=>(0,o._)("div",{class:"ellipsis no-select",style:{"font-size":"14px"}},"kk Terminal",-1))),h=c((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),k={class:"kk-flex"},_={key:0,class:"bar-tag"},b={class:"kk-flex no-select"},x={key:1,class:"bar-tag"},C={key:0,class:"kk-flex no-select",style:{color:"#313131"}},D={key:1,class:"kk-flex no-select"},S={key:2,class:"bar-tag"},z={class:"kk-flex no-select",style:{color:"#313131"}},W=c((()=>(0,o._)("img",{src:r,alt:"transport",style:{height:"20px"}},null,-1))),I=[W],T={key:0,class:"trans-items"},$=c((()=>(0,o._)("div",{style:{"margin-left":"15px"}},null,-1))),V={class:"kk-flex-column"},F={class:"trans-item-name ellipsis",style:{width:"360px"}},U={class:"trans-item-size"},R=c((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),E=c((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),N={key:1},H={key:0,class:"trans-items"},O=c((()=>(0,o._)("div",{style:{"margin-left":"15px"}},null,-1))),A={class:"kk-flex-column"},K={class:"trans-item-name ellipsis",style:{width:"360px"}},P={class:"trans-item-size"},L=c((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),M=c((()=>(0,o._)("div",{style:{"margin-left":"10px"}},null,-1))),j=c((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),B={key:1},q={key:0,class:"trans-items"},G=c((()=>(0,o._)("div",{style:{"margin-left":"15px"}},null,-1))),Y={class:"kk-flex-column"},Z={class:"trans-item-name ellipsis",style:{width:"360px"}},J={class:"trans-item-size"},X=c((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),Q=c((()=>(0,o._)("div",{style:{"margin-left":"10px"}},null,-1))),ee=c((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),le={key:1},te={key:0,class:"trans-items"},ae=c((()=>(0,o._)("div",{style:{"margin-left":"15px"}},null,-1))),oe={class:"kk-flex-column"},se={class:"trans-item-name ellipsis",style:{width:"360px"}},ie={class:"trans-item-size"},ne=c((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),re=c((()=>(0,o._)("img",{class:"custom-svg",src:u,alt:"error_upload"},null,-1))),ue=c((()=>(0,o._)("img",{class:"custom-svg",src:d,alt:"error_download"},null,-1))),de=c((()=>(0,o._)("div",{style:{"margin-left":"10px"}},null,-1))),ce=c((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),pe={key:1},me={key:4,class:"kk-flex",style:{"margin-right":"10px"}},ve={style:{"margin-right":"3px"}},ge={key:0,class:"no-select",style:{"font-size":"12px",color:"#313131"}},fe={style:{"font-size":"16px","font-weight":"bold"}},we={style:{"margin-top":"5px"}},ye={class:"kk-flex",style:{"margin-top":"5px"}},he=c((()=>(0,o._)("div",{style:{"background-color":"#f3f4f4","user-select":"text"}},"STC",-1))),ke={class:"kk-flex",style:{"margin-top":"5px"}},_e=c((()=>(0,o._)("div",{style:{"background-color":"#f3f4f4","user-select":"text"}},"STW",-1))),be=c((()=>(0,o._)("div",{style:{"margin-left":"5px"}},null,-1))),xe={ref:"terminal",style:{flex:"1"}};function Ce(e,l,t,a,r,u){const d=(0,o.up)("ArrowRight"),c=(0,o.up)("el-icon"),g=(0,o.up)("UserFilled"),W=(0,o.up)("el-tag"),Ce=(0,o.up)("VideoPlay"),De=(0,o.up)("VideoPause"),Se=(0,o.up)("ChromeFilled"),ze=(0,o.up)("el-badge"),We=(0,o.up)("FileIcons"),Ie=(0,o.up)("ToolTip"),Te=(0,o.up)("el-progress"),$e=(0,o.up)("NoData"),Ve=(0,o.up)("el-tab-pane"),Fe=(0,o.up)("FolderOpened"),Ue=(0,o.up)("CircleClose"),Re=(0,o.up)("el-tabs"),Ee=(0,o.up)("el-card"),Ne=(0,o.up)("el-dropdown"),He=(0,o.up)("el-input"),Oe=(0,o.up)("QuestionFilled"),Ae=(0,o.up)("el-popover"),Ke=(0,o.up)("ConnectSetting"),Pe=(0,o.up)("PreferenceSetting"),Le=(0,o.up)("FileBlock"),Me=(0,o.up)("TCodeWorkflow"),je=(0,o.up)("TCodeCenter"),Be=(0,o.up)("CooperateGen"),qe=(0,o.up)("StatusMonitor"),Ge=(0,o.up)("DockerBlock");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",p,[(0,o.wy)((0,o._)("div",m,[(0,o._)("div",{class:"setting-menu no-select",onClick:l[0]||(l[0]=e=>a.doSettings(1))},[(0,o._)("div",null,(0,s.zw)(e.$t("连接设置")),1)]),(0,o._)("div",{class:"setting-menu no-select",onClick:l[1]||(l[1]=e=>a.doSettings(2))},[(0,o._)("div",null,(0,s.zw)(e.$t("偏好设置")),1)]),(0,o._)("div",{class:"setting-menu no-select",onClick:l[2]||(l[2]=e=>a.doSettings(4))},[(0,o._)("div",null,(0,s.zw)(e.$t("文件管理")),1)]),(0,o._)("div",{onMousemove:l[3]||(l[3]=e=>a.showAdvance(!0)),onMouseleave:l[4]||(l[4]=e=>a.showAdvance(!1)),class:(0,s.C_)(["setting-menu","no-select",a.sshKey&&a.env.advance?"":"disabled"]),onClick:l[5]||(l[5]=e=>a.doSettings(5))},[(0,o._)("div",null,(0,s.zw)(e.$t("高级")),1),v,(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d)])),_:1})],34),(0,o._)("div",{class:"setting-menu no-select",onClick:l[6]||(l[6]=e=>a.doSettings(3))},[(0,o._)("div",null,(0,s.zw)(e.$t("重启")),1)])],512),[[i.F8,a.isShowSetting&&"headless"!==a.urlParams.mode&&"pure"!==a.urlParams.mode]]),(0,o.wy)((0,o._)("div",{onMousemove:l[10]||(l[10]=e=>a.showAdvance(!0)),onMouseleave:l[11]||(l[11]=e=>a.showAdvance(!1)),class:(0,s.C_)(["advance",a.sshKey&&a.env.advance?"":"disabled"])},[(0,o._)("div",{class:"setting-menu no-select",onClick:l[7]||(l[7]=e=>a.doSettings(6))},[(0,o._)("div",null,(0,s.zw)(e.$t("协作")),1)]),(0,o._)("div",{class:"setting-menu no-select",onClick:l[8]||(l[8]=e=>a.doSettings(7))},[(0,o._)("div",null,(0,s.zw)(e.$t("监控")),1)]),(0,o._)("div",{class:"setting-menu no-select",onClick:l[9]||(l[9]=e=>a.doSettings(8))},f)],34),[[i.F8,a.isShowSetting&&a.isShowAdvance&&"headless"!==a.urlParams.mode&&"pure"!==a.urlParams.mode]]),"headless"!==a.urlParams.mode?((0,o.wg)(),(0,o.iD)("div",w,[(0,o._)("img",{class:"logo no-select",src:n,alt:"terminal",onClick:l[12]||(l[12]=e=>{a.isShowSetting=!a.isShowSetting,a.isShowAdvance=!1,a.showAdvance(!1)})}),y,h,(0,o.wy)((0,o._)("div",k,[a.cooperating?((0,o.wg)(),(0,o.iD)("div",_,[(0,o.Wm)(W,{size:"small",onClick:a.endCooperateConfirm,type:a.calcType(a.onlineNumber,a.maxNumber),effect:"plain"},{default:(0,o.w5)((()=>[(0,o._)("div",b,[(0,o.Wm)(c,{class:"el-icon--left",style:{"font-size":"18px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(g)])),_:1}),(0,o._)("div",null,(0,s.zw)(a.onlineNumber),1)])])),_:1},8,["onClick","type"])])):(0,o.kq)("",!0),a.env.cloud?((0,o.wg)(),(0,o.iD)("div",x,[(0,o.Wm)(W,{onClick:l[13]||(l[13]=e=>a.recording?a.stopRecord():a.startRecord()),size:"small",type:a.recording?"danger":"info",effect:"plain"},{default:(0,o.w5)((()=>[a.recording?((0,o.wg)(),(0,o.iD)("div",D,[(0,o.Wm)(c,{class:"el-icon--left",style:{"font-size":"18px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(De)])),_:1}),(0,o._)("div",null,(0,s.zw)(e.$t("录制中")),1)])):((0,o.wg)(),(0,o.iD)("div",C,[(0,o.Wm)(c,{class:"el-icon--left",style:{"font-size":"18px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(Ce)])),_:1}),(0,o._)("div",null,(0,s.zw)(e.$t("开始录制")),1)]))])),_:1},8,["type"])])):(0,o.kq)("",!0),a.env.cloud?((0,o.wg)(),(0,o.iD)("div",S,[(0,o.Wm)(W,{onClick:a.cloudSync,size:"small",type:"info",effect:"plain"},{default:(0,o.w5)((()=>[(0,o._)("div",z,[(0,o.Wm)(c,{class:"el-icon--left",style:{"font-size":"18px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(Se)])),_:1}),(0,o._)("div",null,(0,s.zw)(e.$t("多端同步")),1)])])),_:1},8,["onClick"])])):(0,o.kq)("",!0),a.env.transport?((0,o.wg)(),(0,o.j4)(Ne,{key:3,onVisibleChange:a.changeDropdownShowStatus,class:"bar-tag no-select","hide-timeout":"300",trigger:"click"},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(Ee,{class:"no-select",style:{width:"512px"},"body-style":{padding:"5px 5px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(Re,{stretch:"",type:"border-card",class:"trans-tabs"},{default:(0,o.w5)((()=>[(0,o.Wm)(Ve,null,{label:(0,o.w5)((()=>[(0,o.Wm)(ze,{"show-zero":!1,value:Object.keys(a.waitingList).length,max:99,offset:[6,2],type:"warning"},{default:(0,o.w5)((()=>[(0,o._)("div",null,(0,s.zw)(e.$t("等待中")),1)])),_:1},8,["value"])])),default:(0,o.w5)((()=>[Object.keys(a.waitingList).length>0?((0,o.wg)(),(0,o.iD)("div",T,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.waitingList,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"kk-flex trans-item"},[(0,o.Wm)(We,{name:e.name,width:24,height:24,isFolder:-1===e.size},null,8,["name","isFolder"]),$,(0,o._)("div",V,[(0,o.Wm)(Ie,{content:e.path+e.name,delay:1e3},{content:(0,o.w5)((()=>[(0,o._)("div",F,(0,s.zw)(e.path+e.name),1)])),_:2},1032,["content"]),(0,o._)("div",U,(0,s.zw)(a.calcSize(e.size)),1)]),R,(0,o.Wm)(Te,{class:"trans-progress",width:"48",type:"circle",percentage:e.progress},null,8,["percentage"]),E])))),128))])):((0,o.wg)(),(0,o.iD)("div",N,[(0,o.Wm)($e,{height:"256px"})]))])),_:1}),(0,o.Wm)(Ve,null,{label:(0,o.w5)((()=>[(0,o.Wm)(ze,{"show-zero":!1,value:Object.keys(a.uploadingList).length,max:99,offset:[6,2],type:"danger"},{default:(0,o.w5)((()=>[(0,o._)("div",null,(0,s.zw)(e.$t("正在上传")),1)])),_:1},8,["value"])])),default:(0,o.w5)((()=>[Object.keys(a.uploadingList).length>0?((0,o.wg)(),(0,o.iD)("div",H,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.uploadingList,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"kk-flex trans-item"},[(0,o.Wm)(We,{name:e.name,width:24,height:24,isFolder:-1===e.size},null,8,["name","isFolder"]),O,(0,o._)("div",A,[(0,o.Wm)(Ie,{content:e.path+e.name,delay:1e3},{content:(0,o.w5)((()=>[(0,o._)("div",K,(0,s.zw)(e.path+e.name),1)])),_:2},1032,["content"]),(0,o._)("div",P,(0,s.zw)(a.calcSize(e.size)),1)]),L,(0,o.Wm)(c,{onClick:l=>a.fileBlockView(e.path,e.name),class:"el-icon--left folder-hover"},{default:(0,o.w5)((()=>[(0,o.Wm)(Fe)])),_:2},1032,["onClick"]),M,(0,o.Wm)(c,{onClick:l=>a.updateTransportLists(1,1,e.id,null),class:"el-icon--left close-hover"},{default:(0,o.w5)((()=>[(0,o.Wm)(Ue)])),_:2},1032,["onClick"]),j])))),128))])):((0,o.wg)(),(0,o.iD)("div",B,[(0,o.Wm)($e,{height:"256px"})]))])),_:1}),(0,o.Wm)(Ve,null,{label:(0,o.w5)((()=>[(0,o.Wm)(ze,{"show-zero":!1,value:Object.keys(a.downloadingList).length,max:99,offset:[6,2],type:"danger"},{default:(0,o.w5)((()=>[(0,o._)("div",null,(0,s.zw)(e.$t("正在下载")),1)])),_:1},8,["value"])])),default:(0,o.w5)((()=>[Object.keys(a.downloadingList).length>0?((0,o.wg)(),(0,o.iD)("div",q,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.downloadingList,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"kk-flex trans-item"},[(0,o.Wm)(We,{name:e.name,width:24,height:24,isFolder:-1===e.size},null,8,["name","isFolder"]),G,(0,o._)("div",Y,[(0,o.Wm)(Ie,{content:e.path+e.name,delay:1e3},{content:(0,o.w5)((()=>[(0,o._)("div",Z,(0,s.zw)(e.path+e.name),1)])),_:2},1032,["content"]),(0,o._)("div",J,(0,s.zw)(a.calcSize(e.size)),1)]),X,(0,o.Wm)(c,{onClick:l=>a.fileBlockView(e.path,e.name),class:"el-icon--left folder-hover"},{default:(0,o.w5)((()=>[(0,o.Wm)(Fe)])),_:2},1032,["onClick"]),Q,(0,o.Wm)(c,{onClick:l=>a.updateTransportLists(2,1,e.id,null),class:"el-icon--left close-hover"},{default:(0,o.w5)((()=>[(0,o.Wm)(Ue)])),_:2},1032,["onClick"]),ee])))),128))])):((0,o.wg)(),(0,o.iD)("div",le,[(0,o.Wm)($e,{height:"256px"})]))])),_:1}),(0,o.Wm)(Ve,null,{label:(0,o.w5)((()=>[(0,o.Wm)(ze,{"show-zero":!1,value:Object.keys(a.finishedList).length,max:99,offset:[6,2],type:"success"},{default:(0,o.w5)((()=>[(0,o._)("div",null,(0,s.zw)(e.$t("已完成")),1)])),_:1},8,["value"])])),default:(0,o.w5)((()=>[Object.keys(a.finishedList).length>0?((0,o.wg)(),(0,o.iD)("div",te,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.finishedList,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"kk-flex trans-item"},[(0,o.Wm)(We,{name:e.name,width:24,height:24,isFolder:-1===e.size},null,8,["name","isFolder"]),ae,(0,o._)("div",oe,[(0,o.Wm)(Ie,{content:e.path+e.name,delay:1e3},{content:(0,o.w5)((()=>[(0,o._)("div",se,(0,s.zw)(e.path+e.name),1)])),_:2},1032,["content"]),(0,o._)("div",ie,(0,s.zw)(a.calcSize(e.size)),1)]),ne,-1===e.status?((0,o.wg)(),(0,o.j4)(c,{key:0,class:"el-icon--left"},{default:(0,o.w5)((()=>[re])),_:1})):-2===e.status?((0,o.wg)(),(0,o.j4)(c,{key:1,class:"el-icon--left"},{default:(0,o.w5)((()=>[ue])),_:1})):((0,o.wg)(),(0,o.j4)(c,{key:2,onClick:l=>a.fileBlockView(e.path,e.name),class:"el-icon--left folder-hover"},{default:(0,o.w5)((()=>[(0,o.Wm)(Fe)])),_:2},1032,["onClick"])),de,(0,o.Wm)(c,{onClick:l=>a.updateTransportLists(3,1,e.id,null),class:"el-icon--left close-hover"},{default:(0,o.w5)((()=>[(0,o.Wm)(Ue)])),_:2},1032,["onClick"]),ce])))),128))])):((0,o.wg)(),(0,o.iD)("div",pe,[(0,o.Wm)($e,{height:"256px"})]))])),_:1})])),_:1})])),_:1})])),default:(0,o.w5)((()=>[(0,o.Wm)(ze,{hidden:a.isShowDropdown||!a.isShowDot,"is-dot":!0,offset:[0,4]},{default:(0,o.w5)((()=>[(0,o._)("span",{onClick:l[14]||(l[14]=e=>{a.isShowDot=!1})},I)])),_:1},8,["hidden"])])),_:1},8,["onVisibleChange"])):(0,o.kq)("",!0),a.env.tCode?((0,o.wg)(),(0,o.iD)("div",me,[(0,o._)("div",ve,[(0,o.Wm)(He,{modelValue:a.tcode,"onUpdate:modelValue":l[15]||(l[15]=e=>a.tcode=e),style:{width:"100px",height:"20px",fontSize:"12px"},onKeydown:a.handleTCode,maxlength:"6",placeholder:e.$t("终端代码")},null,8,["modelValue","onKeydown","placeholder"])]),a.env.tCode?((0,o.wg)(),(0,o.j4)(Ae,{key:0,placement:"bottom-end",width:e.$t("232"),trigger:"click"},{reference:(0,o.w5)((()=>[(0,o.Wm)(c,{style:{color:"#606266",cursor:"pointer"}},{default:(0,o.w5)((()=>[(0,o.Wm)(Oe)])),_:1})])),default:(0,o.w5)((()=>[a.env.tCode?((0,o.wg)(),(0,o.iD)("div",ge,[(0,o._)("div",fe,(0,s.zw)(e.$t("什么是终端代码？")),1),(0,o._)("div",we,(0,s.zw)(e.$t("终端代码是用于访问和执行特定操作流程的快捷方式")),1),(0,o._)("div",ye,[(0,o._)("div",null,(0,s.zw)(e.$t("输入"))+" ",1),he,(0,o._)("div",null," "+(0,s.zw)(e.$t("并按下回车以查看更多信息")),1)]),(0,o._)("div",ke,[(0,o._)("div",null,(0,s.zw)(e.$t("输入"))+" ",1),_e,(0,o._)("div",null," "+(0,s.zw)(e.$t("并按下回车以自定义工作流")),1)])])):(0,o.kq)("",!0)])),_:1},8,["width"])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)],512),[[i.F8,"headless"!==a.urlParams.mode&&"pure"!==a.urlParams.mode]])])):(0,o.kq)("",!0),(0,o._)("div",{class:"kk-flex terminal-class",style:(0,s.j5)({backgroundColor:a.env.bg})},[be,(0,o._)("div",xe,null,512)],4)]),(0,o.Wm)(Ke,{ref:"connectSettingRef",env:a.env,sshOptions:a.options,onSaveOp:a.saveOp,onDeleteOp:a.deleteOp,onCallback:a.saveEnv},null,8,["env","sshOptions","onSaveOp","onDeleteOp","onCallback"]),(0,o.Wm)(Pe,{ref:"preferenceSettingRef",env:a.env,onCallback:a.saveEnv,os:t.osInfo.clientOS},null,8,["env","onCallback","os"]),(0,o.Wm)(Le,{ref:"fileBlockRef",sshKey:a.sshKey,os:t.osInfo.clientOS,onUpdateTransportLists:a.updateTransportLists,uploadingList:a.uploadingList},null,8,["sshKey","os","onUpdateTransportLists","uploadingList"]),(0,o.Wm)(Me,{ref:"tCodeWorkflowRef",onImportTCodes:a.importTCodes,onExportTCodes:a.exportTCodes},null,8,["onImportTCodes","onExportTCodes"]),(0,o.Wm)(je,{ref:"tCodeCenterRef",userTCodes:a.tcodes,onHandleSaveTCode:a.handleSaveTCode,onHandleDeleteTCode:a.handleDeleteTCode},null,8,["userTCodes","onHandleSaveTCode","onHandleDeleteTCode"]),(0,o.Wm)(Be,{ref:"cooperateGenRef",sshKey:a.sshKey,advance:a.env.advance,onHandleCooperate:a.handleCooperate},null,8,["sshKey","advance","onHandleCooperate"]),(0,o.Wm)(qe,{ref:"statusMonitorRef",sshKey:a.sshKey,advance:a.env.advance},null,8,["sshKey","advance"]),(0,o.Wm)(Ge,{ref:"dockerBlockRef",sshKey:a.sshKey,advance:a.env.advance,onEnable:a.enableDocker,onDeploy:a.runContainer},null,8,["sshKey","advance","onEnable","onDeploy"])],64)}t(6229),t(7330),t(2062);var De=t(7071),Se=t(4870),ze=(t(1439),t(7585),t(5315),t(8082)),We=t.n(ze),Ie=t(6681);const Te={storage:null,socket:null,response:null,public:null},$e={storage(e){Te.storage=e},socket(e){Te.socket=e},response(e){Te.response=e},public(e){Te.public=e}},Ve={storage(){return Te.storage},socket(){return Te.socket},response(){return Te.response},public(){return Te.public}},Fe=(e,l)=>{const t=l||Ve.storage();if(!t||!e)return null;const a=We().enc.Utf8.parse(t),o=We().enc.Utf8.parse(e),s=We().AES.encrypt(o,a,{mode:We().mode.ECB,padding:We().pad.Pkcs7});return s.toString()},Ue=(e,l)=>{const t=l||Ve.storage();if(!t||!e)return null;const a=We().enc.Utf8.parse(t),o=We().AES.decrypt(e,a,{mode:We().mode.ECB,padding:We().pad.Pkcs7});return We().enc.Utf8.stringify(o).toString()},Re=(e,l)=>{const t=l||Ve.public();if(!t||!e)return null;const a=new Ie.Z;return a.setPublicKey(t),a.encrypt(e)};var Ee=t(4578),Ne=t(6537),He=t(7114),Oe=t(3893),Ae=t(7387),Ke=t.n(Ae),Pe=t(152),Le=JSON.parse('{"232":"272","240":"280","360":"380","400":"420","配   置":"Option","：":":","，":",","加载中...":"Loading...","描述":"Desc","简体中文":"Chinese","密码":"Pwd","私钥":"Key","导入私钥":"Import Key","请输入私钥密码":"Input Key Passphrase","内容过长":"Content too long","读取成功":"Read Success","读取失败":"Read Failed","文件加载失败":"File loading failed","内容加载失败":"Content loading failed","终端代码中心":"Terminal Code Center","功能":"Function","以":"Start with","开头，用于执行通用功能":", used to execute common functions","系统":"System","开头，用于访问系统模块":", used to access system modules","用户":"User","开头，用于自定义工作流":", used to customize workflows","不存在":" does not exist","正在执行":"is executing","执行中断：":"Execute Interrupted: ","工作流开始":"Workflow Start","工作流结束":"Workflow Over","编译错误：":"Compile Error: ","无法打开文件：":"Cannot open file: ","无法下载文件：":"Cannot download file: ","编辑":"Edit","删除":"Delete","只读":"Read Only","保存修改":"Save Changes","修改成功":"Modified","删除成功":"Deleted","提示":"Tips","确定删除此终端代码吗？":"Sure to delete this Terminal Code?","终端代码工作流":"Terminal Code Workflow","新建终端窗口":"New Terminal Window","关闭终端窗口":"Close Terminal Window","用户退出登录":"User Logout","刷新页面":"Refresh Webpage","连接设置":"Connect","偏好设置":"Preference","高级":"Advanced","高级功能":"Advanced Func","传输列表":"Transport List","等待中":"Waiting","正在上传":"Uploading","正在下载":"Downloading","已完成":"Finished","文件管理":"File","重启":"Restart","重启终端":"Restart Terminal","协作":"Cooperate","监控":"Monitor","输入终端代码名称":"Input Terminal Code Name","输入终端代码描述":"Input Terminal Code Description","导入":"Import","导出":"Export","默认模板":"Default Template","清空":"Clear","保存":"Save","取消":"Cancel","确定":"Confirm","验证":"Verify","登录成功":"Login Success","会话已过期":"Session Expired","欢迎来到kkTerminal":"Welcome to kk Terminal","管理员开启了对kkTerminal的密码校验":"The administrator has enabled password verification for kkTerminal.","输入密码以获取访问权限":"Input Password to Get Access","密码错误":"Incorrect Password","保存成功":"Saved","名称非法":"name is illegal","导入成功":"Imported","导入失败：无合法终端代码":"Failed: no legal Terminal Code","导入成功：":"Imported: ","个":"","，导入失败：":", Failed: ","导入失败：json格式错误":"Failed: json format error","导入失败：文件读取失败":"Failed: file read failed","导出成功":"Exported","终端代码名称不能为空":"Terminal Code Name cannot be empty","终端代码只能由字母和数字组成":"Terminal Code can only consist of letters and numbers","添加成功":"Added","新建配置":"New Option","切换":"Switch","新建":"New","主机IP":"Host","输入主机IP":"Input Host IP","端口号":"Port","输入端口号":"Input SSH Port","用户名":"User","输入用户名":"Input User Name","输入密码":"Input Password","主机IP地址无效":"IP address is invalid","端口号无效":"Port number is invalid","用户名不能为空":"User name cannot be empty","密码不能为空":"Password cannot be empty","私钥不能为空":"PrivateKey cannot be empty","内容为空":"Empty","复制成功":"Copied","属性":"Properties","位置":"Path","包含":"Contain","未确认":"Unsure","大小":"Size","字节":"Bytes","修改时间":"MTime","访问时间":"ATime","权限":"Permission","权限编辑":"Permission Editing","0 个文件，0 个文件夹":"0 files, 0 folders"," 个文件，":" files, "," 个文件夹":" folders","文件名不能为空":"File name cannot be empty","文件名不能含有":"File name cannot contain","URL上传":"URL Upload","请输入文件URL":"Input File URL","文件名":"Name","请输入文件名":"Input File Name","URL不能为空":"URL cannot be empty","文件":"File","文件夹":"Folder","暂无数据":"No Data","全部配置":"All Options","配置名":"Name","选择":"Select","暂无配置":"No Option","确定删除此配置吗？":"Sure to delete this Option?","其它":"Other","语言":"Language","颜色":"Color","背景色":"Background","前景色":"Foreground","文本":"Text","字体":"Font","字号":"Size","光标":"Cursor","样式":"Style","闪烁":"Blink","标签":"Tab","确定删除吗？":"Sure to delete?","年":"/","月":"/","日，":" ","终端代码":"Terminal Code","什么是终端代码？":"What\'s Terminal Code?","终端代码是用于访问和执行特定操作流程的快捷方式":"Terminal Code is the shortcut to access and execute specific action process","输入":"Input","并按下回车以查看更多信息":"and Enter to show more details","并按下回车以自定义工作流":"and Enter to customize workflow","输入目录路径":"Input Directory Path","刷新":"Refresh","打开":"Open","复制路径":"Copy Path","解压":"Decompress","下载":"Download","重命名":"Rename","确定删除此文件吗？":"Sure to delete this File?","开始上传":"Start uploading","文件上传失败":"File upload failed","文件夹上传失败":"Folder upload failed","暂无文件":"No File","修改保存中":"Saving modification","文件后台保存中":"Saving file in the backend","读取":"Read","写入":"Write","执行":"Execute","所有者":"Owner","所属组":"Group","其他用户":"Others","应用到子目录和文件":"Apply to sub directories and files","终端代码必须以F，S，U开头":"Terminal Code must start with F,S,U","编码":"Encode","模式":"Mode","缩进":"Indent","复制":"Copy","新窗口打开":"Open in new window","开始录制":"Start Record","录制中":"Recording","录像链接已复制":"Record Link Copied","协作链接已复制":"Cooperate Link Copied","多端同步链接已复制":"Devices Sync Link Copied","多端同步":"Devices Sync","云端文件过多":"Too many Cloud Files","云端同步失败":"Cloud Sync Failed","确定从云端覆盖本地数据吗？":"Sure to overwrite local data from Cloud?","启用编辑":"Enable Editing","最大容量":"Max Capacity","是":"Yes","否":"No","协作Key生成失败":"Cooperate Key Generate Failed","确定结束此次协作吗？":"Sure to end this Cooperation?","概览":"Overview","核心":"Core","负载":"Load","CPU使用率":"CPU Usage","内存使用率":"Memory Usage","运行流畅":"Run Fluently","运行缓慢":"Run Slowly","运行堵塞":"Run Blocked","Top进程":"Top Process","网络":"NetWork","磁盘":"Disk","上行":"Up","下行":"Down","读":"Read","写":"Write","部署":"Deploy","容器":"Container","镜像":"Image","数据卷":"Volume","名称":"Name","状态":"Status","端口":"Port","仓库":"Repository","创建时间":"Create Time","网关":"Gateway","挂载点":"Mount Point","安装":"Install","授权":"Authorization","选择批量操作":"Select Batch Operation","启动容器":"Start Container","停止容器":"Pause Container","重启容器":"Restart Container","删除容器":"Delete Container","删除镜像":"Delete Image","删除网络":"Delete NetWork","删除数据卷":"Delete Volume","Docker未安装？":"Docker is not installed?","Docker权限不足？":"Docker permission denied?","确定进行此操作吗？":"Sure to do this operation?","高级-协作":"Advanced-Cooperate","高级-监控":"Advanced-Monitor","高级-Docker":"Advanced-Docker","Docker应用商店":"Docker AppStore","获取":"Get","返回":"Return","容器名称":"Container Name","端口映射":"Port Mapping","环境变量":"Environment Var","数据卷挂载":"Volume Mounting","其它命令选项":"Other Cmd Options","镜像名称":"Image Name","版本号":"Version","每行一个，主机端口:容器端口":"One per line, host-port:container-port","每行一个，环境变量名=值":"One per line, env-variable-name=value","每行一个，主机路径:容器路径":"One per line, host-path:container-path","每行一个，-命令选项 值":"One per line, -command-option value","开始安装":"Start Install","开始部署":"Start Deploy","搜索应用":"Search Apps","暂无应用":"No App","全部":"All","实用工具":"Tool","开发&运维":"DevOps","个人建站":"Website","数据库":"Database","网盘存储":"Storage","指定任意镜像进行应用部署":"Specify any image for application deployment","kkTerminal是一个强大的Web SSH连接终端":"kkTerminal is a powerful terminal for Web SSH connection"}');const Me=(0,Pe.o)({locale:"en",fallbackLocale:"zh",messages:{en:Le},missing:(e,l)=>l});Me.global.k=e=>e;var je=Me;let Be=null;const qe=e=>{e.headers={"X-Accept-Language":je.global.locale,"X-Cookie":Be,...e.headers};const l=e.success;return e.success=(e,t,a)=>{Be=a.getResponseHeader("X-Set-Cookie")||Be,l&&l(e,t,a)},Ke().ajax(e)},Ge=()=>{Ke().ajaxSetup({cache:!1,processData:!0,xhrFields:{withCredentials:!0},statusCode:{401(){return(0,Ee.z8)({message:je.global.t("会话已过期"),type:"warning",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER}),setTimeout((()=>{window.location.reload()}),1e3),!1}},dataFilter(e){return e=JSON.parse(e),e.data&&(e.data=JSON.parse(Ue(e.data,Ve.response()))),JSON.stringify(e)}})},Ye={server_ip:"",server_port:22,server_user:"root",server_password:"",server_key:null,authType:0,option:"",lang:"en",bg:"#0c0c0c",fg:"#cccccc",fontFamily:"Courier New",fontSize:16,cursorStyle:"block",cursorBlink:!0,tCode:!0,cloud:!0,advance:!0,transport:!0},Ze=window.location.protocol;let Je="ws://";"https:"===Ze&&(Je="wss://");const Xe=Je+window.location.host+"/api/socket/ssh/",Qe=Ze+"//"+window.location.host+"/api",el=e=>{let l="";for(let t=0;t<e.length;t++)"/"!==e[t]?l+=e[t]:l+="@";return l},ll=e=>{let l="";for(let t=0;t<e.length;t++)"@"!==e[t]?l+=e[t]:l+="-";return l},tl=e=>e.replace(/\+/g,"-").replace(/=/g,"@"),al=e=>e.replace(/-/g,"+").replace(/@/g,"="),ol=e=>{const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let a=0;a<e;a++){const e=Math.floor(Math.random()*l.length);t+=l[e]}return t},sl=/[ !"#$&'()*,:;<=>?@[\\\]^`{}~]/g,il=e=>e.replace(sl,(e=>"\\"+e)),nl=e=>il(e),rl=e=>{const l=e.sort(((e,l)=>{const t=e.name,a=l.name;return"."===t[0]&&"."!==a[0]?-1:"."!==t[0]&&"."===a[0]?1:t.localeCompare(a,void 0,{numeric:!0,sensitivity:"base"})}));for(let t=0;t<l.length;t++)l[t].index=t;return l},ul=e=>((0,o.dD)("data-v-649c4a39"),e=e(),(0,o.Cn)(),e),dl={class:"item-class",style:{"margin-bottom":"15px"}},cl={class:"no-select form-width nowrap"},pl=ul((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),ml={key:0},vl={key:1},gl={class:"item-class",style:{"margin-bottom":"15px"}},fl={class:"no-select form-width"},wl={class:"item-class",style:{"margin-bottom":"15px"}},yl={class:"no-select form-width"},hl={class:"item-class",style:{"margin-bottom":"15px"}},kl={class:"no-select form-width"},_l={class:"item-class",style:{"margin-bottom":"5px"}},bl={key:0,class:"item-class"},xl={key:1},Cl={class:"error-text no-select"},Dl=ul((()=>(0,o._)("div",{style:{"margin-bottom":"5px"}},null,-1))),Sl={style:{display:"flex","border-top":"1px solid #f1f2f4"}},zl=ul((()=>(0,o._)("div",{style:{flex:"1"}},null,-1)));function Wl(e,l,t,a,i,n){const r=(0,o.up)("ToolTip"),u=(0,o.up)("Switch"),d=(0,o.up)("el-icon"),c=(0,o.up)("el-button"),p=(0,o.up)("Finished"),m=(0,o.up)("Edit"),v=(0,o.up)("HomeFilled"),g=(0,o.up)("el-input"),f=(0,o.up)("DocumentCopy"),w=(0,o.up)("Paperclip"),y=(0,o.up)("User"),h=(0,o.up)("arrow-down"),k=(0,o.up)("el-dropdown-item"),_=(0,o.up)("el-dropdown-menu"),b=(0,o.up)("el-dropdown"),x=(0,o.up)("Lock"),C=(0,o.up)("View"),D=(0,o.up)("Hide"),S=(0,o.up)("Key"),z=(0,o.up)("el-checkbox"),W=(0,o.up)("el-dialog"),I=(0,o.up)("OptionBlock"),T=(0,o.up)("PrivateKey");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(W,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[14]||(l[14]=e=>a.DialogVisible=e),"destory-on-close":!0,"before-close":a.closeDialog,width:360,title:e.$t("连接设置"),modal:!1,"close-on-click-modal":!1,"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-6","align-center":"",draggable:""},{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o._)("div",dl,[(0,o._)("div",cl,(0,s.zw)(e.$t("配   置"))+(0,s.zw)(e.$t("：")),1),(0,o.Wm)(r,{content:a.setInfo.option&&a.setInfo.option.length>0?a.setInfo.option:e.$t("新建配置")},{content:(0,o.w5)((()=>[(0,o._)("div",{class:(0,s.C_)(["ellipsis",a.setInfo.option&&a.setInfo.option.length>0?"old-option":"new-option"]),style:{"user-select":"none"}},(0,s.zw)(a.setInfo.option&&a.setInfo.option.length>0?a.setInfo.option:e.$t("新建配置")),3)])),_:1},8,["content"]),pl,(0,o._)("div",null,[(0,o.Wm)(c,{size:"small",type:"primary",onClick:l[0]||(l[0]=e=>a.showOption(0)),style:{"margin-left":"10px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1}),(0,o.Uk)(" "+(0,s.zw)(e.$t("切换")),1)])),_:1})]),a.isForbidInput?((0,o.wg)(),(0,o.iD)("div",vl,[(0,o.Wm)(c,{size:"small",type:"primary",onClick:a.newOp,style:{"margin-left":"10px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(m)])),_:1}),(0,o.Uk)(" "+(0,s.zw)(e.$t("新建")),1)])),_:1},8,["onClick"])])):((0,o.wg)(),(0,o.iD)("div",ml,[(0,o.Wm)(c,{size:"small",type:"primary",onClick:l[1]||(l[1]=e=>a.showOption(1)),style:{"margin-left":"10px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1}),(0,o.Uk)(" "+(0,s.zw)(e.$t("保存")),1)])),_:1})]))]),(0,o._)("div",gl,[(0,o._)("div",fl,(0,s.zw)(e.$t("主机IP"))+(0,s.zw)(e.$t("：")),1),(0,o._)("div",null,[(0,o.Wm)(g,{disabled:a.isForbidInput,modelValue:a.setInfo.server_ip,"onUpdate:modelValue":l[2]||(l[2]=e=>a.setInfo.server_ip=e),class:"w-50 m-2",placeholder:e.$t("输入主机IP")},{prefix:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"el-input__icon"},{default:(0,o.w5)((()=>[(0,o.Wm)(v)])),_:1})])),_:1},8,["disabled","modelValue","placeholder"])]),(0,o.Wm)(d,{class:"operator-class",onClick:l[3]||(l[3]=e=>a.doCopy(a.setInfo.server_ip)),size:"15"},{default:(0,o.w5)((()=>[(0,o.Wm)(f)])),_:1})]),(0,o._)("div",wl,[(0,o._)("div",yl,(0,s.zw)(e.$t("端口号"))+(0,s.zw)(e.$t("：")),1),(0,o._)("div",null,[(0,o.Wm)(g,{disabled:a.isForbidInput,modelValue:a.setInfo.server_port,"onUpdate:modelValue":l[4]||(l[4]=e=>a.setInfo.server_port=e),class:"w-50 m-2",placeholder:e.$t("输入端口号")},{prefix:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"el-input__icon"},{default:(0,o.w5)((()=>[(0,o.Wm)(w)])),_:1})])),_:1},8,["disabled","modelValue","placeholder"])]),(0,o.Wm)(d,{class:"operator-class",onClick:l[5]||(l[5]=e=>a.doCopy(a.setInfo.server_port)),size:"15"},{default:(0,o.w5)((()=>[(0,o.Wm)(f)])),_:1})]),(0,o._)("div",hl,[(0,o._)("div",kl,(0,s.zw)(e.$t("用户名"))+(0,s.zw)(e.$t("：")),1),(0,o._)("div",null,[(0,o.Wm)(g,{disabled:a.isForbidInput,modelValue:a.setInfo.server_user,"onUpdate:modelValue":l[6]||(l[6]=e=>a.setInfo.server_user=e),class:"w-50 m-2",placeholder:e.$t("输入用户名")},{prefix:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"el-input__icon"},{default:(0,o.w5)((()=>[(0,o.Wm)(y)])),_:1})])),_:1},8,["disabled","modelValue","placeholder"])]),(0,o.Wm)(d,{class:"operator-class",onClick:l[7]||(l[7]=e=>a.doCopy(a.setInfo.server_user)),size:"15"},{default:(0,o.w5)((()=>[(0,o.Wm)(f)])),_:1})]),(0,o._)("div",_l,[(0,o.Wm)(b,{disabled:a.isForbidInput,class:"no-select form-width","hide-timeout":"300"},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[(0,o.Wm)(k,{class:"no-select",onClick:l[8]||(l[8]=e=>a.switchAuthType(0))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("密码")),1)])),_:1}),(0,o.Wm)(k,{class:"no-select",onClick:l[9]||(l[9]=e=>a.switchAuthType(1))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("私钥")),1)])),_:1})])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",null,[(0,o.Uk)((0,s.zw)(0===a.setInfo.authType?e.$t("密码"):e.$t("私钥"))+" ",1),(0,o.Wm)(d,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{style:{cursor:"pointer"}})])),_:1})])])),_:1},8,["disabled"]),0===a.setInfo.authType?((0,o.wg)(),(0,o.iD)("div",bl,[(0,o._)("div",null,[(0,o.Wm)(g,{disabled:a.isForbidInput,modelValue:a.setInfo.server_password,"onUpdate:modelValue":l[10]||(l[10]=e=>a.setInfo.server_password=e),type:a.isShowPassword?"text":"password",class:"w-50 m-2",placeholder:e.$t("输入密码")},{prefix:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"el-input__icon"},{default:(0,o.w5)((()=>[(0,o.Wm)(x)])),_:1})])),_:1},8,["disabled","modelValue","type","placeholder"])]),a.isShowPassword?((0,o.wg)(),(0,o.j4)(d,{key:0,class:"operator-class",onClick:l[11]||(l[11]=e=>a.isShowPassword=!1),size:"15"},{default:(0,o.w5)((()=>[(0,o.Wm)(C)])),_:1})):((0,o.wg)(),(0,o.j4)(d,{key:1,class:"operator-class",onClick:l[12]||(l[12]=e=>a.isShowPassword=!0),size:"15"},{default:(0,o.w5)((()=>[(0,o.Wm)(D)])),_:1}))])):((0,o.wg)(),(0,o.iD)("div",xl,[(0,o.Wm)(c,{disabled:a.isForbidInput,type:"primary",onClick:a.openPrivateKeyBlock},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(S)])),_:1}),(0,o.Uk)((0,s.zw)(e.$t("导入")),1)])),_:1},8,["disabled","onClick"])]))])]),(0,o._)("div",Cl,(0,s.zw)(e.$t(a.err_msg)),1),Dl,(0,o._)("div",Sl,[a.setInfo.option&&a.setInfo.option.length>0?((0,o.wg)(),(0,o.j4)(z,{key:0,modelValue:a.isNewWindow,"onUpdate:modelValue":l[13]||(l[13]=e=>a.isNewWindow=e),label:e.$t("新窗口打开"),size:"small",style:{"margin-top":"10px"}},null,8,["modelValue","label"])):(0,o.kq)("",!0),zl,(0,o.Wm)(c,{size:"small",type:"primary",onClick:a.confirm,style:{"margin-top":"10px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])),_:1},8,["modelValue","before-close","title"]),(0,o.Wm)(I,{ref:"optionBlockRef",onCallback:a.doOption,opType:a.optionBlockType,sshOptions:t.sshOptions,onHandleDeleteOption:a.handleDeleteOption},null,8,["onCallback","opType","sshOptions","onHandleDeleteOption"]),(0,o.Wm)(T,{ref:"privateKeyRef",onCallback:a.savePrivateKey},null,8,["onCallback"])],64)}const Il=e=>((0,o.dD)("data-v-6540275a"),e=e(),(0,o.Cn)(),e),Tl={class:"no-select"},$l={key:0,class:"container"},Vl=["onClick"],Fl={class:"ellipsis",style:{margin:"0 10px","line-height":"18px"}},Ul=Il((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),Rl={key:1,class:"container"},El={class:"kk-flex"},Nl={style:{"min-width":"48px","max-width":"56px"}},Hl={style:{flex:"1"}},Ol={style:{"margin-left":"10px"}};function Al(e,l,t,a,n,r){const u=(0,o.up)("FileIcons"),d=(0,o.up)("CircleClose"),c=(0,o.up)("el-icon"),p=(0,o.up)("NoData"),m=(0,o.up)("el-input"),v=(0,o.up)("el-button"),g=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.j4)(g,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[1]||(l[1]=e=>a.DialogVisible=e),"before-close":a.closeDialog,"destroy-on-close":"",width:420,modal:!1,title:e.$t("全部配置"),"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-6",draggable:""},{default:(0,o.w5)((()=>[(0,o._)("div",Tl,[Object.keys(t.sshOptions).length>0?((0,o.wg)(),(0,o.iD)("div",$l,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.sshOptions,((e,l)=>((0,o.wg)(),(0,o.iD)("div",{key:l},[(0,o._)("div",{class:(0,s.C_)(["item-class",a.aimOption===l?"item-selected":""]),onClick:e=>a.aimOption=l},[(0,o.Wm)(u,{style:{display:"flex",alignItems:"center"},name:"kk.ini",width:20,height:20,isFolder:!1}),(0,o._)("div",Fl,(0,s.zw)(l),1),Ul,(0,o.Wm)(c,{onClick:e=>a.confirmDeleteOption(l)},{default:(0,o.w5)((()=>[(0,o.Wm)(d)])),_:2},1032,["onClick"])],10,Vl)])))),128))])):((0,o.wg)(),(0,o.iD)("div",Rl,[(0,o.Wm)(p,{msg:a.i18n.global.k("暂无配置")},null,8,["msg"])])),(0,o._)("div",El,[(0,o._)("div",Nl,(0,s.zw)(e.$t("配置名"))+(0,s.zw)(e.$t("：")),1),(0,o._)("div",Hl,[(0,o.Wm)(m,{size:"small",modelValue:a.aimOption,"onUpdate:modelValue":l[0]||(l[0]=e=>a.aimOption=e),disabled:0===t.opType,onKeydown:(0,i.D2)(a.confirm,["enter"]),class:"w-50 m-2",placeholder:""},null,8,["modelValue","disabled","onKeydown"])]),(0,o._)("div",Ol,[(0,o.Wm)(v,{size:"small",type:"primary",onClick:a.confirm},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(t.opType?e.$t("保存"):e.$t("选择")),1)])),_:1},8,["onClick"])])])])])),_:1},8,["modelValue","before-close","title"])}var Kl=t(2748),Pl=t(6e3);const Ll=(e,l,t)=>Pl.T.alert(l||je.global.t("确定删除吗？"),e||je.global.t("提示"),{autofocus:!1,customStyle:"font-size: 13px; color: black; width: 265px; user-select: none;",cancelButtonText:je.global.t("取消"),confirmButtonText:je.global.t("确定"),showCancelButton:!0,showConfirmButton:!0,cancelButtonClass:"el-button is-text",confirmButtonClass:"el-button--danger",buttonSize:"small",icon:Kl.Ruj,type:"warning",callback:e=>{"confirm"===e&&t()}});var Ml=t.p+"img/no_data.ec5c928e.png";const jl=e=>((0,o.dD)("data-v-1559b562"),e=e(),(0,o.Cn)(),e),Bl=jl((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),ql={style:{display:"flex","align-items":"center"}},Gl=["alt"],Yl={class:"msg"},Zl=jl((()=>(0,o._)("div",{style:{flex:"1"}},null,-1)));function Jl(e,l,t,a,i,n){return(0,o.wg)(),(0,o.iD)("div",{class:"no-data",style:(0,s.j5)(a.viewStyle)},[Bl,(0,o.WI)(e.$slots,"mySlot",{},void 0,!0),(0,o._)("div",ql,[(0,o._)("div",null,[(0,o._)("img",{src:Ml,alt:e.$t("暂无数据"),style:{width:"120px"}},null,8,Gl)])]),(0,o._)("div",Yl,(0,s.zw)(e.$t(t.msg)),1),Zl],4)}var Xl={name:"NoData",props:{msg:{type:String,required:!1,default:je.global.k("暂无数据")},width:{type:String,required:!1},height:{type:String,required:!1},minHeight:{type:String,required:!1}},setup(e){const l=(0,o.Fl)((()=>({width:e.width?e.width:"100%",height:e.height?e.height:"100%",minHeight:e.minHeight?e.minHeight:""})));return{viewStyle:l}}},Ql=t(89);const et=(0,Ql.Z)(Xl,[["render",Jl],["__scopeId","data-v-1559b562"]]);var lt=et,tt=t(3223),at=t.n(tt),ot={name:"OptionBlock",components:{FileIcons:at(),NoData:lt,CircleClose:Kl.K41},props:["opType","sshOptions"],setup(e,l){const t=(0,Se.iH)(!1),a=(0,Se.iH)(""),o=()=>{a.value.trim()&&(l.emit("callback",a.value.trim()),u())},s=(0,Se.iH)(""),i=e=>{s.value=e,Ll(je.global.t("提示"),je.global.t("确定删除此配置吗？"),n)},n=()=>{l.emit("handleDeleteOption",s.value),(0,Ee.z8)({message:je.global.t("删除成功"),type:"success",grouping:!0}),a.value===s.value&&(a.value="")},r=()=>{a.value="",s.value="",t.value=!1},u=e=>{setTimeout((()=>{r()}),400),t.value=!1,e&&e()};return{i18n:je,DialogVisible:t,aimOption:a,confirm:o,confirmDeleteOption:i,doDeleteOption:n,reset:r,closeDialog:u}}};const st=(0,Ql.Z)(ot,[["render",Al],["__scopeId","data-v-6540275a"]]);var it=st;const nt={class:"no-select"},rt={class:"kk-flex"},ut={class:"form-width"},dt={key:0,class:"error-text no-select"},ct={key:1,style:{height:"7px"}},pt={class:"kk-flex"},mt={class:"form-width"},vt={style:{flex:"1"}},gt={style:{"margin-left":"10px"}};function ft(e,l,t,a,n,r){const u=(0,o.up)("Lock"),d=(0,o.up)("el-icon"),c=(0,o.up)("el-button"),p=(0,o.up)("el-upload"),m=(0,o.up)("Key"),v=(0,o.up)("el-input"),g=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.j4)(g,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[1]||(l[1]=e=>a.DialogVisible=e),"before-close":a.closeDialog,width:320,modal:!1,title:e.$t("导入私钥"),"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-0",draggable:""},{default:(0,o.w5)((()=>[(0,o._)("div",nt,[(0,o._)("div",rt,[(0,o._)("div",ut,(0,s.zw)(e.$t("私钥"))+(0,s.zw)(e.$t("：")),1),(0,o.Wm)(p,{"show-file-list":!1,"with-credentials":!0,"http-request":a.readPrivateKeyContent,multiple:!1},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{size:"small",type:"primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1}),(0,o.Uk)((0,s.zw)(e.$t("选择")),1)])),_:1})])),_:1},8,["http-request"])]),a.err_msg&&a.err_msg.length>0?((0,o.wg)(),(0,o.iD)("div",dt,(0,s.zw)(a.err_msg),1)):((0,o.wg)(),(0,o.iD)("div",ct)),(0,o._)("div",pt,[(0,o._)("div",mt,(0,s.zw)(e.$t("密码"))+(0,s.zw)(e.$t("：")),1),(0,o._)("div",vt,[(0,o.Wm)(v,{size:"small",modelValue:a.passphrase,"onUpdate:modelValue":l[0]||(l[0]=e=>a.passphrase=e),onKeydown:(0,i.D2)(a.confirm,["enter"]),class:"w-50 m-2",placeholder:e.$t("请输入私钥密码")},{prefix:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"el-input__icon"},{default:(0,o.w5)((()=>[(0,o.Wm)(m)])),_:1})])),_:1},8,["modelValue","onKeydown","placeholder"])]),(0,o._)("div",gt,[(0,o.Wm)(c,{size:"small",type:"primary",onClick:a.confirm},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])])])),_:1},8,["modelValue","before-close","title"])}var wt={name:"PrivateKey",components:{Lock:Kl.HEZ,Key:Kl.srI},setup(e,l){const t=(0,Se.iH)(!1),a=(0,Se.iH)(""),o=(0,Se.iH)(""),s=(0,Se.iH)(""),i=()=>{l.emit("callback",o.value,s.value),u()},n=e=>{const l=new FileReader;l.onload=()=>{l.result.length>1048576?(0,Ee.z8)({message:je.global.t("内容过长"),type:"warning",grouping:!0}):(o.value=l.result,(0,Ee.z8)({message:je.global.t("读取成功"),type:"success",grouping:!0}))},l.onerror=()=>{(0,Ee.z8)({message:je.global.t("读取失败"),type:"error",grouping:!0})},l.readAsText(e.file)},r=()=>{a.value="",o.value="",s.value="",t.value=!1},u=e=>{setTimeout((()=>{r()}),400),t.value=!1,e&&e()};return{DialogVisible:t,err_msg:a,content:o,passphrase:s,readPrivateKeyContent:n,confirm:i,closeDialog:u,reset:r}}};const yt=(0,Ql.Z)(wt,[["render",ft],["__scopeId","data-v-88f6dc06"]]);var ht=yt;const kt={ref:"toolTipContentRef",class:"tooltip-content"};function _t(e,l,t,a,s,i){const n=(0,o.up)("el-tooltip");return(0,o.wg)(),(0,o.j4)(n,{"popper-class":"no-select",content:t.content,disabled:!(t.isShow&&a.isShowTooltip),"show-after":t.delay,placement:"top"},{default:(0,o.w5)((()=>[(0,o._)("div",kt,[(0,o.WI)(e.$slots,"content",{},void 0,!0)],512)])),_:3},8,["content","disabled","show-after"])}var bt={name:"ToolTip",props:{content:{type:String,required:!0,default:""},delay:{type:Number,required:!1,default:200},isShow:{type:Boolean,required:!1,default:!0}},setup(){const e=(0,Se.iH)(null),l=(0,Se.iH)(!1),t=()=>{setTimeout((()=>{e.value&&e.value.firstElementChild?l.value=e.value.firstElementChild.scrollWidth>e.value.firstElementChild.offsetWidth:l.value=!1}),1)};let a=null;const s=()=>{e.value&&(a=new ResizeObserver((()=>{t()})),a.observe(e.value))};return(0,o.bv)((()=>{t(),s()})),(0,o.Jd)((()=>{a&&e.value&&(a.unobserve(e.value),a.disconnect())})),{toolTipContentRef:e,isShowTooltip:l,checkOverflow:t}}};const xt=(0,Ql.Z)(bt,[["render",_t],["__scopeId","data-v-663ae15c"]]);var Ct=xt;const Dt=e=>{const l=e||window.location.href,t=zt(l)[1],a=new URLSearchParams(t).entries(),o={};for(const[s,i]of a)o[s]=i;return o},St=e=>{const l=e||window.location.href;return zt(l)[0]},zt=e=>{const l=e||window.location.href;return l.split("?")},Wt=(e,l)=>{const t=document.createElement("a");t.href=e,l&&(t.download=l),document.body.appendChild(t),t.click(),document.body.removeChild(t)},It="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",Tt=`(${It}[.]){3}${It}`,$t=new RegExp(`^${Tt}$`),Vt="(?:[0-9a-fA-F]{1,4})",Ft=new RegExp(`^((?:${Vt}:){7}(?:${Vt}|:)|(?:${Vt}:){6}(?:${Tt}|:${Vt}|:)|(?:${Vt}:){5}(?::${Tt}|(:${Vt}){1,2}|:)|(?:${Vt}:){4}(?:(:${Vt}){0,1}:${Tt}|(:${Vt}){1,3}|:)|(?:${Vt}:){3}(?:(:${Vt}){0,2}:${Tt}|(:${Vt}){1,4}|:)|(?:${Vt}:){2}(?:(:${Vt}){0,3}:${Tt}|(:${Vt}){1,5}|:)|(?:${Vt}:){1}(?:(:${Vt}){0,4}:${Tt}|(:${Vt}){1,6}|:)|(?::((?::${Vt}){0,5}:${Tt}|(?::${Vt}){1,7}|:)))(%[0-9a-zA-Z.]{1,})?$`),Ut=(e,l={})=>{const t="object"===typeof l?l.version:"";return t?"4"===t.toString()?$t.test(e):"6"===t.toString()&&Ft.test(e):Ut(e,{version:4})||Ut(e,{version:6})},Rt={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1},Et=e=>{Rt.allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),!0===Rt.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));const l=e.split("."),t=l[l.length-1];if(Rt.require_tld){if(l.length<2)return!1;if(!Rt.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(t))return!1;if(/\s/.test(t))return!1}return!(!Rt.allow_numeric_tld&&/^\d+$/.test(t))&&l.every((e=>!(e.length>63&&!Rt.ignore_max_length)&&(!!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)&&(!/[\uff01-\uff5e]/.test(e)&&(!/^-|-$/.test(e)&&!(!Rt.allow_underscores&&/_/.test(e)))))))};var Nt={name:"ConnectSetting",components:{ToolTip:Ct,OptionBlock:it,PrivateKey:ht,HomeFilled:Kl.Ozs,Paperclip:Kl.pkz,User:Kl.n5m,Lock:Kl.HEZ,DocumentCopy:Kl.IBc,View:Kl.G7x,Hide:Kl.caK,Edit:Kl.I8b,Finished:Kl.qWi,Switch:Kl.rsf,ArrowDown:Kl.K5e,Key:Kl.srI},props:["env","sshOptions"],setup(e,l){const t=(0,Se.iH)(!1),a=(0,Se.iH)(""),o=(0,Se.iH)(!1),s=(0,Se.iH)({server_ip:e.env.server_ip,server_port:e.env.server_port,server_user:e.env.server_user,server_password:e.env.server_password,server_key:e.env.server_key||null,authType:e.env.authType||0,option:e.env.option}),i=()=>(a.value="",Ut(s.value.server_ip)||Et(s.value.server_ip)?isNaN(s.value.server_port)||s.value.server_port<0||s.value.server_port>65535?(a.value=je.global.k("端口号无效"),!1):s.value.server_user?0!==s.value.authType||s.value.server_password?!!(1!==s.value.authType||s.value.server_key&&s.value.server_key.content)||(a.value=je.global.k("私钥不能为空"),!1):(a.value=je.global.k("密码不能为空"),!1):(a.value=je.global.k("用户名不能为空"),!1):(a.value=je.global.k("主机IP地址无效"),!1)),n=(0,Se.iH)(),r=(0,Se.iH)(0),u=e=>{(1!==e||i())&&(r.value=e,n.value.aimOption="",n.value.DialogVisible=!0)},d=(0,Se.iH)(!1);s.value.option&&(d.value=!0);const c=t=>{0===r.value?(e.sshOptions[t].authType||(s.value.authType=0),s.value={...s.value,...e.sshOptions[t]},d.value=!0,a.value=""):1===r.value&&(s.value.option=t,l.emit("saveOp",t,s.value),d.value=!0)},p=()=>{d.value=!1,s.value.option=""},m=e=>{l.emit("deleteOp",e),s.value.option&&s.value.option===e&&(s.value.option="",d.value=!1)},v=(0,Se.iH)(),g=()=>{v.value.content=s.value.server_key?s.value.server_key.content:"",v.value.passphrase=s.value.server_key?s.value.server_key.passphrase:"",v.value.DialogVisible=!0},f=(e,l)=>{s.value.server_key={content:e,passphrase:l}},w=e=>{s.value.authType=e,0===e&&v.value.closeDialog()},y=()=>{i()&&(o.value&&s.value.option&&s.value.option.length>0?window.open(St()+"?option="+s.value.option,"_blank"):(l.emit("callback",s.value),x()))},{toClipboard:h}=(0,De.Z)(),k=async e=>{e=e.toString(),e&&e.length>0?(await h(e),(0,Ee.z8)({message:je.global.t("复制成功"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})):(0,Ee.z8)({message:je.global.t("内容为空"),type:"warning",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})},_=(0,Se.iH)(!1),b=()=>{a.value="",o.value=!1,_.value=!1,s.value={server_ip:e.env.server_ip,server_port:e.env.server_port,server_user:e.env.server_user,server_password:e.env.server_password,server_key:e.env.server_key||null,authType:e.env.authType||0,option:e.env.option},s.value.option?d.value=!0:d.value=!1,t.value=!1},x=e=>{n.value&&n.value.DialogVisible&&n.value.closeDialog(),v.value&&v.value.DialogVisible&&v.value.closeDialog(),setTimeout((()=>{b()}),400),t.value=!1,e&&e()};return{setInfo:s,DialogVisible:t,err_msg:a,isNewWindow:o,confirm:y,optionBlockRef:n,showOption:u,optionBlockType:r,doOption:c,isForbidInput:d,newOp:p,handleDeleteOption:m,reset:b,closeDialog:x,doCopy:k,isShowPassword:_,privateKeyRef:v,openPrivateKeyBlock:g,savePrivateKey:f,switchAuthType:w}}};const Ht=(0,Ql.Z)(Nt,[["render",Wl],["__scopeId","data-v-649c4a39"]]);var Ot=Ht;const At=e=>((0,o.dD)("data-v-4a6c07e0"),e=e(),(0,o.Cn)(),e),Kt={class:"no-select"},Pt={class:"kk-flex item-class"},Lt={class:"form-width"},Mt={class:"kk-flex"},jt={style:{margin:"0 20px"}},Bt=At((()=>(0,o._)("div",{style:{width:"20px"}},null,-1))),qt={class:"kk-flex"},Gt={style:{margin:"0 20px"}},Yt={class:"kk-flex item-class"},Zt={class:"form-width"},Jt={class:"kk-flex"},Xt={class:"a-link no-select"},Qt={class:"kk-flex"},ea={class:"a-link no-select"},la={class:"kk-flex item-class"},ta={class:"form-width"},aa={class:"kk-flex"},oa={class:"a-link no-select"},sa=At((()=>(0,o._)("div",{style:{width:"15px"}},null,-1))),ia={class:"kk-flex"},na={style:{margin:"0 20px"}},ra={class:"kk-flex item-class"},ua={class:"form-width"},da={class:"kk-flex"},ca={class:"form-width-item1"},pa={class:"func-switch"},ma={class:"kk-flex"},va={class:"form-width-item2"},ga={class:"func-switch"},fa={class:"kk-flex item-class"},wa=At((()=>(0,o._)("div",{class:"form-width"},null,-1))),ya={class:"kk-flex"},ha={class:"form-width-item1"},ka={class:"func-switch"},_a={class:"kk-flex"},ba={class:"form-width-item2"},xa={class:"func-switch"},Ca={class:"kk-flex item-class"},Da={class:"form-width"},Sa={class:"kk-flex"},za={class:"a-link no-select"},Wa=At((()=>(0,o._)("div",{style:{"margin-bottom":"5px"}},null,-1))),Ia={style:{display:"flex","border-top":"1px solid #f1f2f4"}},Ta=At((()=>(0,o._)("div",{style:{flex:"1"}},null,-1)));function $a(e,l,t,a,i,n){const r=(0,o.up)("el-color-picker"),u=(0,o.up)("arrow-down"),d=(0,o.up)("el-icon"),c=(0,o.up)("el-dropdown-item"),p=(0,o.up)("el-dropdown-menu"),m=(0,o.up)("el-dropdown"),v=(0,o.up)("el-switch"),g=(0,o.up)("el-button"),f=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.j4)(f,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[7]||(l[7]=e=>a.DialogVisible=e),"destroy-on-close":"",width:e.$t("400"),title:e.$t("偏好设置"),modal:!1,"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-6","before-close":a.closeDialog,draggable:""},{default:(0,o.w5)((()=>[(0,o._)("div",Kt,[(0,o._)("div",Pt,[(0,o._)("div",Lt,(0,s.zw)(e.$t("颜色"))+(0,s.zw)(e.$t("：")),1),(0,o._)("div",Mt,[(0,o._)("div",null,(0,s.zw)(e.$t("背景色")),1),(0,o._)("div",jt,[(0,o.Wm)(r,{modelValue:a.setInfo.bg,"onUpdate:modelValue":l[0]||(l[0]=e=>a.setInfo.bg=e)},null,8,["modelValue"])])]),Bt,(0,o._)("div",qt,[(0,o._)("div",null,(0,s.zw)(e.$t("前景色")),1),(0,o._)("div",Gt,[(0,o.Wm)(r,{modelValue:a.setInfo.fg,"onUpdate:modelValue":l[1]||(l[1]=e=>a.setInfo.fg=e)},null,8,["modelValue"])])])]),(0,o._)("div",Yt,[(0,o._)("div",Zt,(0,s.zw)(e.$t("文本"))+(0,s.zw)(e.$t("：")),1),(0,o._)("div",Jt,[(0,o._)("div",null,(0,s.zw)(e.$t("字体")),1),(0,o.Wm)(m,{style:{margin:"0 20px"},"hide-timeout":"300"},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.fontFamilyList,((e,l)=>((0,o.wg)(),(0,o.j4)(c,{key:l,class:"no-select",onClick:l=>a.setInfo.fontFamily=e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",Xt,[(0,o.Uk)((0,s.zw)(a.setInfo.fontFamily),1),(0,o.Wm)(d,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1})])])),_:1})]),(0,o._)("div",Qt,[(0,o._)("div",null,(0,s.zw)(e.$t("字号")),1),(0,o.Wm)(m,{style:{margin:"0 20px"},"hide-timeout":"300"},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.fontSizeList,((e,l)=>((0,o.wg)(),(0,o.j4)(c,{key:l,class:"no-select",onClick:l=>a.setInfo.fontSize=e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",ea,[(0,o.Uk)((0,s.zw)(a.setInfo.fontSize),1),(0,o.Wm)(d,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1})])])),_:1})])]),(0,o._)("div",la,[(0,o._)("div",ta,(0,s.zw)(e.$t("光标"))+(0,s.zw)(e.$t("：")),1),(0,o._)("div",aa,[(0,o._)("div",null,(0,s.zw)(e.$t("样式")),1),(0,o.Wm)(m,{style:{margin:"0 20px"},"hide-timeout":"300"},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.cursorStyleList,((e,l)=>((0,o.wg)(),(0,o.j4)(c,{key:l,class:"no-select",onClick:l=>a.setInfo.cursorStyle=e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",oa,[(0,o.Uk)((0,s.zw)(a.setInfo.cursorStyle),1),(0,o.Wm)(d,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1})])])),_:1})]),sa,(0,o._)("div",ia,[(0,o._)("div",null,(0,s.zw)(e.$t("闪烁")),1),(0,o._)("div",na,[(0,o.Wm)(v,{modelValue:a.setInfo.cursorBlink,"onUpdate:modelValue":l[2]||(l[2]=e=>a.setInfo.cursorBlink=e)},null,8,["modelValue"])])])]),(0,o._)("div",ra,[(0,o._)("div",ua,(0,s.zw)(e.$t("标签"))+(0,s.zw)(e.$t("：")),1),(0,o._)("div",da,[(0,o._)("div",ca,(0,s.zw)(e.$t("终端代码")),1),(0,o._)("div",pa,[(0,o.Wm)(v,{modelValue:a.setInfo.tCode,"onUpdate:modelValue":l[3]||(l[3]=e=>a.setInfo.tCode=e)},null,8,["modelValue"])])]),(0,o._)("div",ma,[(0,o._)("div",va,(0,s.zw)(e.$t("多端同步")),1),(0,o._)("div",ga,[(0,o.Wm)(v,{modelValue:a.setInfo.cloud,"onUpdate:modelValue":l[4]||(l[4]=e=>a.setInfo.cloud=e)},null,8,["modelValue"])])])]),(0,o._)("div",fa,[wa,(0,o._)("div",ya,[(0,o._)("div",ha,(0,s.zw)(e.$t("高级功能")),1),(0,o._)("div",ka,[(0,o.Wm)(v,{modelValue:a.setInfo.advance,"onUpdate:modelValue":l[5]||(l[5]=e=>a.setInfo.advance=e)},null,8,["modelValue"])])]),(0,o._)("div",_a,[(0,o._)("div",ba,(0,s.zw)(e.$t("传输列表")),1),(0,o._)("div",xa,[(0,o.Wm)(v,{modelValue:a.setInfo.transport,"onUpdate:modelValue":l[6]||(l[6]=e=>a.setInfo.transport=e)},null,8,["modelValue"])])])]),(0,o._)("div",Ca,[(0,o._)("div",Da,(0,s.zw)(e.$t("其它"))+(0,s.zw)(e.$t("：")),1),(0,o._)("div",Sa,[(0,o._)("div",null,(0,s.zw)(e.$t("语言")),1),(0,o.Wm)(m,{style:{margin:"0 20px"},"hide-timeout":"300"},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.langList,((e,l)=>((0,o.wg)(),(0,o.j4)(c,{key:l,class:"no-select",onClick:l=>a.setInfo.lang=e.value},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.label),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",za,[(0,o.Uk)((0,s.zw)(a.mapValueToLabel(a.setInfo.lang)),1),(0,o.Wm)(d,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1})])])),_:1})])])]),Wa,(0,o._)("div",Ia,[Ta,(0,o.Wm)(g,{size:"small",type:"primary",onClick:a.confirm,style:{"margin-top":"10px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])),_:1},8,["modelValue","width","title","before-close"])}var Va={name:"PreferenceSetting",components:{ArrowDown:Kl.K5e},props:["env","os"],setup(e,l){const t=(0,Se.iH)(!1),a=[{label:"English",value:"en"},{label:je.global.k("简体中文"),value:"zh"}],s=e=>{const l=a.find((l=>l.value===e));return l?l.label:"English"},i=(0,o.Fl)((()=>"Windows"===e.os?["Courier New","Consolas","Monospace","Lucida Console"]:"Mac"===e.os||"iOS"===e.os?["Courier New","Menlo","Monaco","Courier"]:["Courier New","Consolas","Monospace","Lucida Console"])),n=[12,14,16,18,20],r=["block","underline","bar"],u=(0,Se.iH)({lang:e.env.lang,bg:e.env.bg,fg:e.env.fg,fontFamily:e.env.fontFamily,fontSize:e.env.fontSize,cursorStyle:e.env.cursorStyle,cursorBlink:e.env.cursorBlink,tCode:e.env.tCode,cloud:e.env.cloud,advance:e.env.advance,transport:e.env.transport}),d=()=>{l.emit("callback",u.value),p()},c=()=>{u.value={lang:e.env.lang,bg:e.env.bg,fg:e.env.fg,fontFamily:e.env.fontFamily,fontSize:e.env.fontSize,cursorStyle:e.env.cursorStyle,cursorBlink:e.env.cursorBlink,tCode:e.env.tCode,cloud:e.env.cloud,advance:e.env.advance,transport:e.env.transport},t.value=!1},p=e=>{setTimeout((()=>{c()}),400),t.value=!1,e&&e()};return{langList:a,mapValueToLabel:s,fontFamilyList:i,fontSizeList:n,cursorStyleList:r,setInfo:u,DialogVisible:t,confirm:d,closeDialog:p}}};const Fa=(0,Ql.Z)(Va,[["render",$a],["__scopeId","data-v-4a6c07e0"]]);var Ua=Fa;const Ra=e=>((0,o.dD)("data-v-6c5561c2"),e=e(),(0,o.Cn)(),e),Ea={class:"title kk-flex ellipsis"},Na={class:"ellipsis",style:{flex:"1","line-height":"18px"}},Ha={key:0},Oa={class:"kk-flex"},Aa={class:"kk-flex"},Ka={class:"kk-flex"},Pa={class:"kk-flex"},La={class:"kk-flex"},Ma=Ra((()=>(0,o._)("div",null,"URL",-1))),ja=["element-loading-text"],Ba={key:0},qa=["onClick","onDblclick","onContextmenu"],Ga={key:0,style:{margin:"0 10px"}},Ya={key:0,class:"ellipsis",style:{margin:"0 10px","line-height":"18px"}},Za=["onClick","onDblclick","onContextmenu"],Ja={key:0,style:{margin:"0 10px"}},Xa={key:0,class:"ellipsis",style:{margin:"0 10px","line-height":"18px"}},Qa={key:1},eo=Ra((()=>(0,o._)("div",{style:{"margin-top":"-12px"}},null,-1)));function lo(e,l,t,a,n,r){const u=(0,o.up)("el-input"),d=(0,o.up)("Monitor"),c=(0,o.up)("el-icon"),p=(0,o.up)("ArrowRight"),m=(0,o.up)("Refresh"),v=(0,o.up)("Fold"),g=(0,o.up)("Download"),f=(0,o.up)("Upload"),w=(0,o.up)("DocumentAdd"),y=(0,o.up)("el-dropdown-item"),h=(0,o.up)("FolderAdd"),k=(0,o.up)("Link"),_=(0,o.up)("el-dropdown-menu"),b=(0,o.up)("el-dropdown"),x=(0,o.up)("FileIcons"),C=(0,o.up)("ToolTip"),D=(0,o.up)("NoData"),S=(0,o.up)("el-dialog"),z=(0,o.up)("el-button"),W=(0,o.up)("el-upload"),I=(0,o.up)("FileUrl"),T=(0,o.up)("FilePreview"),$=(0,o.up)("MkFile"),V=(0,o.up)("FileAttr"),F=(0,o.up)("el-popconfirm"),U=(0,o.Q2)("loading"),R=(0,o.Q2)("resizable");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(S,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[31]||(l[31]=e=>a.DialogVisible=e),"before-close":a.closeDialog,title:e.$t("文件管理"),width:"50%",modal:!1,"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-0","align-center":"",draggable:"",style:{position:"relative"}},{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o._)("div",Ea,[(0,o._)("div",Na,[a.isShowDirInput?((0,o.wg)(),(0,o.iD)("div",Ha,[(0,o.Wm)(u,{id:"aimDirInput",modelValue:a.dir,"onUpdate:modelValue":l[0]||(l[0]=e=>a.dir=e),placeholder:e.$t("输入目录路径"),size:"small",onKeydown:l[1]||(l[1]=(0,i.D2)((e=>{a.isShowDirInput=!1}),["enter"])),onBlur:l[2]||(l[2]=e=>{a.isShowDirInput=!1}),onMousedown:l[3]||(l[3]=(0,i.iM)((()=>{}),["stop"])),onDblclick:l[4]||(l[4]=(0,i.iM)((()=>{}),["stop"])),onChange:a.dirInputCallback},null,8,["modelValue","placeholder","onChange"])])):((0,o.wg)(),(0,o.iD)("div",{key:1,class:"kk-flex ellipsis no-select",style:{"line-height":"18px"},onClick:l[6]||(l[6]=(...e)=>a.doShowDirInput&&a.doShowDirInput(...e))},[(0,o._)("div",Oa,[(0,o.Wm)(c,{style:{"font-size":"16px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(d)])),_:1}),(0,o.Wm)(c,{class:"dir-level",onClick:l[5]||(l[5]=e=>a.changeDirByLevel(e,-1))},{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1})]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.dirLevels,((e,l)=>((0,o.wg)(),(0,o.iD)("div",{key:l,class:"kk-flex"},[(0,o._)("div",null,(0,s.zw)(e),1),(0,o.Wm)(c,{class:"dir-level",onClick:e=>a.changeDirByLevel(e,l)},{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:2},1032,["onClick"])])))),128))]))]),(0,o._)("div",Aa,[(0,o.Wm)(c,{class:"hover-class operate-icon",onClick:a.doRefresh},{default:(0,o.w5)((()=>[(0,o.Wm)(m)])),_:1},8,["onClick"]),a.dir&&"/"!==a.dir?((0,o.wg)(),(0,o.j4)(c,{key:0,class:"hover-class operate-icon",onClick:a.doReturn},{default:(0,o.w5)((()=>[(0,o.Wm)(v)])),_:1},8,["onClick"])):((0,o.wg)(),(0,o.j4)(c,{key:1,class:"disabled-function operate-icon"},{default:(0,o.w5)((()=>[(0,o.Wm)(v)])),_:1})),1===a.selectedFiles.length?((0,o.wg)(),(0,o.j4)(c,{key:2,class:"hover-class operate-icon",onClick:a.doDownload},{default:(0,o.w5)((()=>[(0,o.Wm)(g)])),_:1},8,["onClick"])):((0,o.wg)(),(0,o.j4)(c,{key:3,class:"disabled-function operate-icon"},{default:(0,o.w5)((()=>[(0,o.Wm)(g)])),_:1})),0===a.dirStatus?(0,o.wy)(((0,o.wg)(),(0,o.j4)(b,{key:4,class:"hover-class operate-icon",style:{"line-height":"unset"},placement:"bottom-end",size:"small",trigger:"click"},{dropdown:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(_,{class:"no-select",style:{"text-align":"center"}},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{onClick:l[7]||(l[7]=e=>a.fileUploadTypeChoose(0))},{default:(0,o.w5)((()=>[(0,o._)("div",Ka,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w)])),_:1}),(0,o._)("div",null,(0,s.zw)(e.$t("文件")),1)])])),_:1}),(0,o.Wm)(y,{onClick:l[8]||(l[8]=e=>a.fileUploadTypeChoose(1))},{default:(0,o.w5)((()=>[(0,o._)("div",Pa,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h)])),_:1}),(0,o._)("div",null,(0,s.zw)(e.$t("文件夹")),1)])])),_:1}),(0,o.Wm)(y,{onClick:l[9]||(l[9]=e=>a.fileUploadTypeChoose(2))},{default:(0,o.w5)((()=>[(0,o._)("div",La,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(k)])),_:1}),Ma])])),_:1})])),_:1},512),[[i.F8,a.DialogVisible]])])),default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"hover-class",style:{"font-size":"18px",cursor:"pointer"}},{default:(0,o.w5)((()=>[(0,o.Wm)(f)])),_:1})])),_:1},512)),[[i.F8,a.DialogVisible]]):((0,o.wg)(),(0,o.j4)(c,{key:5,class:"disabled-function operate-icon"},{default:(0,o.w5)((()=>[(0,o.Wm)(f)])),_:1}))])]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{id:"fileArea",ref:"fileAreaRef","element-loading-text":e.$t("加载中..."),class:"list-class no-select",onContextmenu:l[25]||(l[25]=(...e)=>a.handleContextMenu&&a.handleContextMenu(...e)),onClick:l[26]||(l[26]=(...e)=>a.handleClick&&a.handleClick(...e)),onScroll:l[27]||(l[27]=(...e)=>a.handleScroll&&a.handleScroll(...e)),onDragover:l[28]||(l[28]=(...e)=>a.stopEvent&&a.stopEvent(...e)),onDrop:l[29]||(l[29]=(...e)=>a.handleFileDrag&&a.handleFileDrag(...e)),tabindex:"0",onKeydown:l[30]||(l[30]=(...e)=>a.handleShortcutKeys&&a.handleShortcutKeys(...e))},[a.files.length>0?((0,o.wg)(),(0,o.iD)("div",Ba,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.files,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id},[e.isDirectory?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,s.C_)([-1!==a.isSelected(e.id)?"item-selected":"","item-class"]),onClick:l=>a.addSelectFile(l,e),onDblclick:l=>a.changeDir(a.dir+e.name+"/"),onContextmenu:l=>a.addSelectFile(l,e,!1)},[(0,o.Wm)(x,{style:{display:"flex",alignItems:"center"},iconStyle:{opacity:"."===e.name[0]||-1!==a.isClipboard(e.id)&&a.isCtrlX?.5:1},name:e.name,width:20,height:20,isFolder:e.isDirectory,isLink:e.isSymlink},null,8,["iconStyle","name","isFolder","isLink"]),a.isShowRenameInput&&a.renameFile&&e.id===a.renameFile.id?((0,o.wg)(),(0,o.iD)("div",Ga,[(0,o.Wm)(u,{id:"rename",modelValue:a.renameFile.name,"onUpdate:modelValue":l[10]||(l[10]=e=>a.renameFile.name=e),placeholder:"",size:"small",onKeydown:[l[11]||(l[11]=(0,i.D2)((e=>{a.isShowRenameInput=!1}),["enter"])),l[13]||(l[13]=(0,i.iM)((()=>{}),["stop"]))],onBlur:l[12]||(l[12]=e=>{a.isShowRenameInput=!1}),onContextmenu:l[14]||(l[14]=(0,i.iM)((()=>{}),["stop"])),onMousedown:l[15]||(l[15]=(0,i.iM)((()=>{}),["stop"])),onDblclick:l[16]||(l[16]=(0,i.iM)((()=>{}),["stop"])),onChange:l=>a.handleRename(e)},null,8,["modelValue","onChange"])])):(0,o.kq)("",!0),(0,o.Wm)(C,{isShow:!a.isShowMenu,content:e.name,delay:1e3},{content:(0,o.w5)((()=>[a.isShowRenameInput&&a.renameFile&&e.id===a.renameFile.id?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Ya,(0,s.zw)(e.name),1))])),_:2},1032,["isShow","content"])],42,qa)):((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,s.C_)([-1!==a.isSelected(e.id)?"item-selected":"","item-class"]),onClick:l=>a.addSelectFile(l,e),onDblclick:l=>a.preViewFile(e.name),onContextmenu:l=>a.addSelectFile(l,e,!1)},[(0,o.Wm)(x,{style:{display:"flex",alignItems:"center"},iconStyle:{opacity:"."===e.name[0]||-1!==a.isClipboard(e.id)&&a.isCtrlX?.5:1},name:e.name,width:20,height:20,isFolder:e.isDirectory,isLink:e.isSymlink},null,8,["iconStyle","name","isFolder","isLink"]),a.isShowRenameInput&&a.renameFile&&e.id===a.renameFile.id?((0,o.wg)(),(0,o.iD)("div",Ja,[(0,o.Wm)(u,{id:"rename",modelValue:a.renameFile.name,"onUpdate:modelValue":l[17]||(l[17]=e=>a.renameFile.name=e),placeholder:"",size:"small",onKeydown:[l[18]||(l[18]=(0,i.D2)((e=>{a.isShowRenameInput=!1}),["enter"])),l[20]||(l[20]=(0,i.iM)((()=>{}),["stop"]))],onBlur:l[19]||(l[19]=e=>{a.isShowRenameInput=!1}),onContextmenu:l[21]||(l[21]=(0,i.iM)((()=>{}),["stop"])),onMousedown:l[22]||(l[22]=(0,i.iM)((()=>{}),["stop"])),onDblclick:l[23]||(l[23]=(0,i.iM)((()=>{}),["stop"])),onChange:l=>a.handleRename(e)},null,8,["modelValue","onChange"])])):(0,o.kq)("",!0),(0,o.Wm)(C,{isShow:!a.isShowMenu,content:e.name,delay:1e3},{content:(0,o.w5)((()=>[a.isShowRenameInput&&a.renameFile&&e.id===a.renameFile.id?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Xa,(0,s.zw)(e.name),1))])),_:2},1032,["isShow","content"])],42,Za))])))),128))])):((0,o.wg)(),(0,o.iD)("div",Qa,[a.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(D,{key:0,height:"248px",onContextmenu:l[24]||(l[24]=e=>a.selectedFiles=[]),msg:a.noDataMsg},null,8,["msg"]))]))],40,ja)),[[U,a.loading]])]),eo])),_:1},8,["modelValue","before-close","title"])])),[[R,{maxWidthRate:1.2}]]),(0,o.wy)((0,o.Wm)(W,{"show-file-list":!1,"with-credentials":!0,"http-request":a.doUpload,multiple:!0},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(z,{size:"small",type:"primary",id:"fileUploadInputButton"},null,512),[[i.F8,!1]])])),_:1},8,["http-request"]),[[i.F8,!1]]),(0,o.wy)((0,o._)("input",{type:"file",webkitdirectory:"",onChange:l[32]||(l[32]=(...e)=>a.folderInputUploadPrehandle&&a.folderInputUploadPrehandle(...e)),id:"folderUploadInput"},null,544),[[i.F8,!1]]),(0,o.Wm)(I,{ref:"fileUrlRef",onCallback:a.fileUrlUpload},null,8,["onCallback"]),(0,o.Wm)(T,{ref:"filePreviewRef",onDoSave:a.doSave},null,8,["onDoSave"]),(0,o.Wm)($,{ref:"mkFileRef",onCallback:a.handleMkFile},null,8,["onCallback"]),(0,o.Wm)(V,{sshKey:t.sshKey,ref:"fileAttrRef",onCallback:a.doRename,onEditPermissions:a.editPermissions,uploadingList:t.uploadingList},null,8,["sshKey","onCallback","onEditPermissions","uploadingList"]),(0,o.wy)((0,o._)("div",{ref:"menuBlockRef",onContextmenu:l[42]||(l[42]=(...e)=>a.stopEvent&&a.stopEvent(...e)),class:"kk-menu no-select"},[(0,o._)("div",{style:{"border-bottom":"1px solid #ddd"},class:"kk-menu-item",onClick:l[33]||(l[33]=e=>a.handleMenuSelect(1)),key:"1"},(0,s.zw)(e.$t("刷新")),1),(0,o._)("div",{class:(0,s.C_)(["kk-menu-item",1!==a.selectedFiles.length?"disabled":""]),onClick:l[34]||(l[34]=e=>a.handleMenuSelect(2)),key:"2"},(0,s.zw)(e.$t("打开")),3),(0,o._)("div",{style:{"border-bottom":"1px solid #ddd"},class:(0,s.C_)(["kk-menu-item",a.selectedFiles.length>1?"disabled":""]),onClick:l[35]||(l[35]=e=>a.handleMenuSelect(3)),key:"3"},(0,s.zw)(e.$t("复制路径")),3),(0,o.wy)((0,o._)("div",{style:{"border-bottom":"1px solid #ddd"},class:(0,s.C_)(["kk-menu-item",1===a.selectedFiles.length&&a.isZipFile(a.selectedFiles[0].name)?"":"disabled"]),onClick:l[36]||(l[36]=e=>a.handleMenuSelect(9)),key:"9"},(0,s.zw)(e.$t("解压")),3),[[i.F8,1===a.selectedFiles.length&&a.isZipFile(a.selectedFiles[0].name)]]),(0,o._)("div",{class:(0,s.C_)(["kk-menu-item",1!==a.selectedFiles.length?"disabled":""]),onClick:l[37]||(l[37]=e=>a.handleMenuSelect(4)),key:"4"},(0,s.zw)(e.$t("下载")),3),(0,o._)("div",{class:(0,s.C_)(["kk-menu-item",1===a.dirStatus?"disabled":""]),onClick:l[38]||(l[38]=e=>a.handleMenuSelect(5)),key:"5"},(0,s.zw)(e.$t("新建")),3),(0,o._)("div",{class:(0,s.C_)(["kk-menu-item",1!==a.selectedFiles.length?"disabled":""]),onClick:l[39]||(l[39]=e=>a.handleMenuSelect(6)),key:"6"},(0,s.zw)(e.$t("重命名")),3),(0,o.Wm)(F,{title:e.$t("确定删除此文件吗？"),"confirm-button-text":e.$t("确定"),"cancel-button-text":e.$t("取消"),onConfirm:a.confirmPopConfirm,onCancel:a.cancelPopConfirm,visible:a.isShowMenu&&a.isShowPop,trigger:"click","popper-style":{zIndex:3466,fontSize:"13px",color:"black"},"popper-class":"confirmPop",placement:"right","confirm-button-type":"danger"},{reference:(0,o.w5)((()=>[(0,o._)("div",{class:(0,s.C_)(["kk-menu-item",0===a.selectedFiles.length?"disabled":""]),key:"7"},[(0,o._)("div",{onClick:l[40]||(l[40]=e=>a.handleMenuSelect(7))},(0,s.zw)(e.$t("删除")),1)],2)])),_:1},8,["title","confirm-button-text","cancel-button-text","onConfirm","onCancel","visible"]),(0,o._)("div",{style:{"border-top":"1px solid #ddd"},class:(0,s.C_)(["kk-menu-item",1!==a.selectedFiles.length?"disabled":""]),onClick:l[41]||(l[41]=e=>a.handleMenuSelect(8)),key:"8"},(0,s.zw)(e.$t("属性")),3)],544),[[i.F8,a.isShowMenu]])],64)}const to={tar:"tar",tbz2:"tbz2",gz:"gz",xz:"xz",bz2:"bz2",zip:"zip"},ao=e=>{const l=e.lastIndexOf(".");if(-1===l)return!1;const t=e.substring(l+1).toLowerCase();return!!to[t]},oo={pdf:"application/pdf",html:"text/html",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",bmp:"image/bmp",webp:"image/webp",svg:"image/svg+xml",ico:"image/vnd.microsoft.icon"},so={mp3:"audio/mpeg",wav:"audio/wav",ogg:"audio/ogg",aac:"audio/aac",m4a:"audio/mp4"},io={mp4:"video/mp4",webm:"video/webm",ogv:"video/ogg",avi:"video/x-msvideo",mov:"video/quicktime"},no=e=>{const l={preview:"editor",type:"text"},t=e.lastIndexOf(".");if(-1===t)return l;const a=e.substring(t+1).toLowerCase();return oo[a]?(l.preview="iframe",l.type=oo[a]):so[a]?(l.preview="audio",l.type=so[a]):io[a]&&(l.preview="video",l.type=io[a]),l},ro=(e,l)=>mo(e)+go(l),uo=e=>{const l=ro("REGULAR",e).slice(1);return{owner:["r"===l[0],"w"===l[1],"x"===l[2]||"s"===l[2]||"S"===l[2]],group:["r"===l[3],"w"===l[4],"x"===l[5]||"s"===l[5]||"S"===l[5]],others:["r"===l[6],"w"===l[7],"x"===l[8]||"t"===l[8]||"T"===l[8]],sub:!1}},co=e=>{const l=e=>(e[0]?4:0)+(e[1]?2:0)+(e[2]?1:0),t=l(e.owner).toString(),a=l(e.group).toString(),o=l(e.others).toString();return t+a+o},po={BLOCK_SPECIAL:"b",CHAR_SPECIAL:"c",FIFO_SPECIAL:"p",SOCKET_SPECIAL:"s",REGULAR:"-",DIRECTORY:"d",SYMLINK:"l",UNKNOWN:"?"},mo=e=>po[e],vo={USR_R:256,USR_W:128,USR_X:64,GRP_R:32,GRP_W:16,GRP_X:8,OTH_R:4,OTH_W:2,OTH_X:1,SUID:2048,SGID:1024,STICKY:512},go=e=>{let l="---------",t=0;for(let a=0;a<e.length;a++)vo[e[a]]&&(t+=vo[e[a]]);return l=fo(l,0,t&vo["USR_R"],"r"),l=fo(l,1,t&vo["USR_W"],"w"),l=fo(l,2,t&vo["USR_X"],"x",t&vo["SUID"],"s","S"),l=fo(l,3,t&vo["GRP_R"],"r"),l=fo(l,4,t&vo["GRP_W"],"w"),l=fo(l,5,t&vo["GRP_X"],"x",t&vo["SGID"],"s","S"),l=fo(l,6,t&vo["OTH_R"],"r"),l=fo(l,7,t&vo["OTH_W"],"w"),l=fo(l,8,t&vo["OTH_X"],"x",t&vo["STICKY"],"t","T"),l},fo=(e,l,t,a,o=0,s="",i="-")=>(e=o?e.substring(0,l)+(t?s:i)+e.substring(l+1):e.substring(0,l)+(t?a:e[l])+e.substring(l+1),e),wo={tcodes:"tcodes","tcode-vars":"tcode-local-vars","tcode-draft":"tcode-draft",user:"user",options:"options",env:"env",lang:"lang"},yo={"tcode-vars":"tcode-session-vars-"},ho={tcodes:"tcodes",options:"options",env:"env"},ko=()=>{localStorage.getItem(wo["user"])||localStorage.setItem(wo["user"],Fe(crypto.randomUUID()+"@"+ol(16)+"@"+(new Date).getTime()));const e=Ue(localStorage.getItem(wo["user"])).split("@");return{name:e[0],key:e[1],time:Number(e[2])}},_o=async(e,l,t)=>{if(!t)return;const a=ko(),o=new Blob([Fe(t,a.key)],{type:"application/octet-stream"}),s=new File([o],l),i=new FormData;return i.append("user",a.name+"-"+a.time),i.append("type",e),i.append("name",l),i.append("file",s),new Promise(((e,l)=>{qe({url:Qe+"/cloud/upload",type:"post",data:i,contentType:!1,processData:!1,success(t){"success"!==t.status&&(506===t.code?(0,Ee.z8)({message:je.global.t("云端文件过多"),type:t.status,grouping:!0}):(0,Ee.z8)({message:je.global.t("云端同步失败"),type:t.status,grouping:!0}),l()),e()},error(){l()}})}))},bo=async e=>{const l=ko();return new Promise(((t,a)=>{let o=null;qe({url:Qe+"/cloud/download",method:"GET",data:{user:l.name+"-"+l.time,fileName:e},success(e){"success"===e.status&&(o=JSON.parse(Ue(e.data,l.key))),t(o)},error(){a()}})}))},xo=Object.values(ho),Co=async e=>{const l=e||xo,t=[];for(let a=0;a<l.length;a++){const e=localStorage.getItem(l[a]);if(e){const o=_o(l[a],"",Ue(e));t.push(o)}}return Promise.allSettled(t)},Do=async e=>{e&&localStorage.setItem(wo["user"],e);const l=[],t=[];for(let a=0;a<xo.length;a++){const o=bo(xo[a]);o.then((l=>{l?localStorage.setItem(xo[a],Fe(JSON.stringify(l))):e?localStorage.removeItem(xo[a]):localStorage.getItem(xo[a])&&t.push(xo[a])})),l.push(o)}return Promise.allSettled(l).then((()=>{e?window.location.reload():t.length>0&&Co(t)}))},So={setItem(e,l){localStorage.setItem(e,l),Co([e])},getItem(e){return localStorage.getItem(e)},removeItem(e){localStorage.removeItem(e)}};var zo=t(18);const Wo=wo["tcode-vars"],Io=yo["tcode-vars"],To={FS:{desc:je.global.k("重启终端"),execFlow(e){e.proxy.doSettings(3)}},FL:{desc:je.global.k("刷新页面"),execFlow(){window.location.reload()}},FE:{desc:je.global.k("用户退出登录"),execFlow(e){e.proxy.socket&&e.proxy.socket.close(3131)}},FO:{desc:je.global.k("新建终端窗口"),execFlow(){const e=window.location.href;window.open(e,"_blank")}},FC:{desc:je.global.k("关闭终端窗口"),execFlow(){window.close()}}},$o={SC:{desc:je.global.k("连接设置"),execFlow(e){e.proxy.doSettings(1)}},SP:{desc:je.global.k("偏好设置"),execFlow(e){e.proxy.doSettings(2)}},SF:{desc:je.global.k("文件管理"),execFlow(e){e.proxy.doSettings(4)}},SAC:{desc:je.global.k("高级-协作"),execFlow(e){e.proxy.doSettings(6)}},SAM:{desc:je.global.k("高级-监控"),execFlow(e){e.proxy.doSettings(7)}},SAD:{desc:je.global.k("高级-Docker"),execFlow(e){e.proxy.doSettings(8)}},STC:{desc:je.global.k("终端代码中心"),execFlow(e){e.proxy.tCodeCenterRef.DialogVisible=!0}},STW:{desc:je.global.k("终端代码工作流"),execFlow(e){setTimeout((()=>{e.proxy.tCodeWorkflowRef.initText()}),1),e.proxy.tCodeWorkflowRef.DialogVisible=!0}}},Vo={file:{async cd(e){await Fo.fileBlockRef.fileBlockView(e)},async ls(e){return await this.cd(e),(0,Se.IU)(Fo.fileBlockRef.files).map((e=>({permission:ro(e.attributes.mode.type,e.attributes.permissions),uID:e.attributes.uID,gID:e.attributes.gID,size:e.attributes.size,mtime:e.attributes.mtime,name:e.name})))},pwd(){return(0,Se.IU)(Fo.fileBlockRef.dir)},async open(e,l={}){const{dir:t,name:a}=Fo.parsePath(e),o=await Fo.fileBlockRef.fileBlockView(t,a);if(!o||o.isDirectory)throw new Error(je.global.t("无法打开文件：")+a);await Fo.fileBlockRef.preViewFile(a,l)},edit(e){e&&e instanceof Function&&e(Fo.fileBlockRef.filePreviewRef.codeEditorRef.aceEditor)},save(e){const l=Fo.fileBlockRef.filePreviewRef;e&&(l.saveEncode=e),l.handleSave(l.codeEditorRef.getValue())},close(e=!1){e?Fo.fileBlockRef.closeDialog():Fo.fileBlockRef.filePreviewRef.closeDialog()},async download(e){const{dir:l,name:t}=Fo.parsePath(e),a=await Fo.fileBlockRef.fileBlockView(l,t);if(!a)throw new Error(je.global.t("无法下载文件：")+t);a.isDirectory?Fo.fileBlockRef.downloadDir(t):Fo.fileBlockRef.downloadRemoteFile(t)}},var:{session(e,l){if(!l)return sessionStorage.getItem(Io+e)?JSON.parse(sessionStorage.getItem(Io+e)):null;sessionStorage.setItem(Io+e,JSON.stringify(l))},local(e,l){let t={};if(So.getItem(Wo)&&(t=JSON.parse(Ue(So.getItem(Wo)))),!l)return t[e];t[e]=l,So.setItem(Wo,Fe(JSON.stringify(t)))},clean(){if(0===arguments.length)return void So.removeItem(Wo);let e={};So.getItem(Wo)&&(e=JSON.parse(Ue(So.getItem(Wo))));for(let l=0;l<arguments.length;l++)delete e[arguments[l]];So.setItem(Wo,Fe(JSON.stringify(e)))}},async write(e,l=200){return e=e.toString(),e?e.endsWith("\n")||e.endsWith("\r")||(e+="\n"):e="\n",Fo.cnt=Fo.outArray.length,Fo.writeNoAwait(e,!0),await new Promise((e=>setTimeout(e,Math.max(200,l)))),this.read()},read(){return Eo(Fo.outArray.slice(Fo.cnt))},readAll(){return Eo(Fo.outArray.slice(0))},hide(){Fo.display=!1},show(){Fo.display=!0}},Fo={name:"",active:!1,display:!0,outArray:[],cnt:0,fileBlockRef:null,writeNoAwait:null,parsePath(e){e.endsWith("/")&&(e=e.slice(0,-1));const l=e.lastIndexOf("/"),t=e.substring(0,l)||this.fileBlockRef.dir,a=e.substring(l+1);return{dir:t,name:a}},reset(){this.name="",this.active=!1,this.display=!0,this.outArray=[],this.cnt=0}},Uo={option:"CONNECT_OPTION",home:"HOME_PATH",dir:"CURRENT_DIR"},Ro=(e,l)=>{Vo.var.session(Uo[e],l)},Eo=e=>{const l=[],t=No(e);for(let a=0;a<t.length;a++){const e=Ho(t[a]);e&&l.push(e)}return l},No=e=>{const l=[];for(let t=0;t<e.length;t++){const a=e[t].split("\r\n");for(let e=0;e<a.length;e++)a[e]&&l.push(a[e])}return l},Ho=e=>(0,zo.Z)(e).replace(/[\x00-\x1F\x7F]/g,""),Oo={"Compile Error":"Error","Execute Interrupt":"Interrupted","Not Active":"Inactive","Execute Success":"Success"},Ao={getCompletions(e,l,t,a,o){const s=[{name:"kkTerminal",value:"kkTerminal",meta:"kkTerminal",description:"kkTerminal API",score:1e3},{name:"file",value:"file",meta:"kkTerminal",description:"operate file module",score:1e3},{name:"cd",value:"cd()",meta:"kkTerminal",description:"change directory",score:1e3},{name:"ls",value:"ls()",meta:"kkTerminal",description:"list files",score:1e3},{name:"pwd",value:"pwd()",meta:"kkTerminal",description:"print working directory",score:1e3},{name:"open",value:"open()",meta:"kkTerminal",description:"open file editor",score:1e3},{name:"edit",value:"edit((editor) => {\n\n})",meta:"kkTerminal",description:"edit file content",score:1e3},{name:"save",value:"save()",meta:"kkTerminal",description:"save file changes",score:1e3},{name:"close",value:"close()",meta:"kkTerminal",description:"close editor or file module",score:1e3},{name:"download",value:"download()",meta:"kkTerminal",description:"download file or folder",score:1e3},{name:"var",value:"var",meta:"kkTerminal",description:"operate variables",score:1e3},{name:"session",value:"session()",meta:"kkTerminal",description:"get or set session variables",score:1e3},{name:"local",value:"local()",meta:"kkTerminal",description:"get or set local variables",score:1e3},{name:"clean",value:"clean()",meta:"kkTerminal",description:"remove local variables",score:1e3},{name:"write",value:"write()",meta:"kkTerminal",description:"write to terminal",score:1e3},{name:"read",value:"read()",meta:"kkTerminal",description:"read latest from terminal",score:1e3},{name:"readAll",value:"readAll()",meta:"kkTerminal",description:"read all from terminal",score:1e3},{name:"hide",value:"hide()",meta:"kkTerminal",description:"hide Terminal Code display",score:1e3},{name:"show",value:"show()",meta:"kkTerminal",description:"show Terminal Code display",score:1e3}];o(null,s.map((e=>({caption:e.caption||e.name,value:e.value,meta:e.meta,description:e.description||""}))))}},Ko={tCodes:[],index:0,add(e){this.tCodes.push(e),this.index=this.tCodes.length},up(e){return 0===this.tCodes.length?e:(this.index--,this.index<0&&(this.index=0),this.tCodes[this.index])},down(e){return 0===this.tCodes.length?e:(this.index++,this.index>=this.tCodes.length?(this.index=this.tCodes.length,""):this.tCodes[this.index])}},Po=e=>((0,o.dD)("data-v-03ce682b"),e=e(),(0,o.Cn)(),e),Lo={class:"kk-flex no-select kk-header-class"},Mo={class:"ellipsis",style:{margin:"0 5px","font-size":"larger","line-height":"22px"}},jo=Po((()=>(0,o._)("div",{style:{"margin-top":"-28px"}},null,-1))),Bo={id:"editor-bar",class:"kk-flex ellipsis no-select",style:{"margin-bottom":"5px","overflow-x":"auto","line-height":"22px"}},qo={class:"kk-flex"},Go={style:{width:"15px"}},Yo={class:"kk-flex"},Zo={class:"a-link"},Jo={class:"kk-flex"},Xo={class:"a-link"},Qo=Po((()=>(0,o._)("div",{style:{"margin-right":"20px"}},null,-1))),es={class:"kk-flex"},ls={style:{width:"15px"}},ts={class:"a-link"},as=Po((()=>(0,o._)("div",{style:{"margin-right":"20px"}},null,-1))),os={class:"kk-flex"},ss={style:{width:"15px"}},is=Po((()=>(0,o._)("div",{style:{"margin-right":"20px"}},null,-1))),ns={class:"kk-flex"},rs={style:{width:"15px"}},us=Po((()=>(0,o._)("span",null,"px",-1))),ds=Po((()=>(0,o._)("div",{style:{"margin-right":"20px"}},null,-1))),cs={class:"kk-flex"},ps=["element-loading-text"],ms=["src"],vs={key:1,controls:"",class:"preview"},gs=["src","type"],fs={key:2,controls:"",class:"preview"},ws=["src","type"],ys={key:3,style:{position:"absolute",top:"0",right:"30px"}},hs=Po((()=>(0,o._)("span",null,"%",-1))),ks=Po((()=>(0,o._)("div",{style:{"margin-top":"-13px"}},null,-1)));function _s(e,l,t,a,n,r){const u=(0,o.up)("FileIcons"),d=(0,o.up)("el-tag"),c=(0,o.up)("arrow-down"),p=(0,o.up)("el-icon"),m=(0,o.up)("el-dropdown-item"),v=(0,o.up)("el-dropdown-menu"),g=(0,o.up)("el-dropdown"),f=(0,o.up)("el-input-number"),w=(0,o.up)("DocumentCopy"),y=(0,o.up)("el-button"),h=(0,o.up)("AceEditor"),k=(0,o.up)("el-dialog"),_=(0,o.Q2)("loading"),b=(0,o.Q2)("resizable");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(k,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[3]||(l[3]=e=>a.DialogVisible=e),width:"80%",modal:!1,"modal-class":"kk-dialog-class","body-class":"kk-body-class-12","before-close":a.closeDialog,"align-center":"",draggable:""},{title:(0,o.w5)((()=>[(0,o._)("div",Lo,[(0,o.Wm)(u,{style:{display:"flex",alignItems:"center"},name:a.fileName,width:25,height:25,isFolder:!1},null,8,["name"]),(0,o._)("div",Mo,(0,s.zw)(a.modifyTag+a.fileName),1)])])),default:(0,o.w5)((()=>[jo,(0,o.wy)((0,o._)("div",Bo,[(0,o._)("div",qo,[(0,o._)("div",null,(0,s.zw)(e.$t("编码")),1),(0,o._)("div",Go,(0,s.zw)(e.$t("：")),1),(0,o._)("div",Yo,[(0,o.Wm)(d,{size:"small",type:"info",style:{"margin-right":"5px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("打开")),1)])),_:1}),(0,o.Wm)(g,{size:"small","hide-timeout":"300"},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.encodeSet,((e,l)=>((0,o.wg)(),(0,o.j4)(m,{key:l,class:"no-select",onClick:l=>a.changeEncode(0,e)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",Zo,[(0,o.Uk)((0,s.zw)(a.openEncode),1),(0,o.Wm)(p,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(c)])),_:1})])])),_:1})]),(0,o._)("div",Jo,[(0,o.Wm)(d,{size:"small",type:"info",style:{"margin-left":"10px","margin-right":"5px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("保存")),1)])),_:1}),(0,o.Wm)(g,{size:"small","hide-timeout":"300"},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.encodeSet,((e,l)=>((0,o.wg)(),(0,o.j4)(m,{key:l,class:"no-select",onClick:l=>a.changeEncode(1,e)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",Xo,[(0,o.Uk)((0,s.zw)(a.saveEncode),1),(0,o.Wm)(p,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(c)])),_:1})])])),_:1})])]),Qo,(0,o._)("div",es,[(0,o._)("div",null,(0,s.zw)(e.$t("模式")),1),(0,o._)("div",ls,(0,s.zw)(e.$t("：")),1),(0,o.Wm)(g,{size:"small","hide-timeout":"300"},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.modeSet,((e,l)=>((0,o.wg)(),(0,o.j4)(m,{key:l,class:"no-select",onClick:l=>a.setMode(e)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",ts,[(0,o.Uk)((0,s.zw)(a.mode),1),(0,o.Wm)(p,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(c)])),_:1})])])),_:1})]),as,(0,o._)("div",os,[(0,o._)("div",null,(0,s.zw)(e.$t("缩进")),1),(0,o._)("div",ss,(0,s.zw)(e.$t("：")),1),(0,o._)("div",null,[(0,o.Wm)(f,{style:{width:"80px"},size:"small",modelValue:a.indent,"onUpdate:modelValue":l[0]||(l[0]=e=>a.indent=e),min:2,max:4,step:"2","step-strictly":!0,onChange:a.setIndent},null,8,["modelValue","onChange"])])]),is,(0,o._)("div",ns,[(0,o._)("div",null,(0,s.zw)(e.$t("字号")),1),(0,o._)("div",rs,(0,s.zw)(e.$t("：")),1),(0,o._)("div",null,[(0,o.Wm)(f,{style:{width:"100px"},size:"small",modelValue:a.fontSize,"onUpdate:modelValue":l[1]||(l[1]=e=>a.fontSize=e),min:12,max:20,step:"2","step-strictly":!0,onChange:a.setFontSize},{suffix:(0,o.w5)((()=>[us])),_:1},8,["modelValue","onChange"])])]),ds,(0,o._)("div",cs,[(0,o.Wm)(y,{size:"small",type:"primary",onClick:a.doCopy},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(w)])),_:1}),(0,o.Uk)((0,s.zw)(e.$t("复制")),1)])),_:1},8,["onClick"])])],512),[[i.F8,"editor"===a.previewInfo.preview]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{"element-loading-text":e.$t("加载中..."),style:{width:"100%",height:"60vh",position:"relative","margin-bottom":"10px"}},[(0,o.wy)((0,o.Wm)(h,{class:"preview",ref:"codeEditorRef",onHandleChange:a.handleChange,onHandleSave:a.handleSave},null,8,["onHandleChange","onHandleSave"]),[[i.F8,!a.loading&&"editor"===a.previewInfo.preview]]),!a.loading&&"iframe"===a.previewInfo.preview&&a.previewUrl?((0,o.wg)(),(0,o.iD)("iframe",{key:0,id:"imgPreview",class:"preview",src:a.previewUrl},null,8,ms)):(0,o.kq)("",!0),!a.loading&&"audio"===a.previewInfo.preview&&a.previewUrl?((0,o.wg)(),(0,o.iD)("audio",vs,[(0,o._)("source",{src:a.previewUrl,type:a.previewInfo.type},null,8,gs)])):(0,o.kq)("",!0),!a.loading&&"video"===a.previewInfo.preview&&a.previewUrl?((0,o.wg)(),(0,o.iD)("video",fs,[(0,o._)("source",{src:a.previewUrl,type:a.previewInfo.type},null,8,ws)])):(0,o.kq)("",!0),!a.loading&&"iframe"===a.previewInfo.preview&&"application/pdf"!==a.previewInfo.type&&"text/html"!==a.previewInfo.type&&a.previewUrl?((0,o.wg)(),(0,o.iD)("div",ys,[(0,o.Wm)(f,{style:{width:"105px"},size:"small",modelValue:a.percentage,"onUpdate:modelValue":l[2]||(l[2]=e=>a.percentage=e),min:20,max:200,step:"10","step-strictly":!0,onChange:a.setPercentage},{suffix:(0,o.w5)((()=>[hs])),_:1},8,["modelValue","onChange"])])):(0,o.kq)("",!0)],8,ps)),[[_,a.loading]]),ks])),_:1},8,["modelValue","before-close"])])),[[b,{maxWidthRate:1}]])}const bs={ref:"aceEditorRef",class:"kk-code-editor"};function xs(e,l,t,a,s,i){return(0,o.wg)(),(0,o.iD)("div",bs,null,512)}var Cs=t(17),Ds=t.n(Cs);t(7050),t(4783),t(2428),t(516),t(6684),t(350),t(8930),t(9986),t(2177),t(3669),t(629),t(5045),t(1564),t(6668),t(1838),t(9375),t(2606),t(1948),t(4070),t(1853),t(6347),t(4840),t(498),t(9394),t(4733),t(7366),t(5293),t(6529),t(6895),t(7389),t(8918),t(1910),t(5955),t(2376),t(9110),t(1710),t(1067),t(2841),t(1122),t(366),t(5824),t(7682),t(7535);const Ss={c:"c_cpp",cc:"c_cpp",cxx:"c_cpp",h:"c_cpp",hh:"c_cpp",cpp:"c_cpp",hpp:"c_cpp",ino:"c_cpp",cs:"csharp",css:"css",gitignore:"gitignore",go:"golang",html:"html",htm:"html",ini:"ini",conf:"ini",cfg:"ini",java:"java",js:"javascript",jsm:"javascript",cjs:"javascript",mjs:"javascript",jsx:"javascript",vue:"javascript",we:"javascript",wpy:"javascript",json:"json",jsp:"jsp",md:"markdown",markdown:"markdown",properties:"properties",py:"python",sh:"sh",bash:"sh",sql:"sql",cts:"typescript",mts:"typescript",ts:"typescript",tsx:"typescript",xml:"xml",rdf:"xml",rss:"xml",wsdl:"xml",xsl:"xml",xslt:"xml",atom:"xml",mathml:"xml",mml:"xml",xul:"xml",xbl:"xml",xaml:"xml",xsd:"xml",xhtml:"xml",yaml:"yaml",yml:"yaml",ipynb:"json",bash_history:"sh",bash_logout:"sh",bash_profile:"sh",tcshrc:"sh",bashrc:"sh",cshrc:"sh",vcxproj:"xml"},zs=e=>{let l="txt";if(e&&e.length>0){const t=e.lastIndexOf(".");-1!==t&&(l=e.substring(t+1).toLowerCase())}return l},Ws=e=>Ss[zs(e)]||"text";var Is=Ws,Ts={name:"AceEditor",setup(e,l){const t=(0,Se.iH)(),a=(0,Se.iH)(null),s=e=>{a.value&&(a.value.setValue(e),a.value.selection.clearSelection(),i(),u())},i=()=>{a.value&&(a.value.scrollToLine(0,!0,!0,(()=>{})),a.value.renderer.scrollToX(0))},n=()=>{if(a.value){const e=a.value.getSession().getDocument(),l=e.getLength()-1,t=e.getLine(l);t||e.removeFullLines(l,l+1)}},r=()=>a.value?a.value.getValue():"",u=()=>{a.value&&a.value.getSession().getUndoManager().reset()},d=e=>{a.value&&a.value.getSession().setMode(`ace/mode/${Is(e)}`)},c=e=>{a.value&&(a.value.setReadOnly(e),t.value.style.backgroundColor=e?"#f0f0f0":"")},p=e=>{a.value&&a.value.setOptions({tabSize:e,useSoftTabs:!1})},m=e=>{a.value&&a.value.setOptions({fontSize:e})},v=e=>{if(e.ctrlKey||e.metaKey)switch(String.fromCharCode(e.which).toLowerCase()){case"s":e.preventDefault(),e.stopPropagation(),l.emit("handleSave",a.value.getValue());break}},g=()=>{s("")};return(0,o.bv)((()=>{a.value=Ds().edit(t.value,{autoScrollEditorIntoView:!1,copyWithEmptySelection:!1,showPrintMargin:!1,highlightActiveLine:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0,theme:"ace/theme/chrome",mode:"ace/mode/text"}),a.value.completers.push(Ao),a.value.session.setOption("useWorker",!1),a.value.on("change",(()=>{l.emit("handleChange")})),a.value.find("needle",{backwards:!1,wrap:!1,caseSensitive:!1,wholeWord:!1,regExp:!1}),a.value.findNext(),a.value.findPrevious(),t.value.addEventListener("keydown",v)})),(0,o.Ah)((()=>{t.value&&t.value.removeEventListener("keydown",v)})),{aceEditorRef:t,aceEditor:a,setValue:s,resetEditorScroll:i,removeEndEmptyLine:n,resetHistory:u,reset:g,setLanguage:d,getValue:r,setReadOnly:c,setTabSize:p,setFontSize:m}}};const $s=(0,Ql.Z)(Ts,[["render",xs],["__scopeId","data-v-5c623db6"]]);var Vs=$s,Fs=t(4693),Us=t.n(Fs);const Rs=(e,l)=>Us().encode(e,l),Es=(e,l)=>Us().decode(e,l);var Ns={name:"FilePreview",components:{AceEditor:Vs,FileIcons:at(),ArrowDown:Kl.K5e,DocumentCopy:Kl.IBc},setup(e,l){const t=(0,Se.iH)(!1),a=(0,Se.iH)(!1),o=(0,Se.iH)(""),s=(0,Se.iH)(""),i=(0,Se.iH)(""),n=(0,Se.iH)({preview:"editor",type:"text"}),r=(0,Se.iH)(""),u=(0,Se.iH)(),d=(0,Se.iH)(null),c=async(e={})=>{a.value=!0,F();const l=i.value;n.value=no(s.value),w(l),e&&(e.encode&&(v.value=e.encode),e.mode&&(h.value=e.mode),e.indent&&(x.value=e.indent),e.size&&(D.value=e.size)),d.value=qe({url:l,method:"GET",xhrFields:{responseType:"arraybuffer"},data:{trigger:"editor"},dataFilter(e){return e},success(e){if(l===i.value){if("editor"!==n.value.preview){const l=new Blob([e],{type:n.value.type});r.value&&URL.revokeObjectURL(r.value),r.value=URL.createObjectURL(l),z.value=100,W.value=-1}else{const l=Es(new Uint8Array(e),v.value);b(l),C(),S()}o.value="",a.value=!1}},error(){l===i.value&&((0,Ee.z8)({message:je.global.t("文件加载失败"),type:"error",grouping:!0}),F(),U())}}),await d.value},p=()=>{o.value="*"},m=e=>{"*"===o.value&&(l.emit("doSave",s.value,i.value,Rs(e,g.value||"UTF-8")),o.value="")},v=(0,Se.iH)(""),g=(0,Se.iH)(""),f=(0,Se.iH)(["UTF-8","GBK","ISO-8859-1","Windows-1252"]),w=e=>{const l=Dt(e),t=l.sshKey?ll(l.sshKey.split("-")[1]):"UTF-8";f.value=["UTF-8","GBK","ISO-8859-1","Windows-1252"],f.value.map((e=>e.toLowerCase())).includes(t.toLowerCase())||f.value.unshift(t),v.value||(v.value=t),g.value||(g.value=t)},y=(e,l)=>{if(0===e){if(v.value===l)return;a.value||c(),v.value=l,g.value=l,t.value=!0}else 1===e&&(g.value=l,o.value="*")},h=(0,Se.iH)("auto"),k=(0,Se.iH)(["auto","xml","bash","json"]),_=e=>{h.value!==e&&(h.value=e,u.value.setLanguage("auto"===h.value?s.value:"kk."+h.value))},b=e=>{u.value.setValue(e),u.value.setLanguage("auto"===h.value?s.value:"kk."+h.value)},x=(0,Se.iH)(4),C=()=>{u.value.setTabSize(x.value)},D=(0,Se.iH)(14),S=()=>{u.value.setFontSize(D.value)},z=(0,Se.iH)(100),W=(0,Se.iH)(-1),I=()=>{const e=document.getElementById("imgPreview"),l=e.contentDocument||e.contentWindow.document;return l.querySelector("img")},T=()=>{const e=I();-1===W.value&&(W.value=e.height),e.height=W.value*z.value/100},{toClipboard:$}=(0,De.Z)(),V=async()=>{const e=u.value.getValue();e&&e.length>0?(await $(e),(0,Ee.z8)({message:je.global.t("复制成功"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})):(0,Ee.z8)({message:je.global.t("内容为空"),type:"warning",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})},F=(e=!1)=>{e&&(s.value="",i.value="",a.value=!1),u.value&&u.value.reset(),o.value="",n.value={preview:"editor",type:"text"},r.value&&(URL.revokeObjectURL(r.value),r.value=""),d.value&&(d.value.abort(),d.value=null),v.value="",g.value="",f.value=["UTF-8","GBK","ISO-8859-1","Windows-1252"],h.value="auto",z.value=100,W.value=-1},U=e=>{setTimeout((()=>{F(!0)}),400),t.value=!1,e&&e()};return{DialogVisible:t,initText:c,loading:a,fileName:s,fileUrl:i,previewInfo:n,previewUrl:r,codeEditorRef:u,modifyTag:o,handleChange:p,handleSave:m,openEncode:v,saveEncode:g,changeEncode:y,encodeSet:f,initEncode:w,mode:h,modeSet:k,setMode:_,initEditor:b,indent:x,setIndent:C,fontSize:D,setFontSize:S,percentage:z,imgHeight:W,setPercentage:T,doCopy:V,closeDialog:U,reset:F}}};const Hs=(0,Ql.Z)(Ns,[["render",_s],["__scopeId","data-v-03ce682b"]]);var Os=Hs;const As=e=>((0,o.dD)("data-v-55267e79"),e=e(),(0,o.Cn)(),e),Ks={class:"no-select"},Ps={class:"error-text no-select"},Ls={class:"kk-flex"},Ms=As((()=>(0,o._)("div",{style:{width:"10px"}},null,-1))),js={style:{flex:"1"}},Bs={style:{"margin-left":"10px"}};function qs(e,l,t,a,n,r){const u=(0,o.up)("el-radio"),d=(0,o.up)("el-radio-group"),c=(0,o.up)("FileIcons"),p=(0,o.up)("el-input"),m=(0,o.up)("el-button"),v=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.j4)(v,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[2]||(l[2]=e=>a.DialogVisible=e),"before-close":a.closeDialog,width:300,modal:!1,title:e.$t("新建"),"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-0",draggable:""},{default:(0,o.w5)((()=>[(0,o._)("div",Ks,[(0,o.Wm)(d,{modelValue:a.isDirectory,"onUpdate:modelValue":l[0]||(l[0]=e=>a.isDirectory=e),class:"ml-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{label:!1,size:"large"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("文件")),1)])),_:1}),(0,o.Wm)(u,{label:!0,size:"large"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("文件夹")),1)])),_:1})])),_:1},8,["modelValue"]),(0,o._)("div",Ps,(0,s.zw)(e.$t(a.err_msg)),1),(0,o._)("div",Ls,[(0,o._)("div",null,[a.isDirectory?((0,o.wg)(),(0,o.j4)(c,{key:0,style:{display:"flex",alignItems:"center"},width:24,height:24,name:"kk.txt",isFolder:!0})):((0,o.wg)(),(0,o.j4)(c,{key:1,style:{display:"flex",alignItems:"center"},width:24,height:24,name:a.name,isFolder:!1},null,8,["name"]))]),Ms,(0,o._)("div",js,[(0,o.Wm)(p,{size:"small",modelValue:a.name,"onUpdate:modelValue":l[1]||(l[1]=e=>a.name=e),onKeydown:(0,i.D2)(a.confirm,["enter"]),class:"w-50 m-2",placeholder:""},null,8,["modelValue","onKeydown"])]),(0,o._)("div",Bs,[(0,o.Wm)(m,{size:"small",type:"primary",onClick:a.confirm},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])])])),_:1},8,["modelValue","before-close","title"])}var Gs={name:"MkFile",components:{FileIcons:at()},setup(e,l){const t=(0,Se.iH)(!1),a=(0,Se.iH)(""),o=(0,Se.iH)(!1),s=(0,Se.iH)(""),i=(0,Se.iH)(""),n=()=>{if(a.value="",!(s.value&&s.value.trim().length>0))return void(a.value=je.global.k("文件名不能为空"));const e=/[/|]/;e.test(s.value)?a.value=je.global.k("文件名不能含有")+" |"+je.global.t("，")+"/":(l.emit("callback",o.value,s.value,i.value),u())},r=()=>{a.value="",o.value=!1,s.value="",i.value="",t.value=!1},u=e=>{setTimeout((()=>{r()}),400),t.value=!1,e&&e()};return{DialogVisible:t,err_msg:a,isDirectory:o,name:s,nowDir:i,confirm:n,closeDialog:u,reset:r}}};const Ys=(0,Ql.Z)(Gs,[["render",qs],["__scopeId","data-v-55267e79"]]);var Zs=Ys;const Js=e=>((0,o.dD)("data-v-0accc93c"),e=e(),(0,o.Cn)(),e),Xs={class:"kk-flex nowrap kk-header-class"},Qs={class:"ellipsis line-height-18",style:{margin:"0 5px","font-size":"small"}},ei={style:{"font-size":"small"}},li=Js((()=>(0,o._)("div",{style:{"margin-top":"-32px"}},null,-1))),ti=["element-loading-text"],ai={class:"kk-flex margin-top-15"},oi={style:{"margin-right":"10px"}},si=Js((()=>(0,o._)("div",{class:"kk-border"},null,-1))),ii={class:"kk-flex margin-top-15 nowrap"},ni={class:"form-width"},ri={class:"ellipsis line-height-18"},ui={key:0,class:"kk-flex margin-top-15"},di={class:"form-width"},ci={class:"ellipsis line-height-18"},pi={key:0,style:{"margin-left":"10px"}},mi={key:1,style:{"margin-left":"10px"}},vi={key:1,class:"kk-flex margin-top-15"},gi={class:"form-width"},fi={class:"ellipsis line-height-18"},wi={key:0,style:{"margin-left":"10px"}},yi={key:1,style:{"margin-left":"10px"}},hi=Js((()=>(0,o._)("div",{class:"kk-border"},null,-1))),ki={class:"kk-flex margin-top-15"},_i={class:"form-width"},bi={class:"kk-flex margin-top-15"},xi={class:"form-width"},Ci=Js((()=>(0,o._)("div",{class:"kk-border"},null,-1))),Di={class:"kk-flex margin-top-15"},Si={class:"form-width"},zi=Js((()=>(0,o._)("div",{style:{flex:"1"}},null,-1)));function Wi(e,l,t,a,n,r){const u=(0,o.up)("FileIcons"),d=(0,o.up)("el-input"),c=(0,o.up)("ToolTip"),p=(0,o.up)("DocumentCopy"),m=(0,o.up)("el-icon"),v=(0,o.up)("el-tag"),g=(0,o.up)("Refresh"),f=(0,o.up)("Edit"),w=(0,o.up)("el-button"),y=(0,o.up)("el-dialog"),h=(0,o.up)("PermissionsEdit"),k=(0,o.Q2)("loading"),_=(0,o.Q2)("resizable");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(y,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[5]||(l[5]=e=>a.DialogVisible=e),"before-close":a.closeDialog,width:400,modal:!1,"modal-class":"kk-dialog-class","body-class":"kk-body-class-12","align-center":"",draggable:""},{title:(0,o.w5)((()=>[(0,o._)("div",Xs,[(0,o.Wm)(u,{style:{display:"flex",alignItems:"center"},name:a.fileInfo.name,width:16,height:16,isFolder:a.fileInfo.isDirectory,isLink:a.fileInfo.isSymlink},null,8,["name","isFolder","isLink"]),(0,o._)("div",Qs,(0,s.zw)(a.fileInfo.name),1),(0,o._)("div",ei,(0,s.zw)(e.$t("属性")),1)])])),default:(0,o.w5)((()=>[li,(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:"no-select","element-loading-text":e.$t("加载中...")},[(0,o._)("div",ai,[(0,o._)("div",oi,[(0,o.Wm)(u,{style:{display:"flex",alignItems:"center"},name:a.fileInfo.name,width:32,height:32,isFolder:a.fileInfo.isDirectory,isLink:a.fileInfo.isSymlink},null,8,["name","isFolder","isLink"])]),(0,o._)("div",null,[(0,o.Wm)(d,{onKeydown:(0,i.D2)(a.confirm,["enter"]),modelValue:a.rename,"onUpdate:modelValue":l[0]||(l[0]=e=>a.rename=e),placeholder:""},null,8,["onKeydown","modelValue"])])]),si,(0,o._)("div",ii,[(0,o._)("div",ni,(0,s.zw)(e.$t("位置"))+(0,s.zw)(e.$t("：")),1),(0,o.Wm)(c,{content:a.fileDir+a.fileInfo.name},{content:(0,o.w5)((()=>[(0,o._)("div",ri,(0,s.zw)(a.fileDir+a.fileInfo.name),1)])),_:1},8,["content"]),(0,o._)("div",{style:{cursor:"pointer","margin-left":"7px"},onClick:l[1]||(l[1]=e=>a.doCopy(a.fileDir+a.fileInfo.name))},[(0,o.Wm)(m,{size:"18"},{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1})])]),a.fileInfo.isDirectory?((0,o.wg)(),(0,o.iD)("div",ui,[(0,o._)("div",di,(0,s.zw)(e.$t("包含"))+(0,s.zw)(e.$t("：")),1),(0,o._)("div",ci,(0,s.zw)(e.$t(a.includeInfo)),1),a.uploading?((0,o.wg)(),(0,o.iD)("div",pi,[(0,o.Wm)(v,{size:"small",type:"warning"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("正在上传").toLowerCase()),1)])),_:1})])):a.fileInfo.isSymlink||a.unreliable?((0,o.wg)(),(0,o.iD)("div",mi,[(0,o.Wm)(v,{size:"small",type:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("未确认").toLowerCase()),1)])),_:1})])):(0,o.kq)("",!0),(0,o._)("div",{style:{cursor:"pointer","margin-left":"7px"},onClick:l[2]||(l[2]=(...e)=>a.getFolderInclude&&a.getFolderInclude(...e))},[(0,o.Wm)(m,{size:"18"},{default:(0,o.w5)((()=>[(0,o.Wm)(g)])),_:1})])])):((0,o.wg)(),(0,o.iD)("div",vi,[(0,o._)("div",gi,(0,s.zw)(e.$t("大小"))+(0,s.zw)(e.$t("：")),1),(0,o._)("div",fi,(0,s.zw)(a.calcSize(a.fileInfo.attributes.size))+" ("+(0,s.zw)(a.fileInfo.attributes.size.toLocaleString()+" "+e.$t("字节"))+") ",1),a.uploading?((0,o.wg)(),(0,o.iD)("div",wi,[(0,o.Wm)(v,{size:"small",type:"warning"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("正在上传").toLowerCase()),1)])),_:1})])):a.fileInfo.isSymlink||a.unreliable?((0,o.wg)(),(0,o.iD)("div",yi,[(0,o.Wm)(v,{size:"small",type:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("未确认").toLowerCase()),1)])),_:1})])):(0,o.kq)("",!0),(0,o._)("div",{style:{cursor:"pointer","margin-left":"7px"},onClick:l[3]||(l[3]=(...e)=>a.getFileSize&&a.getFileSize(...e))},[(0,o.Wm)(m,{size:"18"},{default:(0,o.w5)((()=>[(0,o.Wm)(g)])),_:1})])])),hi,(0,o._)("div",ki,[(0,o._)("div",_i,(0,s.zw)(e.$t("修改时间"))+(0,s.zw)(e.$t("：")),1),(0,o._)("div",null,(0,s.zw)(a.calcDate(a.fileInfo.attributes.mtime)),1)]),(0,o._)("div",bi,[(0,o._)("div",xi,(0,s.zw)(e.$t("访问时间"))+(0,s.zw)(e.$t("：")),1),(0,o._)("div",null,(0,s.zw)(a.calcDate(a.fileInfo.attributes.atime)),1)]),Ci,(0,o._)("div",Di,[(0,o._)("div",Si,(0,s.zw)(e.$t("权限"))+(0,s.zw)(e.$t("：")),1),(0,o._)("div",null,(0,s.zw)(a.calcPriority(a.fileInfo.attributes.mode.type,a.fileInfo.attributes.permissions)),1),(0,o._)("div",{style:{cursor:"pointer","margin-left":"7px"},onClick:l[4]||(l[4]=(...e)=>a.openEditPermissions&&a.openEditPermissions(...e))},[(0,o.Wm)(m,{size:"18"},{default:(0,o.w5)((()=>[(0,o.Wm)(f)])),_:1})]),zi,(0,o._)("div",null,[(0,o.Wm)(w,{size:"small",type:"primary",onClick:a.confirm},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])],8,ti)),[[k,a.loading]])])),_:1},8,["modelValue","before-close"])])),[[_,{minWidthRate:1,maxWidthRate:1.2}]]),(0,o.Wm)(h,{ref:"permissionsEditRef",onEditPermissions:a.editPermissions},null,8,["onEditPermissions"])],64)}const Ii=e=>{if(!e)return"";const l=new Date(1e3*e),t=l.getFullYear();let a=l.getMonth()+1,o=l.getDate(),s=l.getHours(),i=l.getMinutes(),n=l.getSeconds();a<10&&(a="0"+a),o<10&&(o="0"+o),s<10&&(s="0"+s),i<10&&(i="0"+i),n<10&&(n="0"+n);let r=null;return r="zh"===je.global.locale?[t,a,o]:[a,o,t],r[0]+je.global.t("年")+r[1]+je.global.t("月")+r[2]+je.global.t("日，")+s+":"+i+":"+n},Ti=e=>{if(!e)return"";let l=new Date(e),t=l.getHours(),a=l.getMinutes(),o=l.getSeconds();return t<10&&(t="0"+t),a<10&&(a="0"+a),o<10&&(o="0"+o),t+":"+a+":"+o},$i=1024,Vi=1,Fi=$i*Vi,Ui=$i*Fi,Ri=$i*Ui,Ei=e=>{if(!e)return"";const l=Math.max(0,parseInt(e));let t,a;l<Fi?(t=l/Vi,a="B"):l<Ui?(t=l/Fi,a="KB"):l<Ri?(t=l/Ui,a="MB"):(t=l/Ri,a="GB");let o=t.toFixed(2);return o.endsWith(".00")&&(o=o.substring(0,o.length-3)),`${o} ${a}`},Ni=e=>((0,o.dD)("data-v-357a4e72"),e=e(),(0,o.Cn)(),e),Hi={class:"kk-flex-0 nowrap kk-header-class"},Oi={class:"ellipsis",style:{margin:"0 5px","font-size":"small","line-height":"18px"}},Ai={style:{"font-size":"small"}},Ki=Ni((()=>(0,o._)("div",{style:{"margin-top":"-25px"}},null,-1))),Pi={class:"kk-flex"},Li={class:"form-width no-select"},Mi={class:"kk-flex"},ji={class:"form-width no-select"},Bi={class:"kk-flex"},qi={class:"form-width no-select"},Gi=Ni((()=>(0,o._)("div",{style:{"margin-bottom":"5px"}},null,-1))),Yi={style:{display:"flex","align-items":"center","border-top":"1px solid #f1f2f4"}},Zi=Ni((()=>(0,o._)("div",{style:{flex:"1"}},null,-1)));function Ji(e,l,t,a,i,n){const r=(0,o.up)("FileIcons"),u=(0,o.up)("el-checkbox"),d=(0,o.up)("el-button"),c=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.j4)(c,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[10]||(l[10]=e=>a.DialogVisible=e),"before-close":a.closeDialog,width:e.$t("360"),modal:!1,"modal-class":"kk-dialog-class","body-class":"kk-body-class-12","align-center":"",draggable:""},{title:(0,o.w5)((()=>[(0,o._)("div",Hi,[(0,o.Wm)(r,{style:{display:"flex",alignItems:"center"},name:a.fileInfo.name,width:16,height:16,isFolder:a.fileInfo.isDirectory,isLink:a.fileInfo.isSymlink},null,8,["name","isFolder","isLink"]),(0,o._)("div",Oi,(0,s.zw)(a.fileInfo.name),1),(0,o._)("div",Ai,(0,s.zw)(e.$t("权限编辑")),1)])])),default:(0,o.w5)((()=>[Ki,(0,o._)("div",Pi,[(0,o._)("div",Li,(0,s.zw)(e.$t("所有者"))+(0,s.zw)(e.$t("：")),1),(0,o.Wm)(u,{modelValue:a.permissionsInfo.owner[0],"onUpdate:modelValue":l[0]||(l[0]=e=>a.permissionsInfo.owner[0]=e),label:e.$t("读取"),size:"large"},null,8,["modelValue","label"]),(0,o.Wm)(u,{modelValue:a.permissionsInfo.owner[1],"onUpdate:modelValue":l[1]||(l[1]=e=>a.permissionsInfo.owner[1]=e),label:e.$t("写入"),size:"large"},null,8,["modelValue","label"]),(0,o.Wm)(u,{modelValue:a.permissionsInfo.owner[2],"onUpdate:modelValue":l[2]||(l[2]=e=>a.permissionsInfo.owner[2]=e),label:e.$t("执行"),size:"large"},null,8,["modelValue","label"])]),(0,o._)("div",Mi,[(0,o._)("div",ji,(0,s.zw)(e.$t("所属组"))+(0,s.zw)(e.$t("：")),1),(0,o.Wm)(u,{modelValue:a.permissionsInfo.group[0],"onUpdate:modelValue":l[3]||(l[3]=e=>a.permissionsInfo.group[0]=e),label:e.$t("读取"),size:"large"},null,8,["modelValue","label"]),(0,o.Wm)(u,{modelValue:a.permissionsInfo.group[1],"onUpdate:modelValue":l[4]||(l[4]=e=>a.permissionsInfo.group[1]=e),label:e.$t("写入"),size:"large"},null,8,["modelValue","label"]),(0,o.Wm)(u,{modelValue:a.permissionsInfo.group[2],"onUpdate:modelValue":l[5]||(l[5]=e=>a.permissionsInfo.group[2]=e),label:e.$t("执行"),size:"large"},null,8,["modelValue","label"])]),(0,o._)("div",Bi,[(0,o._)("div",qi,(0,s.zw)(e.$t("其他用户"))+(0,s.zw)(e.$t("：")),1),(0,o.Wm)(u,{modelValue:a.permissionsInfo.others[0],"onUpdate:modelValue":l[6]||(l[6]=e=>a.permissionsInfo.others[0]=e),label:e.$t("读取"),size:"large"},null,8,["modelValue","label"]),(0,o.Wm)(u,{modelValue:a.permissionsInfo.others[1],"onUpdate:modelValue":l[7]||(l[7]=e=>a.permissionsInfo.others[1]=e),label:e.$t("写入"),size:"large"},null,8,["modelValue","label"]),(0,o.Wm)(u,{modelValue:a.permissionsInfo.others[2],"onUpdate:modelValue":l[8]||(l[8]=e=>a.permissionsInfo.others[2]=e),label:e.$t("执行"),size:"large"},null,8,["modelValue","label"])]),Gi,(0,o._)("div",Yi,[a.fileInfo.isDirectory?((0,o.wg)(),(0,o.j4)(u,{key:0,modelValue:a.permissionsInfo.sub,"onUpdate:modelValue":l[9]||(l[9]=e=>a.permissionsInfo.sub=e),label:e.$t("应用到子目录和文件"),size:"small",style:{"margin-top":"10px"}},null,8,["modelValue","label"])):(0,o.kq)("",!0),Zi,(0,o.Wm)(d,{size:"small",type:"primary",onClick:a.confirm,style:{"margin-top":"10px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])),_:1},8,["modelValue","before-close","width"])}var Xi={name:"PermissionsEdit",components:{FileIcons:at()},setup(e,l){const t=(0,Se.iH)(!1),a=(0,Se.iH)(""),o=(0,Se.iH)({attributes:{mode:{type:""},permissions:""}}),s=(0,Se.iH)({owner:[!1,!1,!1],group:[!1,!1,!1],others:[!1,!1,!1],sub:!1}),i=()=>{s.value=uo(o.value.attributes.permissions)},n=()=>{l.emit("editPermissions",a.value,o.value.name,s.value)},r=()=>{a.value="",o.value={attributes:{mode:{type:""},permissions:""}},s.value={owner:[!1,!1,!1],group:[!1,!1,!1],others:[!1,!1,!1],sub:!1},t.value=!1},u=e=>{setTimeout((()=>{r()}),400),t.value=!1,e&&e()};return{fileDir:a,fileInfo:o,DialogVisible:t,closeDialog:u,init:i,permissionsInfo:s,getPermissionInfo:uo,confirm:n}}};const Qi=(0,Ql.Z)(Xi,[["render",Ji],["__scopeId","data-v-357a4e72"]]);var en=Qi,ln={name:"FileAttr",components:{ToolTip:Ct,FileIcons:at(),DocumentCopy:Kl.IBc,Refresh:Kl.hYj,Edit:Kl.I8b,PermissionsEdit:en},props:["sshKey","uploadingList"],setup(e,l){const{toClipboard:t}=(0,De.Z)(),a=(0,Se.iH)(!1),s=(0,Se.iH)({}),i=(0,Se.iH)(""),n=(0,Se.iH)(""),r=(0,Se.iH)(!0),u=(0,Se.iH)(!1),d=(0,Se.iH)(je.global.k("0 个文件，0 个文件夹")),c=()=>{qe({url:Qe+"/file/du",type:"get",data:{sshKey:e.sshKey,path:il(i.value),item:nl(s.value.name)},beforeSend(){r.value=!0},success(e){"success"===e.status?s.value.attributes.size=parseInt(e.data,10):u.value=!0},complete(){r.value=!1}})},p=()=>{qe({url:Qe+"/file/find",type:"get",data:{sshKey:e.sshKey,path:il(i.value),item:nl(s.value.name)},beforeSend(){r.value=!0},success(e){"success"===e.status?d.value=e.data[0]+je.global.t(" 个文件，")+Math.max(0,parseInt(e.data[1],10)-1)+je.global.t(" 个文件夹"):u.value=!0},complete(){r.value=!1}})},m=()=>{if(s.value.name===n.value)return void k();if(!(n.value&&n.value.trim().length>0))return void(0,Ee.z8)({message:je.global.t("文件名不能为空"),type:"warning",grouping:!0});const e=/[/|]/;if(e.test(n.value))return void(0,Ee.z8)({message:je.global.t("文件名不能含有")+" |"+je.global.t("，")+"/",type:"warning",grouping:!0});const t=i.value+s.value.name,a=i.value+n.value;l.emit("callback",t,a),k()},v=async e=>{e=e.toString(),e&&e.length>0?(await t(e),(0,Ee.z8)({message:je.global.t("复制成功"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})):(0,Ee.z8)({message:je.global.t("内容为空"),type:"warning",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})},g=(e,t,a)=>{l.emit("editPermissions",e,t,a)},f=()=>{s.value={attributes:{mode:{type:""},permissions:"",size:0}},n.value="",i.value="",r.value=!1,u.value=!1,d.value=je.global.k("0 个文件，0 个文件夹"),a.value=!1},w=(0,Se.iH)(),y=()=>{w.value.fileDir=i.value,w.value.fileInfo=s.value,w.value.DialogVisible=!0,w.value.init()},h=(0,o.Fl)((()=>{for(const l in e.uploadingList){const t=e.uploadingList[l];if((t.path+t.name).startsWith(i.value+s.value.name))return!0}return!1}));(0,o.YP)(h,(e=>{!1===e&&i.value&&s.value.name&&setTimeout((()=>{s.value.isDirectory?p():c()}),1)}));const k=e=>{w.value&&w.value.closeDialog(),setTimeout((()=>{f()}),400),a.value=!1,e&&e()};return{DialogVisible:a,fileInfo:s,confirm:m,closeDialog:k,reset:f,fileDir:i,rename:n,calcDate:Ii,calcPriority:ro,calcSize:Ei,doCopy:v,loading:r,unreliable:u,includeInfo:d,getFileSize:c,getFolderInclude:p,permissionsEditRef:w,openEditPermissions:y,editPermissions:g,uploading:h}}};const tn=(0,Ql.Z)(ln,[["render",Wi],["__scopeId","data-v-0accc93c"]]);var an=tn;const on={class:"no-select"},sn={class:"kk-flex"},nn={class:"form-width"},rn={style:{flex:"1"}},un={key:0,class:"error-text no-select"},dn={key:1,style:{height:"7px"}},cn={class:"kk-flex"},pn={class:"form-width"},mn={style:{flex:"1"}},vn={style:{"margin-left":"10px"}};function gn(e,l,t,a,n,r){const u=(0,o.up)("Connection"),d=(0,o.up)("el-icon"),c=(0,o.up)("el-input"),p=(0,o.up)("Document"),m=(0,o.up)("el-button"),v=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.j4)(v,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[2]||(l[2]=e=>a.DialogVisible=e),"before-close":a.closeDialog,width:320,modal:!1,title:e.$t("URL上传"),"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-0",draggable:""},{default:(0,o.w5)((()=>[(0,o._)("div",on,[(0,o._)("div",sn,[(0,o._)("div",nn,"URL"+(0,s.zw)(e.$t("：")),1),(0,o._)("div",rn,[(0,o.Wm)(c,{size:"small",modelValue:a.url,"onUpdate:modelValue":l[0]||(l[0]=e=>a.url=e),class:"w-50 m-2",placeholder:e.$t("请输入文件URL")},{prefix:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"el-input__icon"},{default:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1})])),_:1},8,["modelValue","placeholder"])])]),a.err_msg&&a.err_msg.length>0?((0,o.wg)(),(0,o.iD)("div",un,(0,s.zw)(e.$t(a.err_msg)),1)):((0,o.wg)(),(0,o.iD)("div",dn)),(0,o._)("div",cn,[(0,o._)("div",pn,(0,s.zw)(e.$t("文件名"))+(0,s.zw)(e.$t("：")),1),(0,o._)("div",mn,[(0,o.Wm)(c,{size:"small",modelValue:a.name,"onUpdate:modelValue":l[1]||(l[1]=e=>a.name=e),onKeydown:(0,i.D2)(a.confirm,["enter"]),class:"w-50 m-2",placeholder:e.$t("请输入文件名")},{prefix:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"el-input__icon"},{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1})])),_:1},8,["modelValue","onKeydown","placeholder"])]),(0,o._)("div",vn,[(0,o.Wm)(m,{size:"small",type:"primary",onClick:a.confirm},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])])])),_:1},8,["modelValue","before-close","title"])}var fn={name:"FileUrl",components:{Connection:Kl.ewe,Document:Kl.BBB},setup(e,l){const t=(0,Se.iH)(!1),a=(0,Se.iH)(""),o=(0,Se.iH)(""),s=(0,Se.iH)(""),i=()=>{if(a.value="",!(s.value&&s.value.trim().length>0))return void(a.value=je.global.k("URL不能为空"));if(!(o.value&&o.value.trim().length>0))return void(a.value=je.global.k("文件名不能为空"));const e=/[/|]/;e.test(o.value)?a.value=je.global.k("文件名不能含有")+" |"+je.global.t("，")+"/":(l.emit("callback",s.value,o.value),r())},n=()=>{a.value="",o.value="",s.value="",t.value=!1},r=e=>{setTimeout((()=>{n()}),400),t.value=!1,e&&e()};return{DialogVisible:t,err_msg:a,name:o,url:s,confirm:i,closeDialog:r,reset:n}}};const wn=(0,Ql.Z)(fn,[["render",gn],["__scopeId","data-v-3d079d66"]]);var yn=wn,hn=t(4934),kn={name:"FileBlock",components:{ToolTip:Ct,NoData:lt,FileIcons:at(),FilePreview:Os,MkFile:Zs,FileAttr:an,FileUrl:yn,Refresh:Kl.hYj,Fold:Kl.qFw,Download:Kl.UWx,Upload:Kl.gqx,DocumentAdd:Kl.kb8,FolderAdd:Kl.FDh,Link:Kl.rUS,ArrowRight:Kl.olP,Monitor:Kl.ugo},props:["sshKey","os","uploadingList"],setup(e,l){const t=(0,Se.iH)(!0),{toClipboard:a}=(0,De.Z)(),s=(0,Se.iH)([]),i=(0,Se.iH)([]);let n=-1;const r=(l,t,a=!0)=>{l.preventDefault();const o=u(t.id);if(a)if(l.shiftKey)if(0===i.value.length||-1===n||n>=s.value.length){i.value=[];for(let e=0;e<=t.index;e++)i.value.push({...s.value[e]});n=-1}else{i.value=[];const e=Math.min(t.index,n),l=Math.max(t.index,n);for(let t=e;t<=l;t++)i.value.push({...s.value[t]})}else"Windows"===e.os&&l.ctrlKey||("Mac"===e.os||"iOS"===e.os)&&l.metaKey?(n=t.index,-1!==o?i.value.splice(o,1):i.value.push(t)):(n=t.index,i.value=[],i.value.push(t));else-1===o&&(n=t.index,i.value=[],i.value.push(t))},u=e=>{for(let l=0;l<i.value.length;l++)if(e===i.value[l].id)return l;return-1},d=e=>{for(let l=0;l<ue.value.files.length;l++)if(e===ue.value.files[l].id)return l;return-1},c=e=>{for(let l=0;l<s.value.length;l++)if(s.value[l].name===e)return s.value[l];return null},p=(0,Se.iH)(""),m=(0,Se.iH)([]),v=()=>{""!==p.value&&"/"===p.value[0]||(p.value="/"+p.value),"/"!==p.value[p.value.length-1]&&(p.value=p.value+"/"),p.value=p.value.replace(/\/{2,}/g,"/"),g(p.value)},g=e=>{m.value="/"===e?[]:e.substring(1,e.length-1).split("/")},f=(e,l)=>{L(e);let t="";for(let a=0;a<=l;a++)t+="/",t+=m.value[a];t+="/",z(t)},w=(0,Se.iH)(!1),y=()=>{p.value||qe({url:Qe+"/file/home",type:"get",data:{sshKey:e.sshKey},success(e){"success"===e.status?(h.value=je.global.k("暂无文件"),k.value=0,p.value=e.data,v(),i.value=[],s.value=[],_(),Ro("home",p.value)):(h.value=e.info,k.value=1,t.value=!1)}})},h=(0,Se.iH)(je.global.k("暂无文件")),k=(0,Se.iH)(0),_=async()=>{if(!p.value)return void y();const l=p.value;await qe({url:Qe+"/file/ls",type:"get",data:{sshKey:e.sshKey,path:l},beforeSend(){t.value=!0,s.value=[]},success(e){if(l===p.value)if(i.value=[],"success"===e.status){if(s.value=rl(e.data),h.value=je.global.k("暂无文件"),k.value=0,n=-1,setTimeout((()=>{P.value.tabindex="0",P.value.focus()}),1),Z.value&&Z.value.DialogVisible){const e=c(Z.value.fileInfo.name);e?(Z.value.reset(),Z.value.DialogVisible=!0,Z.value.fileInfo=e,Z.value.fileDir=p.value,Z.value.rename=e.name,e.isDirectory?Z.value.getFolderInclude():Z.value.getFileSize()):Z.value.closeDialog()}}else s.value=[],h.value=e.info,k.value=1,n=-1,setTimeout((()=>{P.value.tabindex="0",P.value.focus()}),1)},complete(){l===p.value&&(t.value=!1)}})},b=async(e,l)=>{p.value=e,v(),H.value=!0,await _();const t=c(l);return t&&(n=t.index,i.value=[],i.value.push(t),setTimeout((()=>{P.value.scrollTop=31*t.index}),1)),t},x=(l,t)=>Qe+"/file/download/remote/file?time="+(new Date).getTime()+"&fileName="+encodeURIComponent(l)+"&sshKey="+e.sshKey+"&path="+encodeURIComponent(t||p.value)+"&trigger=browser",C=(l,t)=>Qe+"/file/download/remote/folder?time="+(new Date).getTime()+"&folderName="+encodeURIComponent(nl(l))+"&sshKey="+e.sshKey+"&path="+encodeURIComponent(il(t||p.value)),D=e=>{w.value||Wt(x(e))},S=e=>{w.value||Wt(C(e))},z=e=>{w.value||(p.value=e,v(),i.value=[],_())},W=()=>{w.value=!1,v(),i.value=[],_()},I=()=>{w.value=!1,_()},T=()=>{if(w.value)return;if("/"===p.value)return;"/"===p.value[p.value.length-1]&&(p.value=p.value.substring(0,p.value.length-1));const e=p.value.lastIndexOf("/");-1!==e&&(p.value=p.value.substring(0,e+1)),v(),i.value=[],I()},$=()=>{w.value||(1===i.value.length&&i.value[0].name&&i.value[0].isDirectory&&S(i.value[0].name),1===i.value.length&&i.value[0].name&&!i.value[0].isDirectory&&D(i.value[0].name))};let V=null,F=null;const U=()=>{V&&(V.pause(),V.clear()),V=new hn.Z({concurrency:4}),F={}};U();const R=2225152,E=async(t,a={})=>{try{if(w.value)return;const o=t.file;if(!o)return;const s=o.name,i=o.size,n=Math.max(1,Math.ceil(i/R)),r=crypto.randomUUID();o.uid=r;const u=a.path?a.path:p.value,d=e.sshKey,c={id:r,path:u,name:s,size:i,status:0,progress:0};l.emit("updateTransportLists",0,0,r,c),i>20971520&&!a.noBeforeAlert&&(0,Ee.z8)({message:a.beforeAlert?a.beforeAlert:je.global.t("开始上传"),type:"success",grouping:!0}),F[r]=0;const m=[];for(let e=1;e<=n;e++){const t=V.add((()=>{const t=(e-1)*R,a=t+R>=i?i:t+R,s=o.slice(t,a),u=new FormData;return u.append("file",s),u.append("chunk",e),u.append("id",r),u.append("sshKey",d),new Promise(((t,a)=>{-1!==F[r]?qe({url:Qe+"/file/chunk/upload",type:"post",data:u,contentType:!1,processData:!1,success(o){if(-1!==F[r])if("success"===o.status){const e=++F[r];c.progress=Math.floor(e/n*100),l.emit("updateTransportLists",0,0,r,c),t()}else F[r]=-1,e=n+10,c.status=-1,l.emit("updateTransportLists",0,1,r,null),l.emit("updateTransportLists",3,0,r,c),(0,Ee.z8)({message:o.info,type:o.status,grouping:!0}),a();else a()},error(){-1!==F[r]?(F[r]=-1,e=n+10,c.status=-1,l.emit("updateTransportLists",0,1,r,null),l.emit("updateTransportLists",3,0,r,c),a()):a()}}):a()}))}),{priority:-(e+Math.random())});m.push(t)}Promise.allSettled(m).then((()=>{const e=F[r];if(delete F[r],e!==n)return;const l=new FormData;l.append("fileName",s),l.append("chunks",n),l.append("totalSize",i),l.append("id",r),l.append("path",u),l.append("sshKey",d),qe({url:Qe+"/file/chunk/merge",type:"post",data:l,contentType:!1,processData:!1,success(e){"success"===e.status&&((0,Ee.z8)({message:a.afterAlert?a.afterAlert:e.info,type:e.status,grouping:!0}),u===p.value&&setTimeout((()=>{_()}),Math.min(1e3,500+10*n)))}})}))}catch(o){(0,Ee.z8)({message:je.global.t("文件上传失败"),type:"error",grouping:!0})}},N=e=>{L(e),w.value=!0,setTimeout((()=>{document.querySelector("#aimDirInput").focus()}),1)},H=(0,Se.iH)(!1),O=(0,Se.iH)(),A=async(e,l={})=>{O.value.fileName=e,O.value.fileUrl=x(e),O.value.loading=!0,O.value.DialogVisible=!0,await O.value.initText(l)},K=(l,t,a)=>{const o=Dt(t);if(o.sshKey!==e.sshKey)return;const s=new Blob([a],{type:"application/octet-stream"}),i=new File([s],l);E({file:i},{path:o.path,beforeAlert:je.global.t("修改保存中"),afterAlert:je.global.t("文件后台保存中")})},P=(0,Se.iH)(),L=e=>{e.preventDefault(),e.stopPropagation()},M=l=>{L(l);const t=l.dataTransfer.items;if(!(t&&t.length>0))return;const a=p.value;for(let o=0;o<t.length;o++){const l=t[o].webkitGetAsEntry();if(l.isFile&&!l.isDirectory)l.file((e=>{E({file:e},{path:a})}));else if(!l.isFile&&l.isDirectory){const t=a+l.name;qe({url:Qe+"/file/mkdir",type:"post",data:{sshKey:e.sshKey,path:a,item:l.name},success(e){"success"===e.status?(_(),j(l,t+"/")):(0,Ee.z8)({message:e.info,type:e.status,grouping:!0})}})}}},j=(l,t)=>{const a=l.createReader();a.readEntries((l=>{for(let a=0;a<l.length;a++){const o=l[a];if(o.isFile&&!o.isDirectory)o.file((e=>{E({file:e},{path:t,noBeforeAlert:!0})}));else if(!o.isFile&&o.isDirectory){const l=t+o.name;qe({url:Qe+"/file/mkdir",type:"post",data:{sshKey:e.sshKey,path:t,item:o.name},success(e){"success"===e.status?j(o,l+"/"):(0,Ee.z8)({message:e.info,type:e.status,grouping:!0})}})}}}))},B=(0,Se.iH)(!1),q=(0,Se.iH)(!1),G=(0,Se.iH)(!1),Y=(0,Se.iH)({}),Z=(0,Se.iH)(),J=async e=>{switch(e){case 1:I();break;case 2:1===i.value.length&&i.value[0].isDirectory?z(p.value+i.value[0].name+"/"):1!==i.value.length||i.value[0].isDirectory||A(i.value[0].name);break;case 3:if(p.value&&p.value.length>0){const e=p.value+(1===i.value.length?i.value[0].name:"");await a(e),(0,Ee.z8)({message:je.global.t("复制成功"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})}else(0,Ee.z8)({message:je.global.t("内容为空"),type:"warning",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER});break;case 4:1===i.value.length&&$();break;case 5:ie.value.nowDir=p.value,ie.value.DialogVisible=!0;break;case 6:1===i.value.length&&(Y.value={...i.value[0]},G.value=!0,setTimeout((()=>{document.querySelector("#rename").focus()}),1));break;case 7:q.value=!0;break;case 8:1===i.value.length&&(Z.value.reset(),Z.value.fileInfo={...i.value[0]},Z.value.fileDir=p.value,Z.value.rename=i.value[0].name,i.value[0].isDirectory?Z.value.getFolderInclude():Z.value.getFileSize(),Z.value.DialogVisible=!0);break;case 9:1===i.value.length&&ao(i.value[0].name)&&ye();break;default:break}7!==e&&(B.value=!1,q.value=!1)},X=()=>{B.value=!1,q.value=!1},Q=(0,Se.iH)(),ee=e=>{"fileArea"===e.target.id&&(i.value=[]),Q.value.style.top=e.clientY-135+"px",Q.value.style.left=e.clientX+1+"px",B.value=!0,q.value=!1,L(e)},le=()=>{"fileArea"===event.target.id&&(i.value=[]),L(event)},te=e=>{if(G.value=!1,e.name===Y.value.name)return void(Y.value={});if(!(Y.value.name&&Y.value.name.trim().length>0))return(0,Ee.z8)({message:je.global.t("文件名不能为空"),type:"warning",grouping:!0}),void(Y.value={});const l=/[/|]/;if(l.test(Y.value.name))return(0,Ee.z8)({message:je.global.t("文件名不能含有")+" |"+je.global.t("，")+"/",type:"warning",grouping:!0}),void(Y.value={});const t=p.value+e.name,a=p.value+Y.value.name;Y.value={},ae(t,a)},ae=(l,t)=>{qe({url:Qe+"/file/rename",type:"post",data:{sshKey:e.sshKey,oldPath:l,newPath:t},success(e){(0,Ee.z8)({message:e.info,type:e.status,grouping:!0}),_()}})},oe=()=>{B.value=!1,q.value=!1,0!==i.value.length&&qe({url:Qe+"/file/rm-rf",type:"post",data:{sshKey:e.sshKey,path:il(p.value),items:i.value.map((e=>nl(e.name))).join(" ")},success(e){(0,Ee.z8)({message:e.info,type:e.status,grouping:!0}),_()}})},se=()=>{q.value=!1},ie=(0,Se.iH)(),ne=(l,t,a)=>{qe({url:Qe+(l?"/file/mkdir":"/file/touch"),type:"post",data:{sshKey:e.sshKey,path:l?a:il(a),item:l?t:nl(t)},success(e){(0,Ee.z8)({message:e.info,type:e.status,grouping:!0}),_()}})};(0,o.YP)(p,(e=>{ie.value&&ie.value.closeDialog(),fe.value&&fe.value.closeDialog(),Z.value&&Z.value.closeDialog(),Ro("dir",e)}));const re=e=>{const l=31,t=e*l,a=t+l,o=P.value.clientHeight,s=P.value.scrollTop;t<s?P.value.scrollTop=t:a>s+o&&(P.value.scrollTop=a-o)},ue=(0,Se.iH)({path:"/",files:[]}),de=(0,Se.iH)(!1),ce=l=>{const t=document.querySelector("#rename");if(!t||!t.contains(l.target)){if(L(l),"ArrowUp"!==l.key&&"ArrowDown"!==l.key||("ArrowUp"===l.key?((-1===n||n>s.value.length)&&(n=s.value.length),n--,n=Math.max(0,n)):"ArrowDown"===l.key&&(n++,n=Math.min(s.value.length-1,n)),B.value=!1,q.value=!1,i.value=[],i.value.push(s.value[n]),re(n)),"Enter"===l.key){if(B.value||q.value)return B.value=!1,void(q.value=!1);if(1===i.value.length){const e=i.value[0];e.isDirectory?z(p.value+e.name+"/"):A(e.name)}}if("Windows"===e.os&&l.ctrlKey||("Mac"===e.os||"iOS"===e.os)&&l.metaKey)switch(l.key.toLowerCase()){case"a":i.value=[];for(let e=0;e<s.value.length;e++)i.value.push({...s.value[e]});break;case"c":i.value.length>0&&(ue.value.path=p.value,ue.value.files=[...i.value],de.value=!1);break;case"v":if(0===ue.value.files.length)return;pe(de.value?"mv":"cp"),de.value&&(de.value=!1,ue.value={path:"/",files:[]});break;case"x":i.value.length>0&&(ue.value.path=p.value,ue.value.files=[...i.value],de.value=!0);break;case"backspace":i.value.length>0&&(B.value=!1,q.value=!1,Ll(je.global.t("提示"),je.global.t("确定删除此文件吗？"),oe));break}}},pe=l=>{ue.value.path!==p.value&&qe({url:Qe+"/file/"+l,type:"post",data:{sshKey:e.sshKey,src:il(ue.value.path),dst:il(p.value),items:ue.value.files.map((e=>nl(e.name))).join(" ")},success(e){"success"===e.status?_():((0,Ee.z8)({message:e.info,type:e.status,grouping:!0}),ue.value={path:"/",files:[]})}})},me=e=>{0===e?document.querySelector("#fileUploadInputButton").click():1===e?(document.querySelector("#folderUploadInput").value="",document.querySelector("#folderUploadInput").click()):2===e&&(fe.value.DialogVisible=!0)},ve=e=>{const l=p.value,t={};for(let o=0;o<e.target.files["length"];o++){const l=e.target.files[o],a=l["webkitRelativePath"],s=a.lastIndexOf("/"),i=a.substring(0,s+1);t[i]||(t[i]={path:i,files:[]}),t[i].files.push(l)}const a=[];for(const o in t)a.push(t[o]);a.sort(((e,l)=>e.path.length-l.path.length)),ge(l,a,0)},ge=(l,t,a)=>{const o=t[a];qe({url:Qe+"/file/mkdir",type:"post",data:{sshKey:e.sshKey,path:l,item:o.path},success(e){if("success"===e.status){0===a&&_(),a<t.length-1&&ge(l,t,a+1);for(let e=0;e<o.files.length;e++){const t=o.files[e];E({file:t},{path:l+o.path,noBeforeAlert:!0})}}else(0,Ee.z8)({message:je.global.t("文件夹上传失败"),type:e.status,grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})}})},fe=(0,Se.iH)(),we=(l,t)=>{qe({url:Qe+"/file/wget",type:"post",data:{sshKey:e.sshKey,path:il(p.value),item:nl(t),url:encodeURI(l)},success(e){(0,Ee.z8)({message:e.info,type:e.status,grouping:!0}),_()}})},ye=()=>{qe({url:Qe+"/file/untar",type:"post",data:{sshKey:e.sshKey,path:il(p.value),item:nl(i.value[0].name)},success(e){(0,Ee.z8)({message:e.info,type:e.status,grouping:!0}),_()}})},he=(l,t,a)=>{qe({url:Qe+"/file/chmod",type:"post",data:{sshKey:e.sshKey,path:il(l),item:nl(t),perms:co(a),sub:a.sub||!1},success(e){(0,Ee.z8)({message:e.info,type:e.status,grouping:!0}),"success"===e.status&&(Z.value&&Z.value.permissionsEditRef&&Z.value.permissionsEditRef.closeDialog(),_())}})},ke=(e=!1)=>{e&&(t.value=!0,s.value=[],p.value="",m.value=[],w.value=!1,h.value=je.global.k("暂无文件"),k.value=0,ue.value={path:"/",files:[]},de.value=!1,U()),i.value=[],n=-1,B.value=!1,q.value=!1,G.value=!1,Y.value={},H.value=!1},_e=e=>{O.value&&O.value.DialogVisible&&O.value.closeDialog(),ie.value&&ie.value.DialogVisible&&ie.value.closeDialog(),Z.value&&Z.value.DialogVisible&&Z.value.closeDialog(),fe.value&&fe.value.DialogVisible&&fe.value.closeDialog(),setTimeout((()=>{ke()}),400),H.value=!1,e&&e()},be=()=>{O.value&&O.value.closeDialog(),ie.value&&ie.value.closeDialog(),Z.value&&Z.value.closeDialog(),fe.value&&fe.value.closeDialog(),setTimeout((()=>{ke(!0)}),400),H.value=!1};return(0,o.bv)((()=>{document.addEventListener("mousedown",(e=>{if(P.value&&P.value.contains(e.target)&&(P.value.tabindex="0",P.value.focus()),Q.value&&Q.value.contains(e.target))return;const l=document.querySelector(".confirmPop");l&&l.contains(e.target)||(B.value=!1,q.value=!1)}))})),(0,o.Ah)((()=>{P.value&&(P.value.removeEventListener("dragover",L),P.value.removeEventListener("drop",M),P.value.removeEventListener("scroll",X),P.value.removeEventListener("keydown",ce))})),{DialogVisible:H,isShowDirInput:w,confirmDirCorrect:v,dir:p,files:s,getInitDir:y,getDirList:_,fileBlockView:b,downloadRemoteFile:D,downloadDir:S,changeDir:z,dirInputCallback:W,noDataMsg:h,doRefresh:I,doReturn:T,doDownload:$,doUpload:E,selectedFiles:i,loading:t,filePreviewRef:O,preViewFile:A,doSave:K,fileAreaRef:P,handleMenuSelect:J,isShowMenu:B,stopEvent:L,handleFileDrag:M,handleScroll:X,handleContextMenu:ee,handleClick:le,isShowRenameInput:G,handleRename:te,renameFile:Y,menuBlockRef:Q,doShowDirInput:N,isShowPop:q,confirmPopConfirm:oe,cancelPopConfirm:se,mkFileRef:ie,handleMkFile:ne,doRename:ae,fileAttrRef:Z,folderUpload:j,dirStatus:k,handleShortcutKeys:ce,fileClipboard:ue,addSelectFile:r,isSelected:u,isClipboard:d,isCtrlX:de,fileCopyMove:pe,fileUploadTypeChoose:me,folderInputUploadPrehandle:ve,fileUrlRef:fe,fileUrlUpload:we,reset:ke,closeDialog:_e,deepCloseDialog:be,isZipFile:ao,untar:ye,editPermissions:he,dirLevels:m,changeDirByLevel:f}}};const _n=(0,Ql.Z)(kn,[["render",lo],["__scopeId","data-v-6c5561c2"]]);var bn=_n;const xn=e=>((0,o.dD)("data-v-c53e91da"),e=e(),(0,o.Cn)(),e),Cn=["element-loading-text"],Dn={class:"kk-flex"},Sn={class:"no-select nowrap form-width"},zn=xn((()=>(0,o._)("div",{class:"no-select nowrap",style:{"background-color":"#f3f4f4","margin-right":"8px"}},"U",-1))),Wn=xn((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),In={class:"kk-flex"},Tn={class:"no-select nowrap form-width",style:{"margin-right":"2px"}},$n=xn((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),Vn=xn((()=>(0,o._)("div",{class:"kk-border"},null,-1))),Fn={class:"kk-flex",style:{margin:"7px 0"}},Un=xn((()=>(0,o._)("div",{class:"no-select nowrap"},"Workflow",-1))),Rn=xn((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),En={style:{width:"100%",height:"30vh"}},Nn={style:{display:"flex"}},Hn=xn((()=>(0,o._)("div",{style:{flex:"1"}},null,-1)));function On(e,l,t,a,i,n){const r=(0,o.up)("CollectionTag"),u=(0,o.up)("el-icon"),d=(0,o.up)("el-input"),c=(0,o.up)("Upload"),p=(0,o.up)("el-button"),m=(0,o.up)("el-upload"),v=(0,o.up)("EditPen"),g=(0,o.up)("Download"),f=(0,o.up)("Refresh"),w=(0,o.up)("el-tooltip"),y=(0,o.up)("DocumentDelete"),h=(0,o.up)("Finished"),k=(0,o.up)("AceEditor"),_=(0,o.up)("el-dialog"),b=(0,o.Q2)("loading"),x=(0,o.Q2)("resizable");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(_,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[5]||(l[5]=e=>a.DialogVisible=e),"before-close":a.closeDialog,"destroy-on-close":"",width:550,title:e.$t("终端代码工作流"),modal:!1,"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-0","align-center":"",draggable:""},{default:(0,o.w5)((()=>[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{"element-loading-text":e.$t("加载中...")},[(0,o._)("div",null,[(0,o._)("div",Dn,[(0,o._)("div",Sn,(0,s.zw)(e.$t("名称"))+(0,s.zw)(e.$t("：")),1),zn,(0,o.Wm)(d,{size:"small",style:{width:"190px"},modelValue:a.userTCodeInfo.name,"onUpdate:modelValue":l[0]||(l[0]=e=>a.userTCodeInfo.name=e),class:"w-50 m-2",placeholder:e.$t("输入终端代码名称"),maxlength:"5",minlength:"1"},{prefix:(0,o.w5)((()=>[(0,o.Wm)(u,{class:"el-input__icon"},{default:(0,o.w5)((()=>[(0,o.Wm)(r)])),_:1})])),_:1},8,["modelValue","placeholder"]),Wn,(0,o._)("div",null,[(0,o.Wm)(m,{"show-file-list":!1,"with-credentials":!1,"http-request":a.importTCodes,multiple:!1},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{size:"small",type:"primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(c)])),_:1}),(0,o.Uk)(" "+(0,s.zw)(e.$t("导入")),1)])),_:1})])),_:1},8,["http-request"])])]),(0,o._)("div",In,[(0,o._)("div",Tn,(0,s.zw)(e.$t("描述"))+(0,s.zw)(e.$t("：")),1),(0,o.Wm)(d,{size:"small",style:{width:"206px"},modelValue:a.userTCodeInfo.desc,"onUpdate:modelValue":l[1]||(l[1]=e=>a.userTCodeInfo.desc=e),class:"w-50 m-2",placeholder:e.$t("输入终端代码描述")},{prefix:(0,o.w5)((()=>[(0,o.Wm)(u,{class:"el-input__icon"},{default:(0,o.w5)((()=>[(0,o.Wm)(v)])),_:1})])),_:1},8,["modelValue","placeholder"]),$n,(0,o._)("div",null,[(0,o.Wm)(p,{size:"small",type:"primary",onClick:a.exportTCodes},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(g)])),_:1}),(0,o.Uk)(" "+(0,s.zw)(e.$t("导出")),1)])),_:1},8,["onClick"])])]),Vn,(0,o._)("div",Fn,[Un,Rn,(0,o._)("div",{onClick:l[2]||(l[2]=e=>a.workflowTab(1)),style:{"font-size":"18px",cursor:"pointer","margin-left":"15px"}},[(0,o.Wm)(w,{content:e.$t("默认模板"),placement:"top"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f)])),_:1})])),_:1},8,["content"])]),(0,o._)("div",{onClick:l[3]||(l[3]=e=>a.workflowTab(2)),style:{"font-size":"18px",cursor:"pointer","margin-left":"15px"}},[(0,o.Wm)(w,{content:e.$t("清空"),placement:"top"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y)])),_:1})])),_:1},8,["content"])]),(0,o._)("div",{onClick:l[4]||(l[4]=e=>a.workflowTab(3)),style:{"font-size":"18px",cursor:"pointer","margin-left":"15px"}},[(0,o.Wm)(w,{content:e.$t("保存"),placement:"top"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h)])),_:1})])),_:1},8,["content"])])]),(0,o._)("div",En,[(0,o.Wm)(k,{ref:"userTCodeEditorRef",onHandleSave:a.handleSave},null,8,["onHandleSave"])])]),(0,o._)("div",Nn,[Hn,(0,o.Wm)(p,{size:"small",type:"primary",onClick:a.confirm,style:{"margin-top":"10px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])],8,Cn)),[[b,a.loading]])])),_:1},8,["modelValue","before-close","title"])])),[[x,{minWidthRate:1,maxWidthRate:1.5}]])}var An={name:"TCodeWorkflow",components:{AceEditor:Vs,CollectionTag:Kl.O$2,EditPen:Kl.qHu,Upload:Kl.gqx,Download:Kl.UWx,Refresh:Kl.hYj,Finished:Kl.qWi,DocumentDelete:Kl.jY0},setup(e,l){const t=(0,Se.iH)(!1),a=(0,Se.iH)(!1),o="const path = '/root/terminal';\nawait kkTerminal.write('cd ' + path, 1200);\nconst port = 3000;\nawait kkTerminal.write('lsof -ti :' + port, 1200);\nconst resultArr = kkTerminal.read();\nif(resultArr.length >= 2) {\n    const pid = resultArr[1];\n\tif(pid && /^\\d+$/.test(pid)) await kkTerminal.write('kill -9 ' + pid, 1200);\n}\nconst jar = 'kkTerminal.jar';\nawait kkTerminal.write('nohup java -jar ./' + jar + ' > ./out.log &', 1200);",s=(0,Se.iH)(),i=(0,Se.iH)({name:"",desc:""}),n=e=>{So.setItem(wo["tcode-draft"],e),(0,Ee.z8)({message:je.global.t("保存成功"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})},r=e=>{s.value.setValue(e)},u=()=>{s.value.setLanguage("kk.js"),So.getItem(wo["tcode-draft"])&&s.value.setValue(So.getItem(wo["tcode-draft"]))},d=e=>{const l=/^[A-Za-z0-9]+$/;return l.test(e)},c=e=>{const t=e.file,o=new FileReader;o.onload=()=>{try{const e=JSON.parse(o.result),t={};let a=0,s=0;for(const l in e)l&&l.length>=2&&l.length<=6&&("U"===l[0]||"u"===l[0])&&d(l)?(t[l.toUpperCase()]={desc:e[l].desc||"",workflow:e[l].workflow||"",status:"Not Active"},a++):((0,Ee.z8)({message:je.global.t("终端代码")+" "+l+" "+je.global.t("名称非法"),type:"error",grouping:!0}),s++);0===s?(l.emit("importTCodes",t),(0,Ee.z8)({message:je.global.t("导入成功"),type:"success",grouping:!0}),f()):0===a?(0,Ee.z8)({message:je.global.t("导入失败：无合法终端代码"),type:"error",grouping:!0}):(l.emit("importTCodes",t),(0,Ee.z8)({message:je.global.t("导入成功：")+a+je.global.t("个")+je.global.t("，导入失败：")+s+je.global.t("个"),type:"warning",grouping:!0}))}catch(e){(0,Ee.z8)({message:je.global.t("导入失败：json格式错误"),type:"error",grouping:!0})}finally{a.value=!1}},o.onerror=()=>{(0,Ee.z8)({message:je.global.t("导入失败：文件读取失败"),type:"error",grouping:!0}),a.value=!1},a.value=!0,o.readAsText(t)},p=()=>{l.emit("exportTCodes"),(0,Ee.z8)({message:je.global.t("导出成功"),type:"success",grouping:!0})},m=e=>{switch(e){case 1:So.removeItem(wo["tcode-draft"]),r(o);break;case 2:So.removeItem(wo["tcode-draft"]),r("");break;case 3:n(s.value.getValue());break}},v=()=>{if(!(i.value.name&&i.value.name.length>=1&&i.value.name.length<=5))return void(0,Ee.z8)({message:je.global.t("终端代码名称不能为空"),type:"error",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER});if(!d(i.value.name))return void(0,Ee.z8)({message:je.global.t("终端代码只能由字母和数字组成"),type:"error",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER});const e={};e["U"+i.value.name.toUpperCase()]={desc:i.value.desc,workflow:s.value.getValue(),status:"Not Active"},l.emit("importTCodes",e),(0,Ee.z8)({message:je.global.t("添加成功"),type:"success",grouping:!0}),So.removeItem(wo["tcode-draft"]),f()},g=()=>{s.value&&s.value.reset(),a.value=!1,i.value.name="",i.value.desc="",t.value=!1},f=e=>{setTimeout((()=>{g()}),400),t.value=!1,e&&e()};return{DialogVisible:t,confirm:v,closeDialog:f,reset:g,userTCodeEditorRef:s,handleSave:n,initText:u,loading:a,userTCodeInfo:i,importTCodes:c,exportTCodes:p,setValue:r,workflowTab:m}}};const Kn=(0,Ql.Z)(An,[["render",On],["__scopeId","data-v-c53e91da"]]);var Pn=Kn;const Ln=e=>((0,o.dD)("data-v-b917e95e"),e=e(),(0,o.Cn)(),e),Mn={class:"no-select"},jn={class:"pane-body"},Bn={class:"kk-flex"},qn=Ln((()=>(0,o._)("div",{style:{"background-color":"#f3f4f4"}},"F",-1))),Gn=Ln((()=>(0,o._)("div",{class:"kk-border"},null,-1))),Yn={class:"kk-flex tcode-item",style:{padding:"12px 10px"}},Zn={class:"kk-flex form-width"},Jn={style:{"background-color":"#f3f4f4"}},Xn=Ln((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),Qn={class:"ellipsis",style:{"margin-left":"10px","line-height":"18px"}},er={class:"pane-body"},lr={class:"kk-flex"},tr=Ln((()=>(0,o._)("div",{style:{"background-color":"#f3f4f4"}},"S",-1))),ar=Ln((()=>(0,o._)("div",{class:"kk-border"},null,-1))),or={class:"kk-flex tcode-item",style:{padding:"12px 10px"}},sr={class:"kk-flex form-width"},ir={style:{"background-color":"#f3f4f4"}},nr=Ln((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),rr={class:"ellipsis",style:{"margin-left":"10px","line-height":"18px"}},ur={class:"pane-body"},dr={class:"kk-flex",style:{"margin-bottom":"10px"}},cr=Ln((()=>(0,o._)("div",{style:{"margin-left":"10px"}},null,-1))),pr=Ln((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),mr={style:{width:"100%",height:"180px"}},vr={class:"kk-flex"},gr=Ln((()=>(0,o._)("div",{style:{"background-color":"#f3f4f4"}},"U",-1))),fr=Ln((()=>(0,o._)("div",{class:"kk-border"},null,-1))),wr={class:"kk-flex tcode-item",style:{padding:"12px 10px"}},yr={class:"kk-flex form-width"},hr={style:{"background-color":"#f3f4f4"}},kr=Ln((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),_r={class:"ellipsis",style:{"margin-left":"10px","line-height":"18px"}},br=Ln((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),xr=Ln((()=>(0,o._)("div",{style:{"margin-left":"10px"}},null,-1))),Cr={class:"kk-flex"},Dr=Ln((()=>(0,o._)("div",{style:{"background-color":"#f3f4f4"}},"U",-1))),Sr=Ln((()=>(0,o._)("div",{class:"kk-border"},null,-1))),zr=Ln((()=>(0,o._)("div",{style:{"margin-top":"20px"}},null,-1)));function Wr(e,l,t,a,i,n){const r=(0,o.up)("el-tab-pane"),u=(0,o.up)("ArrowLeft"),d=(0,o.up)("el-icon"),c=(0,o.up)("TCodeStatus"),p=(0,o.up)("el-tooltip"),m=(0,o.up)("Edit"),v=(0,o.up)("Delete"),g=(0,o.up)("View"),f=(0,o.up)("Finished"),w=(0,o.up)("AceEditor"),y=(0,o.up)("ToolTip"),h=(0,o.up)("ArrowRight"),k=(0,o.up)("NoData"),_=(0,o.up)("el-tabs"),b=(0,o.up)("el-dialog"),x=(0,o.Q2)("resizable");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(b,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[0]||(l[0]=e=>a.DialogVisible=e),"destroy-on-close":"",width:480,title:e.$t("终端代码中心"),modal:!1,"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-6","before-close":a.closeDialog,draggable:""},{default:(0,o.w5)((()=>[(0,o._)("div",Mn,[(0,o.Wm)(_,{stretch:"",type:"border-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{label:e.$t("功能")},{default:(0,o.w5)((()=>[(0,o._)("div",jn,[(0,o._)("div",Bn,[(0,o._)("div",null,(0,s.zw)(e.$t("以"))+" ",1),qn,(0,o._)("div",null," "+(0,s.zw)(e.$t("开头，用于执行通用功能")),1)]),Gn,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.FuncTCode,((l,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o._)("div",Yn,[(0,o._)("div",Zn,[(0,o._)("div",Jn,(0,s.zw)(t),1),Xn]),(0,o._)("div",Qn,(0,s.zw)(e.$t(l.desc)),1)])])))),128))])])),_:1},8,["label"]),(0,o.Wm)(r,{label:e.$t("系统")},{default:(0,o.w5)((()=>[(0,o._)("div",er,[(0,o._)("div",lr,[(0,o._)("div",null,(0,s.zw)(e.$t("以"))+" ",1),tr,(0,o._)("div",null," "+(0,s.zw)(e.$t("开头，用于访问系统模块")),1)]),ar,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.SysTCode,((l,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o._)("div",or,[(0,o._)("div",sr,[(0,o._)("div",ir,(0,s.zw)(t),1),nr]),(0,o._)("div",rr,(0,s.zw)(e.$t(l.desc)),1)])])))),128))])])),_:1},8,["label"]),(0,o.Wm)(r,{label:e.$t("用户")},{default:(0,o.w5)((()=>[(0,o._)("div",ur,[a.userTCodes&&Object.keys(a.userTCodes).length>0?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[a.nowTCode&&a.nowTCode.length>=2&&a.nowTCode.length<=6?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("div",dr,[(0,o.Wm)(d,{onClick:a.toOverview,style:{"margin-right":"10px",cursor:"pointer","font-size":"16px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1},8,["onClick"]),(0,o._)("div",null,(0,s.zw)(a.modifyTag+a.nowTCode),1),cr,(0,o.Wm)(p,{content:a.TCodeStatusEnum[a.userTCodes[a.nowTCode].status],placement:"top"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{style:{fontSize:"18px",cursor:"pointer"},status:a.userTCodes[a.nowTCode].status},null,8,["status"])])),_:1},8,["content"]),pr,a.mode?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(p,{key:0,content:e.$t("编辑"),placement:"top"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{onClick:a.doModifyTCode,class:"editor-operator"},{default:(0,o.w5)((()=>[(0,o.Wm)(m)])),_:1},8,["onClick"])])),_:1},8,["content"])),a.mode?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(p,{key:1,content:e.$t("删除"),placement:"top"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{onClick:a.confirmDeleteTCode,class:"editor-operator"},{default:(0,o.w5)((()=>[(0,o.Wm)(v)])),_:1},8,["onClick"])])),_:1},8,["content"])),a.mode?((0,o.wg)(),(0,o.j4)(p,{key:2,content:e.$t("只读"),placement:"top"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{onClick:a.doOnlyRead,class:"editor-operator"},{default:(0,o.w5)((()=>[(0,o.Wm)(g)])),_:1},8,["onClick"])])),_:1},8,["content"])):(0,o.kq)("",!0),a.mode?((0,o.wg)(),(0,o.j4)(p,{key:3,content:e.$t("保存修改"),placement:"top"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{onClick:a.doSaveTCode,class:"editor-operator"},{default:(0,o.w5)((()=>[(0,o.Wm)(f)])),_:1},8,["onClick"])])),_:1},8,["content"])):(0,o.kq)("",!0)]),(0,o._)("div",mr,[(0,o.Wm)(w,{ref:"userTCodeEditorRef",onHandleChange:a.handleChange,onHandleSave:a.doSaveTCode},null,8,["onHandleChange","onHandleSave"])])],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("div",vr,[(0,o._)("div",null,(0,s.zw)(e.$t("以"))+" ",1),gr,(0,o._)("div",null," "+(0,s.zw)(e.$t("开头，用于自定义工作流")),1)]),fr,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.userTCodes,((e,l)=>((0,o.wg)(),(0,o.iD)("div",{key:l},[(0,o._)("div",wr,[(0,o._)("div",yr,[(0,o._)("div",hr,(0,s.zw)(l),1),kr]),(0,o.Wm)(y,{content:e.desc,delay:1e3},{content:(0,o.w5)((()=>[(0,o._)("div",_r,(0,s.zw)(e.desc),1)])),_:2},1032,["content"]),br,xr,(0,o.Wm)(p,{content:a.TCodeStatusEnum[e.status],placement:"top"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{style:{fontSize:"18px",cursor:"pointer"},status:e.status},null,8,["status"])])),_:2},1032,["content"]),(0,o.Wm)(d,{onClick:e=>a.toWorkflow(l),style:{"margin-left":"15px",cursor:"pointer","font-size":"16px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(h)])),_:2},1032,["onClick"])])])))),128))],64))],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("div",Cr,[(0,o._)("div",null,(0,s.zw)(e.$t("以"))+" ",1),Dr,(0,o._)("div",null," "+(0,s.zw)(e.$t("开头，用于自定义工作流")),1)]),Sr,(0,o.Wm)(k,{height:"160px"},{mySlot:(0,o.w5)((()=>[zr])),_:1})],64))])])),_:1},8,["label"])])),_:1})])])),_:1},8,["modelValue","title","before-close"])])),[[x,{minWidthRate:1,maxWidthRate:1.5}]])}function Ir(e,l,t,a,i,n){const r=(0,o.up)("CircleCloseFilled"),u=(0,o.up)("el-icon"),d=(0,o.up)("WarningFilled"),c=(0,o.up)("SuccessFilled"),p=(0,o.up)("InfoFilled");return-2===a.statusType?((0,o.wg)(),(0,o.j4)(u,{key:0,style:(0,s.j5)(a.statusStyle)},{default:(0,o.w5)((()=>[(0,o.Wm)(r)])),_:1},8,["style"])):-1===a.statusType?((0,o.wg)(),(0,o.j4)(u,{key:1,style:(0,s.j5)(a.statusStyle)},{default:(0,o.w5)((()=>[(0,o.Wm)(d)])),_:1},8,["style"])):1===a.statusType?((0,o.wg)(),(0,o.j4)(u,{key:2,style:(0,s.j5)(a.statusStyle)},{default:(0,o.w5)((()=>[(0,o.Wm)(c)])),_:1},8,["style"])):((0,o.wg)(),(0,o.j4)(u,{key:3,style:(0,s.j5)(a.statusStyle)},{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1},8,["style"]))}var Tr={name:"TCodeStatus",components:{SuccessFilled:Kl.c5o,WarningFilled:Kl.Rrw,CircleCloseFilled:Kl.Tw$,InfoFilled:Kl.cEj},props:{status:{type:String,default:"success"},style:{type:Object,default:()=>{}}},setup(e){const l={"Compile Error":-2,"Execute Interrupt":-1,"Not Active":0,"Execute Success":1},t=["#f56c6c","#e6a23c","#909399","#67c23a"],a=(0,o.Fl)((()=>l[e.status]||0)),s=(0,o.Fl)((()=>({fontSize:"16px",...e.style,color:t[(l[e.status]||0)+2]})));return{statusStyle:s,statusType:a}}};const $r=(0,Ql.Z)(Tr,[["render",Ir]]);var Vr=$r,Fr={name:"TCodeCenter",components:{ToolTip:Ct,NoData:lt,TCodeStatus:Vr,AceEditor:Vs,ArrowRight:Kl.olP,ArrowLeft:Kl.XdH,Edit:Kl.I8b,View:Kl.G7x,Finished:Kl.qWi,Delete:Kl.HG3},setup(e,l){const t=(0,Se.iH)(!1),a=(0,Se.iH)(""),o=(0,Se.iH)({}),s=(0,Se.iH)(""),i=(0,Se.iH)(!1),n=e=>{s.value=e,i.value=!1,setTimeout((()=>{d(!0)}),1)},r=()=>{i.value=!1,s.value="",a.value=""},u=(0,Se.iH)(),d=e=>{u.value.setLanguage("kk.js"),u.value.setValue(JSON.parse(Ue(So.getItem(wo["tcodes"])))[s.value].workflow||""),u.value.setReadOnly(e),a.value=""},c=()=>{i.value=!0,d(!1)},p=()=>{i.value=!1,d(!0)},m=()=>{"*"===a.value&&(l.emit("handleSaveTCode",s.value,u.value.getValue()),p(),(0,Ee.z8)({message:je.global.t("修改成功"),type:"success",grouping:!0}),a.value="")},v=()=>{Ll(je.global.t("提示"),je.global.t("确定删除此终端代码吗？"),g)},g=()=>{l.emit("handleDeleteTCode",s.value),(0,Ee.z8)({message:je.global.t("删除成功"),type:"success",grouping:!0}),r()},f=()=>{a.value="*"},w=()=>{u.value&&u.value.reset(),i.value=!1,s.value="",a.value="",t.value=!1},y=e=>{setTimeout((()=>{w()}),400),t.value=!1,e&&e()};return{DialogVisible:t,FuncTCode:To,SysTCode:$o,TCodeStatusEnum:Oo,nowTCode:s,toWorkflow:n,toOverview:r,userTCodes:o,userTCodeEditorRef:u,initTCodeEditor:d,mode:i,doModifyTCode:c,doOnlyRead:p,doSaveTCode:m,confirmDeleteTCode:v,doDeleteTCode:g,handleChange:f,modifyTag:a,reset:w,closeDialog:y}}};const Ur=(0,Ql.Z)(Fr,[["render",Wr],["__scopeId","data-v-b917e95e"]]);var Rr=Ur;const Er=e=>((0,o.dD)("data-v-46b9145e"),e=e(),(0,o.Cn)(),e),Nr={class:"no-select"},Hr={class:"kk-flex"},Or=Er((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),Ar=Er((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),Kr=Er((()=>(0,o._)("div",{style:{"margin-top":"10px"}},null,-1))),Pr={class:"kk-flex"},Lr=Er((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),Mr=Er((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),jr=Er((()=>(0,o._)("div",{style:{"margin-top":"10px"}},null,-1))),Br={style:{display:"flex","border-top":"1px solid #f1f2f4"}},qr=Er((()=>(0,o._)("div",{style:{flex:"1"}},null,-1)));function Gr(e,l,t,a,i,n){const r=(0,o.up)("el-radio"),u=(0,o.up)("el-radio-group"),d=(0,o.up)("el-input-number"),c=(0,o.up)("el-button"),p=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.j4)(p,{modelValue:a.computedDialogVisible,"onUpdate:modelValue":l[2]||(l[2]=e=>a.computedDialogVisible=e),"before-close":a.closeDialog,width:e.$t("240"),modal:!1,title:e.$t("协作"),"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-0",draggable:""},{default:(0,o.w5)((()=>[(0,o._)("div",Nr,[(0,o._)("div",Hr,[(0,o._)("div",null,(0,s.zw)(e.$t("启用编辑"))+(0,s.zw)(e.$t("：")),1),Or,(0,o.Wm)(u,{modelValue:a.isReadOnly,"onUpdate:modelValue":l[0]||(l[0]=e=>a.isReadOnly=e),class:"ml-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{label:!1,size:"large"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("是")),1)])),_:1}),(0,o.Wm)(r,{label:!0,size:"large"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("否")),1)])),_:1})])),_:1},8,["modelValue"]),Ar]),Kr,(0,o._)("div",Pr,[(0,o._)("div",null,(0,s.zw)(e.$t("最大容量"))+(0,s.zw)(e.$t("：")),1),Lr,(0,o._)("div",null,[(0,o.Wm)(d,{style:{width:"80px"},size:"small",modelValue:a.maxCapacity,"onUpdate:modelValue":l[1]||(l[1]=e=>a.maxCapacity=e),min:1,max:6,step:"1","step-strictly":!0},null,8,["modelValue"])]),Mr]),jr,(0,o._)("div",Br,[qr,(0,o.Wm)(c,{size:"small",type:"primary",onClick:a.confirm,style:{"margin-top":"10px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])])),_:1},8,["modelValue","before-close","width","title"])}var Yr={name:"CooperateGen",props:["sshKey","advance"],setup(e,l){const t=(0,Se.iH)(!1),a=(0,o.Fl)((()=>t.value&&e.advance)),s=(0,Se.iH)(!0),i=(0,Se.iH)(6),{toClipboard:n}=(0,De.Z)(),r=async()=>{const t=i.value;qe({url:Qe+"/advance/cooperate/key",type:"get",data:{sshKey:e.sshKey,readOnly:s.value,maxCapacity:t},async success(e){if("success"===e.status){const a=St()+"?cooperate="+e.data;await n(a),(0,Ee.z8)({message:je.global.t("协作链接已复制"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER}),l.emit("handleCooperate",t),d()}else(0,Ee.z8)({message:je.global.t("协作Key生成失败"),type:e.status,grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})}})},u=()=>{s.value=!0,i.value=6,t.value=!1},d=e=>{setTimeout((()=>{u()}),400),t.value=!1,e&&e()};return{computedDialogVisible:a,DialogVisible:t,confirm:r,closeDialog:d,reset:u,isReadOnly:s,maxCapacity:i}}};const Zr=(0,Ql.Z)(Yr,[["render",Gr],["__scopeId","data-v-46b9145e"]]);var Jr=Zr;const Xr=e=>((0,o.dD)("data-v-be96439c"),e=e(),(0,o.Cn)(),e),Qr={class:"no-select"},eu={class:"kk-flex",style:{height:"200px"}},lu=Xr((()=>(0,o._)("div",{style:{"margin-left":"5px"}},null,-1))),tu={class:"kk-flex-column"},au=Xr((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),ou=Xr((()=>(0,o._)("div",{style:{"margin-top":"10px"}},null,-1))),su=Xr((()=>(0,o._)("div",{style:{"margin-top":"10px"}},null,-1))),iu={key:0},nu={key:1},ru={key:2},uu=Xr((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),du=Xr((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),cu={class:"kk-flex-column"},pu=Xr((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),mu=Xr((()=>(0,o._)("div",{style:{"margin-top":"10px"}},null,-1))),vu=Xr((()=>(0,o._)("div",{style:{"margin-top":"10px"}},null,-1))),gu=Xr((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),fu=Xr((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),wu={class:"kk-flex-column"},yu=Xr((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),hu=Xr((()=>(0,o._)("div",{style:{"margin-top":"10px"}},null,-1))),ku=Xr((()=>(0,o._)("div",{style:{"margin-top":"10px"}},null,-1))),_u=Xr((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),bu=Xr((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),xu={class:"kk-flex-column"},Cu=Xr((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),Du=Xr((()=>(0,o._)("div",null,"/",-1))),Su=Xr((()=>(0,o._)("div",{style:{"margin-top":"10px"}},null,-1))),zu=Xr((()=>(0,o._)("div",{style:{"margin-top":"10px"}},null,-1))),Wu=Xr((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),Iu=Xr((()=>(0,o._)("div",{style:{"margin-left":"5px"}},null,-1))),Tu={key:1},$u={style:{position:"relative"}},Vu={style:{position:"absolute",top:"0",right:"0"}},Fu={class:"a-link no-select"},Uu={style:{position:"absolute",top:"0",left:"0"}},Ru={class:"kk-flex"},Eu={class:"kk-flex",style:{color:"#5a6fc0"}},Nu=Xr((()=>(0,o._)("div",{style:{"margin-left":"10px"}},null,-1))),Hu={class:"kk-flex",style:{color:"#9eca7f"}},Ou={key:0},Au={style:{position:"relative"}},Ku={style:{position:"absolute",top:"0",right:"0"}},Pu={class:"a-link no-select"},Lu={style:{position:"absolute",top:"0",left:"0"}},Mu={class:"kk-flex"},ju={class:"kk-flex",style:{color:"#5a6fc0"}},Bu=Xr((()=>(0,o._)("div",{style:{"margin-left":"10px"}},null,-1))),qu={class:"kk-flex",style:{color:"#9eca7f"}},Gu={key:0};function Yu(e,l,t,a,n,r){const u=(0,o.up)("el-progress"),d=(0,o.up)("el-tab-pane"),c=(0,o.up)("el-table-column"),p=(0,o.up)("el-table"),m=(0,o.up)("NoData"),v=(0,o.up)("EChart"),g=(0,o.up)("arrow-down"),f=(0,o.up)("el-icon"),w=(0,o.up)("el-dropdown-item"),y=(0,o.up)("el-dropdown-menu"),h=(0,o.up)("el-dropdown"),k=(0,o.up)("SortUp"),_=(0,o.up)("SortDown"),b=(0,o.up)("el-tabs"),x=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.j4)(x,{modelValue:a.computedDialogVisible,"onUpdate:modelValue":l[0]||(l[0]=e=>a.computedDialogVisible=e),"destroy-on-close":"",width:720,title:e.$t("监控"),modal:!1,"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-6","before-close":a.closeDialog,draggable:""},{default:(0,o.w5)((()=>[(0,o._)("div",Qr,[(0,o.Wm)(b,{stretch:"",type:"border-card",onTabClick:a.handleTabClick},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{label:e.$t("概览")},{default:(0,o.w5)((()=>[(0,o._)("div",eu,[lu,(0,o._)("div",tu,[au,(0,o._)("div",null,(0,s.zw)(e.$t("负载")),1),ou,(0,o.Wm)(u,{color:r.calcStatus(a.statusInfo.overview.load),type:"circle",percentage:a.statusInfo.overview.load},null,8,["color","percentage"]),su,a.statusInfo.overview.load<33.4?((0,o.wg)(),(0,o.iD)("div",iu,(0,s.zw)(e.$t("运行流畅")),1)):a.statusInfo.overview.load<66.7?((0,o.wg)(),(0,o.iD)("div",nu,(0,s.zw)(e.$t("运行缓慢")),1)):((0,o.wg)(),(0,o.iD)("div",ru,(0,s.zw)(e.$t("运行堵塞")),1)),uu]),du,(0,o._)("div",cu,[pu,(0,o._)("div",null,(0,s.zw)(e.$t("CPU使用率")),1),mu,(0,o.Wm)(u,{color:r.calcStatus(a.statusInfo.overview.cpu),type:"circle",percentage:a.statusInfo.overview.cpu},null,8,["color","percentage"]),vu,(0,o._)("div",null,(0,s.zw)(a.statusInfo.overview.core)+" "+(0,s.zw)(e.$t("核心")),1),gu]),fu,(0,o._)("div",wu,[yu,(0,o._)("div",null,(0,s.zw)(e.$t("内存使用率")),1),hu,(0,o.Wm)(u,{color:r.calcStatus(100*a.statusInfo.overview.usedMemory/a.statusInfo.overview.totalMemory),type:"circle",percentage:r.calcNumber(100*a.statusInfo.overview.usedMemory/a.statusInfo.overview.totalMemory)},null,8,["color","percentage"]),ku,(0,o._)("div",null,(0,s.zw)(a.statusInfo.overview.usedMemory)+" / "+(0,s.zw)(a.statusInfo.overview.totalMemory)+" (MB)",1),_u]),bu,(0,o._)("div",xu,[Cu,Du,Su,(0,o.Wm)(u,{color:r.calcStatus(100*a.statusInfo.overview.usedRoot/a.statusInfo.overview.totalRoot),type:"circle",percentage:r.calcNumber(100*a.statusInfo.overview.usedRoot/a.statusInfo.overview.totalRoot)},null,8,["color","percentage"]),zu,(0,o._)("div",null,(0,s.zw)(r.calcNumber(a.statusInfo.overview.usedRoot/1024,2))+"G / "+(0,s.zw)(r.calcNumber(a.statusInfo.overview.totalRoot/1024,2))+"G",1),Wu]),Iu])])),_:1},8,["label"]),(0,o.Wm)(d,{label:e.$t("Top进程")},{default:(0,o.w5)((()=>[a.statusInfo.processes.length>0?((0,o.wg)(),(0,o.j4)(p,{key:0,onCellDblclick:a.tableDataCopy,style:{height:"200px",width:"100%"},data:a.statusInfo.processes,border:"",stripe:""},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{prop:"pid",label:"PID",width:"80"}),(0,o.Wm)(c,{prop:"user",label:"User",width:"100"}),(0,o.Wm)(c,{prop:"cpu",label:"%CPU",width:"100"}),(0,o.Wm)(c,{prop:"mem",label:"%MEM",width:"100"}),(0,o.Wm)(c,{prop:"cmd",label:"Command"})])),_:1},8,["onCellDblclick","data"])):((0,o.wg)(),(0,o.iD)("div",Tu,[(0,o.Wm)(m,{height:"200px"})]))])),_:1},8,["label"]),(0,o.Wm)(d,{label:e.$t("网络")},{default:(0,o.w5)((()=>[(0,o._)("div",$u,[(0,o.wy)((0,o.Wm)(v,{style:{width:"650px",height:"200px"},ref:"networkEChartRef",legend:[e.$t("上行"),e.$t("下行")],yName:"KB/s"},null,8,["legend"]),[[i.F8,a.statusInfo.time.length>1]]),(0,o.wy)((0,o._)("div",Vu,[(0,o.Wm)(h,{size:"small",style:{"margin-top":"2px","margin-right":"25px"},"hide-timeout":"300"},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.statusInfo.network,((e,l)=>((0,o.wg)(),(0,o.j4)(w,{key:e,class:"no-select",onClick:e=>{a.selectedNetwork=l,a.updateNetworkData()}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(l),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",Fu,[(0,o.Uk)((0,s.zw)(a.selectedNetwork),1),(0,o.Wm)(f,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(g)])),_:1})])])),_:1})],512),[[i.F8,a.statusInfo.time.length>1]]),(0,o.wy)((0,o._)("div",Uu,[(0,o._)("div",Ru,[(0,o._)("div",Eu,[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(k)])),_:1}),(0,o._)("div",null,(0,s.zw)((a.networkSeries[0].data[a.networkSeries[0].data.length-1]||0)+"K"),1)]),Nu,(0,o._)("div",Hu,[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(_)])),_:1}),(0,o._)("div",null,(0,s.zw)((a.networkSeries[1].data[a.networkSeries[1].data.length-1]||0)+"K"),1)])])],512),[[i.F8,a.statusInfo.time.length>1]])]),a.statusInfo.time.length<=1?((0,o.wg)(),(0,o.iD)("div",Ou,[(0,o.Wm)(m,{height:"200px"})])):(0,o.kq)("",!0)])),_:1},8,["label"]),(0,o.Wm)(d,{label:e.$t("磁盘")},{default:(0,o.w5)((()=>[(0,o._)("div",Au,[(0,o.wy)((0,o.Wm)(v,{style:{width:"650px",height:"200px"},ref:"diskEChartRef",legend:[e.$t("读"),e.$t("写")],yName:"KB/s"},null,8,["legend"]),[[i.F8,a.statusInfo.time.length>1]]),(0,o.wy)((0,o._)("div",Ku,[(0,o.Wm)(h,{size:"small",style:{"margin-top":"2px","margin-right":"25px"},"hide-timeout":"300"},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.statusInfo.disk,((e,l)=>((0,o.wg)(),(0,o.j4)(w,{key:e,class:"no-select",onClick:e=>{a.selectedDisk=l,a.updateDiskData()}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(l),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",Pu,[(0,o.Uk)((0,s.zw)(a.selectedDisk),1),(0,o.Wm)(f,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(g)])),_:1})])])),_:1})],512),[[i.F8,a.statusInfo.time.length>1]]),(0,o.wy)((0,o._)("div",Lu,[(0,o._)("div",Mu,[(0,o._)("div",ju,[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(k)])),_:1}),(0,o._)("div",null,(0,s.zw)((a.diskSeries[0].data[a.diskSeries[0].data.length-1]||0)+"K"),1)]),Bu,(0,o._)("div",qu,[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(_)])),_:1}),(0,o._)("div",null,(0,s.zw)((a.diskSeries[1].data[a.diskSeries[1].data.length-1]||0)+"K"),1)])])],512),[[i.F8,a.statusInfo.time.length>1]])]),a.statusInfo.time.length<=1?((0,o.wg)(),(0,o.iD)("div",Gu,[(0,o.Wm)(m,{height:"200px"})])):(0,o.kq)("",!0)])),_:1},8,["label"])])),_:1},8,["onTabClick"])])])),_:1},8,["modelValue","title","before-close"])}const Zu=["success","warning","danger"],Ju=(e,l)=>{if(0===l)return Zu[2];const t=e/l;return t<.34?Zu[0]:t<.67?Zu[1]:Zu[2]},Xu=["#5fcb71","#dca550","#eb5851"],Qu=e=>{const l=ed(e);return l<33.4?Xu[0]:l<66.7?Xu[1]:Xu[2]},ed=(e,l=1)=>parseFloat(Number(e).toFixed(l)),ld=["element-loading-text"];function td(e,l,t,a,s,i){const n=(0,o.Q2)("loading");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{"element-loading-text":e.$t("加载中..."),ref:"eChartRef"},null,8,ld)),[[n,a.loading]])}var ad=t(8313),od={name:"EChart",props:["legend","yName"],setup(e){const l=(0,Se.iH)(!0),t=(0,Se.iH)(!1),a=(0,Se.iH)(),s={title:{text:""},tooltip:{trigger:"axis"},legend:{data:e.legend},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{name:e.yName,type:"value"},series:[]};let i=null;const n=(e,l)=>{s.xAxis.data=e,s.series=l,i&&(t.value=!1,i.setOption(s))};return(0,o.bv)((()=>{i=ad.S1(a.value),i.setOption(s),i.resize(),i.on("finished",(()=>{t.value=!0,l.value=!1}))})),{eChartRef:a,update:n,loading:l,isFinished:t}}};const sd=(0,Ql.Z)(od,[["render",td]]);var id=sd,nd={name:"StatusMonitor",methods:{calcNumber:ed,calcStatus:Qu,calcTime:Ti},components:{EChart:id,NoData:lt,ArrowDown:Kl.K5e,SortUp:Kl.Ncu,SortDown:Kl.laI},props:["sshKey","advance"],setup(e){const{toClipboard:l}=(0,De.Z)(),t=(0,Se.iH)(!1),a=(0,o.Fl)((()=>t.value&&e.advance)),s={overview:{load:0,cpu:0,core:0,usedMemory:0,totalMemory:1,usedRoot:0,totalRoot:1},processes:[],network:{},disk:{},time:[]},i=(0,Se.iH)({...s}),n=(0,Se.iH)("all"),r=(0,Se.iH)("all"),u=()=>{qe({url:Qe+"/advance/monitor",type:"post",data:{sshKey:e.sshKey},success(e){if("success"===e.status){const l=e.data.split("^"),t=l[0].split("@").map((e=>ed(e))),a=l[1].split("$"),o=l[2].split("$"),s=l[3].split("$"),u=Number(l[4]),d={...i.value.network};for(let e=0;e<o.length;e++){const l=o[e].split("@"),t=l[0].substring(0,l[0].length-1);if(!d[t]){d[t]=[];for(let e=0;e<i.value.time.length;e++)d[t].push({totalUp:Number(l[1]),totalDown:Number(l[2])})}d[t].push({totalUp:Number(l[1]),totalDown:Number(l[2])})}d[n.value]||(n.value="all");const p={...i.value.disk};for(let e=0;e<s.length;e++){const l=s[e].split("@"),t=l[0];if(!p[t]){p[t]=[];for(let e=0;e<i.value.time.length;e++)p[t].push({totalRead:Number(l[1]),totalWrite:Number(l[2])})}p[t].push({totalRead:Number(l[1]),totalWrite:Number(l[2])})}p[r.value]||(r.value="all");const v=i.value.time;v.push(u),i.value={overview:{load:t[0],cpu:t[1],core:t[2],usedMemory:t[3],totalMemory:t[4],usedRoot:t[5],totalRoot:t[6]},processes:a.map((e=>{const l=e.split("@");return{pid:l[0],user:l[1],cpu:l[2],mem:l[3],cmd:l[4]}})),network:d,disk:p,time:v},c(),m()}}})},d=(0,o.Fl)((()=>{const e=i.value.time,l=i.value.network[n.value],t=l?l.map((e=>e.totalUp)):[],a=l?l.map((e=>e.totalDown)):[];return[{name:je.global.t("上行"),type:"line",data:t.slice(1).map(((l,a)=>ed(1e3*Math.max(0,l-t[a])/(1024*(e[a+1]-e[a])),3)))},{name:je.global.t("下行"),type:"line",data:a.slice(1).map(((l,t)=>ed(1e3*Math.max(0,l-a[t])/(1024*(e[t+1]-e[t])),3)))}]})),c=()=>{if(v.value){const e=i.value.time;v.value.update(e.slice(1).map(((l,t)=>Ti(Math.floor((l+e[t])/2)))),d.value)}},p=(0,o.Fl)((()=>{const e=i.value.time,l=i.value.disk[r.value],t=l?l.map((e=>e.totalRead)):[],a=l?l.map((e=>e.totalWrite)):[];return[{name:je.global.t("读"),type:"line",data:t.slice(1).map(((l,a)=>ed(1e3*Math.max(0,l-t[a])/(2*(e[a+1]-e[a])),3)))},{name:je.global.t("写"),type:"line",data:a.slice(1).map(((l,t)=>ed(1e3*Math.max(0,l-a[t])/(2*(e[t+1]-e[t])),3)))}]})),m=()=>{if(g.value){const e=i.value.time;g.value.update(e.slice(1).map(((l,t)=>Ti(Math.floor((l+e[t])/2)))),p.value)}},v=(0,Se.iH)(),g=(0,Se.iH)(),f=(0,Se.iH)(null),w=6e3,y=()=>{null==f.value&&(setTimeout((()=>{u()}),1),f.value=setInterval((()=>{u()}),w))},h=()=>{null!=f.value&&(clearInterval(f.value),f.value=null)},k=e=>{const l=parseInt(e.index);2!==l||v.value.isFinished||(v.value.loading=!0),3!==l||g.value.isFinished||(g.value.loading=!0)},_=async(e,t)=>{e[t.property]&&(await l(e[t.property]),(0,Ee.z8)({message:je.global.t("复制成功"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER}))},b=(e=!1)=>{e&&(i.value={...s},n.value="all",r.value="all"),t.value=!1},x=e=>{setTimeout((()=>{b()}),400),t.value=!1,e&&e()},C=e=>{setTimeout((()=>{b(!0)}),400),h(),t.value=!1,e&&e()};return{computedDialogVisible:a,DialogVisible:t,reset:b,closeDialog:x,deepCloseDialog:C,doMonitor:y,stopMonitor:h,statusInfo:i,networkEChartRef:v,diskEChartRef:g,selectedNetwork:n,selectedDisk:r,updateNetworkData:c,networkSeries:d,updateDiskData:m,diskSeries:p,handleTabClick:k,tableDataCopy:_}}};const rd=(0,Ql.Z)(nd,[["render",Yu],["__scopeId","data-v-be96439c"]]);var ud=rd,dd=t.p+"img/no_docker.58a9151c.png",cd=t.p+"img/app_store.b808238f.svg";const pd=e=>((0,o.dD)("data-v-8fc3b2ae"),e=e(),(0,o.Cn)(),e),md={class:"no-select"},vd={key:0,class:"kk-flex-column",style:{height:"240px"}},gd=pd((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),fd=pd((()=>(0,o._)("div",null,[(0,o._)("img",{style:{height:"160px"},src:dd,alt:"docker"})],-1))),wd={class:"kk-flex",style:{"margin-top":"25px"}},yd={style:{"font-size":"large"}},hd=pd((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),kd={key:1},_d={key:0,id:"docker-appstore",style:{height:"240px","overflow-y":"scroll"}},bd={class:"kk-flex"},xd=pd((()=>(0,o._)("span",null,[(0,o._)("img",{src:cd,alt:"appstore",style:{height:"30px"}})],-1))),Cd={style:{"margin-left":"15px","font-size":"20px","font-weight":"bolder"}},Dd=pd((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),Sd={class:"a-link no-select"},zd=pd((()=>(0,o._)("div",{class:"kk-border"},null,-1))),Wd={key:0,class:"card-container"},Id={class:"card-header"},Td={class:"kk-flex"},$d={class:"app-title"},Vd=pd((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),Fd={class:"kk-flex"},Ud={class:"app-img-box kk-flex"},Rd=pd((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),Ed=["src","alt"],Nd=pd((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),Hd={key:1},Od={key:1,style:{height:"240px","overflow-y":"scroll"}},Ad={class:"kk-flex"},Kd={style:{"margin-left":"8px"}},Pd=pd((()=>(0,o._)("div",{class:"kk-border"},null,-1))),Ld={style:{padding:"0 120px"}},Md={class:"kk-flex deploy-item"},jd={class:"form-width"},Bd={class:"kk-flex",style:{flex:"1"}},qd=pd((()=>(0,o._)("div",{style:{margin:"0 5px"}},":",-1))),Gd={class:"kk-flex deploy-item"},Yd={class:"form-width"},Zd={style:{flex:"1"}},Jd={class:"kk-flex deploy-item"},Xd={class:"form-width"},Qd={style:{flex:"1"}},ec={class:"kk-flex deploy-item"},lc={class:"form-width"},tc={style:{flex:"1"}},ac={class:"kk-flex deploy-item"},oc={class:"form-width"},sc={style:{flex:"1"}},ic={class:"kk-flex deploy-item"},nc={class:"form-width"},rc={style:{flex:"1"}},uc=pd((()=>(0,o._)("div",{style:{height:"10px"}},null,-1))),dc={class:"kk-flex deploy-item"},cc=pd((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),pc=pd((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),mc=pd((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),vc={key:1},gc={key:1,style:{height:"240px"}},fc={key:2,class:"kk-flex",style:{height:"35px","margin-top":"5px"}},wc={class:"a-link no-select"},yc={key:1},hc={key:1,style:{height:"240px"}},kc={key:2,class:"kk-flex",style:{height:"35px","margin-top":"5px"}},_c={class:"a-link no-select"},bc={key:1},xc={key:1,style:{height:"240px"}},Cc={key:2,class:"kk-flex",style:{height:"35px","margin-top":"5px"}},Dc={class:"a-link no-select"},Sc={key:1},zc={key:1,style:{height:"240px"}},Wc={key:2,class:"kk-flex",style:{height:"35px","margin-top":"5px"}},Ic={class:"a-link no-select"};function Tc(e,l,t,a,i,n){const r=(0,o.up)("el-button"),u=(0,o.up)("Search"),d=(0,o.up)("el-icon"),c=(0,o.up)("el-input"),p=(0,o.up)("arrow-down"),m=(0,o.up)("el-dropdown-item"),v=(0,o.up)("el-dropdown-menu"),g=(0,o.up)("el-dropdown"),f=(0,o.up)("el-card"),w=(0,o.up)("NoData"),y=(0,o.up)("ArrowLeft"),h=(0,o.up)("el-tab-pane"),k=(0,o.up)("el-table-column"),_=(0,o.up)("Operation"),b=(0,o.up)("Document"),x=(0,o.up)("el-table"),C=(0,o.up)("el-tabs"),D=(0,o.up)("el-dialog"),S=(0,o.up)("DockerContainerViewer"),z=(0,o.Q2)("loading");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(D,{modelValue:a.computedDialogVisible,"onUpdate:modelValue":l[17]||(l[17]=e=>a.computedDialogVisible=e),"destroy-on-close":"",width:750,title:"Docker",modal:!1,"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-6","before-close":a.closeDialog,draggable:""},{default:(0,o.w5)((()=>[(0,o._)("div",md,[(0,o.wy)(((0,o.wg)(),(0,o.j4)(C,{stretch:"","element-loading-text":e.$t("加载中..."),onTabClick:a.handleTabClick,type:"border-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{label:e.$t("部署")},{default:(0,o.w5)((()=>[a.hasDocker&&a.hasPermission?((0,o.wg)(),(0,o.iD)("div",kd,[a.deployInfo.isShow?((0,o.wg)(),(0,o.iD)("div",Od,[(0,o._)("div",Ad,[(0,o.Wm)(d,{onClick:l[1]||(l[1]=e=>a.handleReset(!1)),style:{cursor:"pointer","font-size":"16px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(y)])),_:1}),(0,o._)("div",Kd,(0,s.zw)(e.$t("返回")),1)]),Pd,(0,o._)("div",Ld,[(0,o._)("div",Md,[(0,o._)("div",jd,(0,s.zw)(e.$t("镜像")),1),(0,o._)("div",Bd,[(0,o.Wm)(c,{style:{flex:"1"},modelValue:a.deployInfo.imageName,"onUpdate:modelValue":l[2]||(l[2]=e=>a.deployInfo.imageName=e),class:"w-50 m-2",placeholder:e.$t("镜像名称")},null,8,["modelValue","placeholder"]),qd,(0,o.Wm)(c,{modelValue:a.deployInfo.imageVersion,"onUpdate:modelValue":l[3]||(l[3]=e=>a.deployInfo.imageVersion=e),style:{width:"80px"},class:"w-50 m-2",placeholder:e.$t("版本号")},null,8,["modelValue","placeholder"])])]),(0,o._)("div",Gd,[(0,o._)("div",Yd,(0,s.zw)(e.$t("容器")),1),(0,o._)("div",Zd,[(0,o.Wm)(c,{modelValue:a.deployInfo.containerName,"onUpdate:modelValue":l[4]||(l[4]=e=>a.deployInfo.containerName=e),class:"w-50 m-2",placeholder:e.$t("容器名称")},null,8,["modelValue","placeholder"])])]),(0,o._)("div",Jd,[(0,o._)("div",Xd,(0,s.zw)(e.$t("端口映射")),1),(0,o._)("div",Qd,[(0,o.Wm)(c,{modelValue:a.deployInfo.portMapping,"onUpdate:modelValue":l[5]||(l[5]=e=>a.deployInfo.portMapping=e),class:"w-50 m-2",placeholder:e.$t("每行一个，主机端口:容器端口"),type:"textarea"},null,8,["modelValue","placeholder"])])]),(0,o._)("div",ec,[(0,o._)("div",lc,(0,s.zw)(e.$t("环境变量")),1),(0,o._)("div",tc,[(0,o.Wm)(c,{modelValue:a.deployInfo.envVar,"onUpdate:modelValue":l[6]||(l[6]=e=>a.deployInfo.envVar=e),class:"w-50 m-2",placeholder:e.$t("每行一个，环境变量名=值"),type:"textarea"},null,8,["modelValue","placeholder"])])]),(0,o._)("div",ac,[(0,o._)("div",oc,(0,s.zw)(e.$t("数据卷挂载")),1),(0,o._)("div",sc,[(0,o.Wm)(c,{modelValue:a.deployInfo.volumeMounting,"onUpdate:modelValue":l[7]||(l[7]=e=>a.deployInfo.volumeMounting=e),class:"w-50 m-2",placeholder:e.$t("每行一个，主机路径:容器路径"),type:"textarea"},null,8,["modelValue","placeholder"])])]),(0,o._)("div",ic,[(0,o._)("div",nc,(0,s.zw)(e.$t("其它命令选项")),1),(0,o._)("div",rc,[(0,o.Wm)(c,{modelValue:a.deployInfo.paramOptions,"onUpdate:modelValue":l[8]||(l[8]=e=>a.deployInfo.paramOptions=e),class:"w-50 m-2",placeholder:e.$t("每行一个，-命令选项 值"),type:"textarea"},null,8,["modelValue","placeholder"])])]),uc,(0,o._)("div",dc,[cc,(0,o.Wm)(r,{disabled:!a.deployInfo.imageName,type:"primary",onClick:a.handleDeploy},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("部署")),1)])),_:1},8,["disabled","onClick"]),pc,(0,o.Wm)(r,{text:"",bg:"",onClick:l[9]||(l[9]=e=>a.handleReset(!0))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("清空")),1)])),_:1}),mc])])])):((0,o.wg)(),(0,o.iD)("div",_d,[(0,o._)("div",bd,[xd,(0,o._)("div",Cd,(0,s.zw)(e.$t("Docker应用商店")),1),Dd,(0,o._)("div",null,[(0,o.Wm)(c,{modelValue:a.appSearch,"onUpdate:modelValue":l[0]||(l[0]=e=>a.appSearch=e),class:"w-50 m-2",placeholder:e.$t("搜索应用")},{suffix:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"el-input__icon"},{default:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1})])),_:1},8,["modelValue","placeholder"])]),(0,o.Wm)(g,{style:{"margin-left":"20px"},"hide-timeout":"300"},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.dockerAppTypes,((l,t)=>((0,o.wg)(),(0,o.j4)(m,{key:t,class:"no-select",onClick:e=>a.appType=t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t(l)),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",Sd,[(0,o.Uk)((0,s.zw)(e.$t(a.dockerAppTypes[a.appType])),1),(0,o.Wm)(d,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1})])])),_:1})]),zd,a.dockerApps.length>0?((0,o.wg)(),(0,o.iD)("div",Wd,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.dockerApps,((l,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"card-item",key:t},[(0,o.Wm)(f,null,{header:(0,o.w5)((()=>[(0,o._)("div",Id,[(0,o._)("div",Td,[(0,o._)("span",$d,(0,s.zw)(l.name),1),Vd,(0,o.Wm)(r,{size:"small",type:"primary",onClick:e=>a.handleAppGet(l.deployInfo)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("获取")),1)])),_:2},1032,["onClick"])])])])),default:(0,o.w5)((()=>[(0,o._)("div",Fd,[(0,o._)("div",null,[(0,o._)("div",Ud,[Rd,(0,o._)("img",{src:l.img,alt:l.name},null,8,Ed),Nd])]),(0,o._)("div",null,(0,s.zw)(e.$t(l.desc)),1)])])),_:2},1024)])))),128))])):((0,o.wg)(),(0,o.iD)("div",Hd,[(0,o.Wm)(w,{height:"196px",msg:a.i18n.global.k("暂无应用")},null,8,["msg"])]))]))])):((0,o.wg)(),(0,o.iD)("div",vd,[gd,fd,(0,o._)("div",wd,[(0,o._)("div",yd,(0,s.zw)(a.hasDocker?e.$t("Docker权限不足？"):e.$t("Docker未安装？")),1),(0,o._)("div",null,[(0,o.Wm)(r,{type:"primary",onClick:a.enableDocker,style:{"margin-left":"15px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(a.hasDocker?e.$t("授权"):e.$t("安装")),1)])),_:1},8,["onClick"])])]),hd]))])),_:1},8,["label"]),(0,o.Wm)(h,{disabled:!(a.hasDocker&&a.hasPermission),label:e.$t("容器")},{default:(0,o.w5)((()=>[a.dockerInfo.container.length>0?((0,o.wg)(),(0,o.j4)(x,{key:0,onCellDblclick:a.tableDataCopy,style:{height:"200px",width:"100%"},data:a.dockerInfo.container,onSelectionChange:a.tableSelect,border:"",stripe:"","table-layout":"fixed"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{type:"selection",width:"40",fixed:"left"}),(0,o.Wm)(k,{"show-overflow-tooltip":"",prop:"id",label:"ID",width:"120"}),(0,o.Wm)(k,{"show-overflow-tooltip":"",prop:"name",label:e.$t("名称"),width:"120"},null,8,["label"]),(0,o.Wm)(k,{"show-overflow-tooltip":"",prop:"status",label:e.$t("状态"),width:"80"},null,8,["label"]),(0,o.Wm)(k,{"show-overflow-tooltip":"",prop:"image",label:e.$t("镜像"),width:"140"},null,8,["label"]),(0,o.Wm)(k,{"show-overflow-tooltip":"",prop:"port",label:e.$t("端口")},null,8,["label"]),(0,o.Wm)(k,{"show-overflow-tooltip":"",width:"50",fixed:"right"},{header:(0,o.w5)((()=>[(0,o.Wm)(d,{style:{"font-size":"18px",color:"#606266"}},{default:(0,o.w5)((()=>[(0,o.Wm)(_)])),_:1})])),default:(0,o.w5)((e=>[(0,o.Wm)(d,{onClick:l=>a.openContainerViewer(e.row),style:{"font-size":"18px",color:"#606266",cursor:"pointer"}},{default:(0,o.w5)((()=>[(0,o.Wm)(b)])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["onCellDblclick","data","onSelectionChange"])):((0,o.wg)(),(0,o.iD)("div",vc,[a.loading?((0,o.wg)(),(0,o.iD)("div",gc)):((0,o.wg)(),(0,o.j4)(w,{key:0,height:"240px"}))])),a.dockerInfo.container.length>0?((0,o.wg)(),(0,o.iD)("div",fc,[(0,o.Wm)(g,{"hide-timeout":"300"},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{class:"no-select",onClick:l[10]||(l[10]=e=>a.containerType=1)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t(a.containerTypeArr[1])),1)])),_:1}),(0,o.Wm)(m,{class:"no-select",onClick:l[11]||(l[11]=e=>a.containerType=2)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t(a.containerTypeArr[2])),1)])),_:1}),(0,o.Wm)(m,{class:"no-select",onClick:l[12]||(l[12]=e=>a.containerType=3)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t(a.containerTypeArr[3])),1)])),_:1}),(0,o.Wm)(m,{class:"no-select",onClick:l[13]||(l[13]=e=>a.containerType=4)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t(a.containerTypeArr[4])),1)])),_:1})])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",wc,[(0,o.Uk)((0,s.zw)(e.$t(a.containerTypeArr[a.containerType])),1),(0,o.Wm)(d,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1})])])),_:1}),(0,o.Wm)(r,{disabled:!(a.selectedItems.length>0&&0!==a.containerType),size:"small",type:"primary",onClick:a.operateConfirm,style:{"margin-left":"10px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("确定")),1)])),_:1},8,["disabled","onClick"])])):(0,o.kq)("",!0)])),_:1},8,["disabled","label"]),(0,o.Wm)(h,{disabled:!(a.hasDocker&&a.hasPermission),label:e.$t("镜像")},{default:(0,o.w5)((()=>[a.dockerInfo.image.length>0?((0,o.wg)(),(0,o.j4)(x,{key:0,onCellDblclick:a.tableDataCopy,style:{height:"200px",width:"100%"},data:a.dockerInfo.image,onSelectionChange:a.tableSelect,border:"",stripe:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{type:"selection",width:"40",fixed:"left"}),(0,o.Wm)(k,{"show-overflow-tooltip":"",prop:"id",label:"ID",width:"130"}),(0,o.Wm)(k,{"show-overflow-tooltip":"",prop:"repository",label:e.$t("仓库")},null,8,["label"]),(0,o.Wm)(k,{"show-overflow-tooltip":"",prop:"size",label:e.$t("大小"),width:"100"},null,8,["label"]),(0,o.Wm)(k,{"show-overflow-tooltip":"",prop:"createTime",label:e.$t("创建时间"),width:"140",sortable:""},null,8,["label"])])),_:1},8,["onCellDblclick","data","onSelectionChange"])):((0,o.wg)(),(0,o.iD)("div",yc,[a.loading?((0,o.wg)(),(0,o.iD)("div",hc)):((0,o.wg)(),(0,o.j4)(w,{key:0,height:"240px"}))])),a.dockerInfo.image.length>0?((0,o.wg)(),(0,o.iD)("div",kc,[(0,o.Wm)(g,{"hide-timeout":"300"},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{class:"no-select",onClick:l[14]||(l[14]=e=>a.deleteType=1)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t(a.deleteTypeArr[1])),1)])),_:1})])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",_c,[(0,o.Uk)((0,s.zw)(e.$t(a.deleteTypeArr[a.deleteType])),1),(0,o.Wm)(d,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1})])])),_:1}),(0,o.Wm)(r,{disabled:!(a.selectedItems.length>0&&0!==a.deleteType),size:"small",type:"primary",onClick:a.deleteConfirm,style:{"margin-left":"10px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("确定")),1)])),_:1},8,["disabled","onClick"])])):(0,o.kq)("",!0)])),_:1},8,["disabled","label"]),(0,o.Wm)(h,{disabled:!(a.hasDocker&&a.hasPermission),label:e.$t("网络")},{default:(0,o.w5)((()=>[a.dockerInfo.network.length>0?((0,o.wg)(),(0,o.j4)(x,{key:0,onCellDblclick:a.tableDataCopy,style:{height:"200px",width:"100%"},data:a.dockerInfo.network,onSelectionChange:a.tableSelect,border:"",stripe:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{type:"selection",width:"40",fixed:"left"}),(0,o.Wm)(k,{"show-overflow-tooltip":"",prop:"name",label:e.$t("名称"),width:"140"},null,8,["label"]),(0,o.Wm)(k,{"show-overflow-tooltip":"",prop:"ip",label:"IP"}),(0,o.Wm)(k,{"show-overflow-tooltip":"",prop:"gateway",label:e.$t("网关"),width:"120"},null,8,["label"]),(0,o.Wm)(k,{"show-overflow-tooltip":"",prop:"createTime",label:e.$t("创建时间"),width:"140",sortable:""},null,8,["label"])])),_:1},8,["onCellDblclick","data","onSelectionChange"])):((0,o.wg)(),(0,o.iD)("div",bc,[a.loading?((0,o.wg)(),(0,o.iD)("div",xc)):((0,o.wg)(),(0,o.j4)(w,{key:0,height:"240px"}))])),a.dockerInfo.network.length>0?((0,o.wg)(),(0,o.iD)("div",Cc,[(0,o.Wm)(g,{"hide-timeout":"300"},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{class:"no-select",onClick:l[15]||(l[15]=e=>a.deleteType=2)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t(a.deleteTypeArr[2])),1)])),_:1})])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",Dc,[(0,o.Uk)((0,s.zw)(e.$t(a.deleteTypeArr[a.deleteType])),1),(0,o.Wm)(d,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1})])])),_:1}),(0,o.Wm)(r,{disabled:!(a.selectedItems.length>0&&0!==a.deleteType),size:"small",type:"primary",onClick:a.deleteConfirm,style:{"margin-left":"10px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("确定")),1)])),_:1},8,["disabled","onClick"])])):(0,o.kq)("",!0)])),_:1},8,["disabled","label"]),(0,o.Wm)(h,{disabled:!(a.hasDocker&&a.hasPermission),label:e.$t("数据卷")},{default:(0,o.w5)((()=>[a.dockerInfo.volume.length>0?((0,o.wg)(),(0,o.j4)(x,{key:0,onCellDblclick:a.tableDataCopy,style:{height:"200px",width:"100%"},data:a.dockerInfo.volume,onSelectionChange:a.tableSelect,border:"",stripe:""},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{type:"selection",width:"40",fixed:"left"}),(0,o.Wm)(k,{"show-overflow-tooltip":"",prop:"name",label:e.$t("名称"),width:"140"},null,8,["label"]),(0,o.Wm)(k,{"show-overflow-tooltip":"",prop:"mount",label:e.$t("挂载点")},null,8,["label"]),(0,o.Wm)(k,{"show-overflow-tooltip":"",prop:"createTime",label:e.$t("创建时间"),width:"140",sortable:""},null,8,["label"])])),_:1},8,["onCellDblclick","data","onSelectionChange"])):((0,o.wg)(),(0,o.iD)("div",Sc,[a.loading?((0,o.wg)(),(0,o.iD)("div",zc)):((0,o.wg)(),(0,o.j4)(w,{key:0,height:"240px"}))])),a.dockerInfo.volume.length>0?((0,o.wg)(),(0,o.iD)("div",Wc,[(0,o.Wm)(g,{"hide-timeout":"300"},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{class:"no-select",onClick:l[16]||(l[16]=e=>a.deleteType=3)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t(a.deleteTypeArr[3])),1)])),_:1})])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",Ic,[(0,o.Uk)((0,s.zw)(e.$t(a.deleteTypeArr[a.deleteType])),1),(0,o.Wm)(d,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1})])])),_:1}),(0,o.Wm)(r,{disabled:!(a.selectedItems.length>0&&0!==a.deleteType),size:"small",type:"primary",onClick:a.deleteConfirm,style:{"margin-left":"10px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("确定")),1)])),_:1},8,["disabled","onClick"])])):(0,o.kq)("",!0)])),_:1},8,["disabled","label"])])),_:1},8,["element-loading-text","onTabClick"])),[[z,a.loading]])])])),_:1},8,["modelValue","before-close"]),(0,o.Wm)(S,{ref:"dockerContainerViewerRef",sshKey:t.sshKey},null,8,["sshKey"])],64)}const $c=e=>((0,o.dD)("data-v-076bdb29"),e=e(),(0,o.Cn)(),e),Vc={class:"kk-flex kk-header-class no-select"},Fc={class:"ellipsis",style:{margin:"0 5px","font-size":"larger","line-height":"22px"}},Uc=$c((()=>(0,o._)("div",{style:{"margin-top":"-28px"}},null,-1))),Rc=["element-loading-text"],Ec=$c((()=>(0,o._)("div",{style:{"margin-top":"-13px"}},null,-1)));function Nc(e,l,t,a,n,r){const u=(0,o.up)("FileIcons"),d=(0,o.up)("AceEditor"),c=(0,o.up)("el-dialog"),p=(0,o.Q2)("loading"),m=(0,o.Q2)("resizable");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(c,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[0]||(l[0]=e=>a.DialogVisible=e),width:"60%",modal:!1,"modal-class":"kk-dialog-class","body-class":"kk-body-class-12","before-close":a.closeDialog,"align-center":"",draggable:""},{title:(0,o.w5)((()=>[(0,o._)("div",Vc,[(0,o.Wm)(u,{style:{display:"flex",alignItems:"center"},name:"kk.json",width:25,height:25,isFolder:!1}),(0,o._)("div",Fc,(0,s.zw)(a.containerName),1)])])),default:(0,o.w5)((()=>[Uc,(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{"element-loading-text":e.$t("加载中..."),style:{width:"100%",height:"80vh",position:"relative","margin-bottom":"10px"}},[(0,o.wy)((0,o.Wm)(d,{class:"preview",ref:"containerViewerRef"},null,512),[[i.F8,!a.loading]])],8,Rc)),[[p,a.loading]]),Ec])),_:1},8,["modelValue","before-close"])])),[[m,{minWidthRate:.8,maxWidthRate:1.2}]])}var Hc={name:"DockerContainerViewer",components:{FileIcons:at(),AceEditor:Vs},props:["sshKey"],setup(e){const l=(0,Se.iH)(!1),t=(0,Se.iH)(!1),a=(0,Se.iH)(""),o=(0,Se.iH)(),s=async l=>{t.value=!0,a.value=l.name,await qe({url:Qe+"/advance/docker/container",type:"post",data:{sshKey:e.sshKey,type:4,items:l.id},success(e){"success"===e.status?i(e.data):((0,Ee.z8)({message:je.global.t("内容加载失败"),type:"error",grouping:!0}),n(),r()),t.value=!1}})},i=e=>{o.value.setReadOnly(!0),o.value.setValue(e),o.value.removeEndEmptyLine(),o.value.resetHistory(),o.value.setLanguage("kk.json")},n=()=>{t.value=!1,a.value="",o.value&&o.value.reset()},r=e=>{setTimeout((()=>{n()}),400),l.value=!1,e&&e()};return{DialogVisible:l,loading:t,containerName:a,containerViewerRef:o,initText:s,reset:n,closeDialog:r}}};const Oc=(0,Ql.Z)(Hc,[["render",Nc],["__scopeId","data-v-076bdb29"]]);var Ac=Oc;const Kc=[je.global.k("全部"),je.global.k("实用工具"),je.global.k("开发&运维"),je.global.k("个人建站"),je.global.k("数据库"),je.global.k("网盘存储")],Pc=t(2716),Lc="./",Mc=[{name:"Custom",desc:je.global.k("指定任意镜像进行应用部署"),type:0,img:Pc(Lc+"custom.svg"),deployInfo:{imageName:"",imageVersion:"",containerName:"",portMapping:"",envVar:"",volumeMounting:"",paramOptions:""}},{name:"kkTerminal",desc:je.global.k("kkTerminal是一个强大的Web SSH连接终端"),type:1,img:Pc(Lc+"kkTerminal.svg"),deployInfo:{imageName:"zyyzyykk/kkterminal",imageVersion:"latest",containerName:"kkTerminal",portMapping:"3000:3000",envVar:"PASSWORD="+ol(16),volumeMounting:"/data/kkterminal/cloud:/cloud",paramOptions:""}}];var jc={name:"DockerBlock",components:{DockerContainerViewer:Ac,NoData:lt,ArrowDown:Kl.K5e,ArrowLeft:Kl.XdH,Search:Kl.olm,Document:Kl.BBB,Operation:Kl.OXy},props:["sshKey","advance"],setup(e,l){const{toClipboard:t}=(0,De.Z)(),a=(0,Se.iH)(!1),s=(0,o.Fl)((()=>a.value&&e.advance)),i=(0,Se.iH)(!1),n=(0,Se.iH)([]),r=e=>{n.value=e},u=(0,Se.iH)(!1),d=(0,Se.iH)(!1),c={container:[],image:[],network:[],volume:[]},p=(0,Se.iH)({...c}),m=e=>{i.value=!0,qe({url:Qe+"/advance/docker/version",type:"post",data:{sshKey:e},success(e){if(i.value=!1,"success"===e.status)u.value=!0,d.value=!0,g({index:0});else{u.value=!1,d.value=!1;const l=parseInt(JSON.parse(e.data));1===l&&(u.value=!0)}}})},v=l=>{i.value=!0;const t=l||0;qe({url:Qe+"/advance/docker/info",type:"post",data:{sshKey:e.sshKey,type:t},success(e){if("success"===e.status){u.value=!0,d.value=!0;let l=p.value.container,a=p.value.image,o=p.value.network,s=p.value.volume;if(0===t){const t=e.data?e.data.split("$"):[];l=[];for(let e=0;e<t.length;e++){const a=t[e].split("@");l.push({id:a[0],name:a[1],status:a[2],image:a[3],port:a[4]})}}else if(1===t){const l=e.data?e.data.split("$"):[];a=[];for(let e=0;e<l.length;e++){const t=l[e].split("@");a.push({id:t[0],repository:t[1],size:t[2],createTime:t[3].split(" ")[0].substring(0,10)})}}else if(2===t){const l=e.data?e.data.split("$"):[];o=[];for(let e=0;e<l.length;e++){const t=l[e].split("@");o.push({name:t[0],ip:t[1],gateway:t[2],createTime:t[3].split(" ")[0].substring(0,10)})}}else if(3===t){const l=e.data?e.data.split("$"):[];s=[];for(let e=0;e<l.length;e++){const t=l[e].split("@");s.push({name:t[0],mount:t[1],createTime:t[2].split(" ")[0].substring(0,10)})}}p.value={container:l,image:a,network:o,volume:s}}i.value=!1}})},g=e=>{n.value=[],f.value=0,w.value=0;const l=parseInt(e.index);l>0&&v(l-1)},f=(0,Se.iH)(0),w=(0,Se.iH)(0),y=[je.global.k("选择批量操作"),je.global.k("启动容器"),je.global.k("停止容器"),je.global.k("重启容器"),je.global.k("删除容器")],h=[je.global.k("选择批量操作"),je.global.k("删除镜像"),je.global.k("删除网络"),je.global.k("删除数据卷")],k=()=>{i.value=!0;const l=f.value-1;qe({url:Qe+"/advance/docker/container",type:"post",data:{sshKey:e.sshKey,type:l,items:n.value.map((e=>e.id||e.name)).join(" ")},success(e){(0,Ee.z8)({message:e.info,type:e.status,grouping:!0}),n.value=[],i.value=!1,g({index:1})}})},_=()=>{i.value=!0;const l=w.value;qe({url:Qe+"/advance/docker/delete",type:"post",data:{sshKey:e.sshKey,type:l,items:n.value.map((e=>e.id||e.name)).join(" ")},success(e){(0,Ee.z8)({message:e.info,type:e.status,grouping:!0}),n.value=[],i.value=!1,g({index:l+1})}})},b=()=>{Ll(je.global.t("提示"),je.global.t("确定进行此操作吗？"),k)},x=()=>{Ll(je.global.t("提示"),je.global.t("确定进行此操作吗？"),_)},C=(0,Se.iH)(),D=e=>{C.value.initText(e),C.value.DialogVisible=!0},S=()=>{if(u.value&&d.value)return;const e=u.value?"sudo usermod -aG docker $(whoami)\n":"curl -fsSL https://get.docker.com -o get-docker.sh && sudo sh get-docker.sh\n";u.value||(0,Ee.z8)({message:je.global.t("开始安装"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER}),l.emit("enable",e),H()},z=async(e,l)=>{"createTime"!==l.property&&e[l.property]&&(await t(e[l.property]),(0,Ee.z8)({message:je.global.t("复制成功"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER}))},W={isShow:!1,imageName:"",imageVersion:"",containerName:"",portMapping:"",envVar:"",volumeMounting:"",paramOptions:""},I=(0,Se.iH)({...W}),T=e=>{I.value={...W,...e},I.value.containerName&&(I.value.containerName+="_"+ol(4)),I.value.isShow=!0},$=(e=!0)=>{I.value={...W},I.value.isShow=e},V=()=>{let e="docker run -dit";I.value.containerName&&(e+=" --name "+I.value.containerName),I.value.portMapping&&(e+=I.value.portMapping.split("\n").filter((e=>e)).map((e=>` -p ${e}`)).join("")),I.value.envVar&&(e+=I.value.envVar.split("\n").filter((e=>e)).map((e=>` -e ${e}`)).join("")),I.value.volumeMounting&&(e+=I.value.volumeMounting.split("\n").filter((e=>e)).map((e=>` -v ${e}`)).join("")),I.value.paramOptions&&(e+=I.value.paramOptions.split("\n").filter((e=>e)).map((e=>` ${e}`)).join("")),e+=" --restart=unless-stopped",e+=" "+I.value.imageName+":",e+=I.value.imageVersion||"latest",e+="\n",(0,Ee.z8)({message:je.global.t("开始部署"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER}),$(!1),l.emit("deploy",e)},F=(0,Se.iH)(""),U=(0,Se.iH)(0),R=(0,o.Fl)((()=>Mc.filter((e=>!(!e.name.toLowerCase().includes(F.value.toLowerCase())&&!je.global.t(e.desc).toLowerCase().includes(F.value.toLowerCase()))&&(0===U.value||e.type===U.value))))),E=(e=!1)=>{e&&(u.value=!1,d.value=!1,p.value={...c},I.value={...W}),f.value=0,w.value=0,n.value=[],F.value="",U.value=0,i.value=!1,a.value=!1},N=e=>{C.value&&C.value.closeDialog(),setTimeout((()=>{E()}),400),a.value=!1,e&&e()},H=e=>{C.value&&C.value.closeDialog(),setTimeout((()=>{E(!0)}),400),a.value=!1,e&&e()};return{i18n:je,computedDialogVisible:s,DialogVisible:a,reset:E,closeDialog:N,deepCloseDialog:H,hasDocker:u,hasPermission:d,getDockerVersion:m,dockerInfo:p,getDockerInfo:v,handleTabClick:g,loading:i,enableDocker:S,tableSelect:r,containerType:f,deleteType:w,selectedItems:n,containerTypeArr:y,deleteTypeArr:h,operateConfirm:b,deleteConfirm:x,dockerContainerViewerRef:C,openContainerViewer:D,tableDataCopy:z,deployInfo:I,dockerAppTypes:Kc,dockerApps:R,appSearch:F,appType:U,handleAppGet:T,handleReset:$,handleDeploy:V}}};const Bc=(0,Ql.Z)(jc,[["render",Tc],["__scopeId","data-v-8fc3b2ae"]]);var qc=Bc;const Gc=128,Yc=e=>{const l=e.replace("#",""),t=parseInt(l.substr(0,2),16),a=parseInt(l.substr(2,2),16),o=parseInt(l.substr(4,2),16),s=.2126*t+.7152*a+.0722*o;return s>Gc?"#bad6fc":"#555555"};var Zc={name:"TerminalView",components:{FileIcons:at(),NoData:lt,ToolTip:Ct,DockerBlock:qc,ConnectSetting:Ot,PreferenceSetting:Ua,FileBlock:bn,TCodeWorkflow:Pn,TCodeCenter:Rr,CooperateGen:Jr,StatusMonitor:ud,QuestionFilled:Kl.Ruj,VideoPlay:Kl.GhU,VideoPause:Kl.lBU,ChromeFilled:Kl.MK,ArrowRight:Kl.olP,UserFilled:Kl.wvC,FolderOpened:Kl.JZA,CircleClose:Kl.K41},props:["osInfo"],setup(e){const l=bp();l.postMessage(JSON.stringify({message:xp["RESPONSE_KEY_UPDATE"],data:Ve.response()}));const t=(0,Se.iH)({Fail:"Fail to connect remote server !\r\n",Success:"Connecting success !\r\n",Connecting:"Connecting to remote server ...\r\n",Disconnected:"Disconnect to remote server.\r\n",End:"This Cooperation is Ended.\r\n"}),a=(0,Se.iH)(t.value["Connecting"]),s=(0,o.FN)(),{toClipboard:i}=(0,De.Z)(),n=new He.FitAddon,r=new Oe.WebLinksAddon,u=(0,Se.iH)(!1),d=(0,Se.iH)(""),c=(0,Se.iH)([]),p=()=>{d.value=crypto.randomUUID(),c.value=[],c.value.push({time:(new Date).getTime(),content:"Record "+d.value+" Start.\r\n"}),u.value=!0},m=async()=>{u.value=!1,c.value.push({time:(new Date).getTime(),content:"\r\nRecord "+d.value+" Over."}),_o("record-",d.value,JSON.stringify(c.value)).then((()=>{i(St()+"?record="+d.value).then((()=>{(0,Ee.z8)({message:je.global.t("录像链接已复制"),type:"success",grouping:!0})}))}))},v=e=>{const l=c.value[e];l&&$(l.content);const t=c.value[e+1];t&&setTimeout((()=>{v(e+1)}),t.time-l.time)},g=async()=>{if(b.value.user)Ll(je.global.t("提示"),je.global.t("确定从云端覆盖本地数据吗？"),f);else{await Co();const e=St()+"?user="+tl(So.getItem(wo["user"]));await i(e),(0,Ee.z8)({message:je.global.t("多端同步链接已复制"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})}},f=async()=>{await Do(al(b.value.user))},w=(0,Se.iH)({}),y=()=>{So.getItem(wo["options"])?w.value=JSON.parse(Ue(So.getItem(wo["options"]))):w.value={}};y();const h=(0,Se.iH)({}),k=()=>{h.value={},So.getItem(wo["tcodes"])&&(h.value=JSON.parse(Ue(So.getItem(wo["tcodes"])))),setTimeout((()=>{ge.value.userTCodes={...h.value}}),1)};k();const _=(0,Se.iH)(Ye),b=(0,Se.iH)(Dt()),x=()=>{So.getItem(wo["env"])&&(_.value={..._.value,...JSON.parse(Ue(So.getItem(wo["env"])))}),So.setItem(wo["lang"],_.value.lang),b.value.bg&&"#"!==b.value.bg[0]&&(b.value.bg="#"+b.value.bg),b.value.fg&&"#"!==b.value.fg[0]&&(b.value.fg="#"+b.value.fg),"true"===b.value.cursorBlink?b.value.cursorBlink=!0:"false"===b.value.cursorBlink&&(b.value.cursorBlink=!1),"true"===b.value.tCode?b.value.tCode=!0:"false"===b.value.tCode&&(b.value.tCode=!1),"true"===b.value.cloud?b.value.cloud=!0:"false"===b.value.cloud&&(b.value.cloud=!1),"true"===b.value.advance?b.value.advance=!0:"false"===b.value.advance&&(b.value.advance=!1),"true"===b.value.transport?b.value.transport=!0:"false"===b.value.transport&&(b.value.transport=!1);for(const l in b.value)l in _.value&&-1===l.lastIndexOf("_")&&(_.value[l]=b.value[l]);const e=w.value[_.value["option"]];e?_.value={..._.value,...e}:_.value.option="",b.value.option=_.value.option,b.value.record?("headless"!==b.value.mode&&"pure"!==b.value.mode&&(b.value.mode="pure"),a.value=""):b.value.record="",b.value.cooperate?"headless"!==b.value.mode&&"pure"!==b.value.mode&&(b.value.mode="pure"):b.value.cooperate="",_.value.lang||(_.value.lang="en"),je.global.locale=_.value.lang,Ro("option",_.value.option)};x();const C=(e,l)=>{e&&(w.value={...w.value,[e]:l}),So.setItem(wo["options"],Fe(JSON.stringify(w.value))),y()},D=e=>{delete w.value[e],C(null,null),_.value.option&&_.value.option===e&&Q({option:""},!1)},S=(0,Se.iH)();let z=null;const W=(0,Se.iH)(!0),I=()=>{z=new Ne.Terminal({convertEol:!0,scrollback:Number.MAX_SAFE_INTEGER,disableStdin:!1,cursorStyle:_.value.cursorStyle,cursorInactiveStyle:"outline",cursorBlink:_.value.cursorBlink,theme:{foreground:_.value.fg,background:_.value.bg,cursor:_.value.fg,selectionBackground:Yc(_.value.bg)},lineHeight:1.2,fontFamily:_.value.fontFamily,fontSize:_.value.fontSize}),z.loadAddon(n),z.loadAddon(r)},T=()=>{if(S.value.style.height=window.innerHeight-("headless"!==b.value.mode?25:0)+"px",n.fit(),A.value&&A.value.readyState===WebSocket.OPEN&&z){const e=n.proposeDimensions().rows,l=n.proposeDimensions().cols;A.value.send(Fe(JSON.stringify({type:1,content:"",rows:e,cols:l}),O.value)),z.resize(l,e)}},$=e=>{e&&(z.focus(),z.write(e))},V=(0,Se.iH)(!1),F=(0,Se.iH)(0),U=(0,Se.iH)(0),R=e=>{F.value=0,U.value=e,V.value=!0},E=()=>{qe({url:Qe+"/advance/cooperate/end",type:"post",data:{sshKey:H.value},success(e){"success"===e.status&&(F.value=0,U.value=0,V.value=!1),(0,Ee.z8)({message:e.info,type:e.status,grouping:!0})}})},N=()=>{Ll(je.global.t("提示"),je.global.t("确定结束此次协作吗？"),E)},H=(0,Se.iH)(""),O=(0,Se.iH)(""),A=(0,Se.iH)(null),K=()=>{O.value=ol(16);const e={};e.secretKey=Re(O.value),e.envInfo=Fe(JSON.stringify({..._.value,cooperateKey:b.value.cooperate}),O.value),A.value=new WebSocket(Xe+el(Fe(JSON.stringify(e),Ve.socket()))),A.value.onopen=()=>{T()},A.value.onmessage=e=>{const l=JSON.parse(e.data);if(-2===l.code)z.clear(),a.value=t.value["Fail"],$(l.info+".\n");else if(-1===l.code)z.clear(),a.value=t.value["Fail"],$(a.value),setTimeout((()=>{se(1)}),400);else if(0===l.code){if(z.clear(),a.value=t.value["Success"],setTimeout((()=>{T()}),1),b.value.cooperate)return void $(l.info+".\n");H.value=Ue(l.data,O.value),b.value.cmd&&(b.value.cmd.toLowerCase().startsWith("bash:")?ee(b.value.cmd.substring(5)+"\n"):b.value.cmd.toLowerCase().startsWith("tcode:")&&setTimeout((()=>{de.value=b.value.cmd.substring(6),ce({key:"Enter"})}),400)),_.value.advance&&J.value&&J.value.doMonitor(),_.value.advance&&X.value&&X.value.getDockerVersion(H.value)}else if(1===l.code){const e=Ue(l.data,O.value);Fo.active&&Fo.outArray.push(e),u.value&&c.value.push({time:(new Date).getTime(),content:e}),Fo.active&&!Fo.display||$(e)}else if(2===l.code)F.value=Number(Ue(l.data,O.value));else if(3===l.code){const e=JSON.parse(Ue(l.data,O.value)),t=parseInt(e.index),a=e.id;3===t?(Ie(1,1,a,null),Ie(2,1,a,null),Ie(3,0,a,e)):(Ie(0,1,a,null),Ie(t,0,a,e))}},A.value.onclose=e=>{if(a.value===t.value["Success"]&&3333!==e.code){if(H.value="",b.value.cooperate)return a.value=t.value["End"],void $("\r\n"+a.value);re(),a.value=t.value["Disconnected"],$("\r\n"+a.value)}Fo.reset()}},P=(0,Se.iH)(!1),L=(0,Se.iH)(!1),M=e=>{P.value=e,L.value=!1,B(!1)};let j=null;const B=e=>{j&&clearTimeout(j),L.value!==e&&(j=setTimeout((()=>{L.value=e}),400))},q=(0,Se.iH)(),G=(0,Se.iH)(),Y=(0,Se.iH)(),Z=(0,Se.iH)(),J=(0,Se.iH)(),X=(0,Se.iH)(),Q=(e,l=!0)=>{let t=Ye;So.getItem(wo["env"])&&(t={...t,...JSON.parse(Ue(So.getItem(wo["env"])))}),t={...t,...e},So.setItem(wo["env"],Fe(JSON.stringify(t)));for(const a in e)a in b.value&&(b.value[a]=e[a]);l&&se(3)},ee=(e,l=!1)=>{A.value&&(W.value&&(T(),W.value=!1),Fo.active===l?A.value.send(Fe(JSON.stringify({type:0,content:e,rows:0,cols:0}),O.value)):(0,Ee.z8)({message:je.global.t("终端代码")+" "+Fo.name+" "+je.global.t("正在执行"),type:"warning",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER}))},le=e=>{e.preventDefault(),e.stopPropagation(),ee(e.target.value),e.target.value=""},te=async e=>{e.preventDefault(),e.stopPropagation();const l=await navigator.clipboard.readText();ee(l)},ae=()=>{M(!1)},oe=()=>{z&&S.value&&(S.value.removeEventListener("contextmenu",te),S.value.removeEventListener("compositionend",le),S.value.removeEventListener("click",ae)),S.value.innerHTML="",W.value=!0,x(),I(),z.open(S.value),T(),S.value.addEventListener("compositionend",le),z.onKey((e=>{ee(e.key)})),z.onSelectionChange((async()=>{if(z.hasSelection()){const e=z.getSelection();e.trim()&&await i(e)}})),S.value.addEventListener("contextmenu",te),S.value.addEventListener("click",ae),$(a.value)},se=e=>{if(1===e)M(!1),q.value.DialogVisible=!0;else if(2===e)M(!1),G.value.DialogVisible=!0;else if(3===e)M(!1),a.value=t.value["Connecting"],H.value="",A.value&&A.value.close(3333),re(),oe(),K();else if(4===e)M(!1),Y.value.getInitDir(),Y.value.DialogVisible=!0;else if(5===e)P.value=!0,L.value=!0,B(!0);else if(6===e){if(!H.value||!_.value.advance)return;M(!1),Z.value.DialogVisible=!0}else if(7===e){if(!H.value||!_.value.advance)return;M(!1),setTimeout((()=>{J.value.updateNetworkData(),J.value.updateDiskData()}),1),J.value.DialogVisible=!0}else if(8===e){if(!H.value||!_.value.advance)return;M(!1),X.value.getDockerVersion(H.value),X.value.DialogVisible=!0}};let ie=null;const ne=()=>{ie||(ie=setInterval((()=>{A.value&&A.value.readyState===WebSocket.OPEN&&A.value.send(Fe(JSON.stringify({type:2,content:"",rows:0,cols:0}),O.value)),"Linux"!==e.osInfo.serverOS&&qe({url:Qe+"/system/beat",type:"post",data:{windowId:e.osInfo.windowId},success(){}})}),25e3))},re=()=>{Y.value&&Y.value.deepCloseDialog(),Z.value&&Z.value.closeDialog(),V.value=!1,F.value=0,U.value=0,J.value&&J.value.deepCloseDialog(),X.value&&X.value.deepCloseDialog(),We()},ue=(e,l)=>{h.value[e].status=l,So.setItem(wo["tcodes"],Fe(JSON.stringify(h.value))),setTimeout((()=>{ge.value.userTCodes={...h.value}}),1)},de=(0,Se.iH)(""),ce=async e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key)return e.preventDefault(),e.stopPropagation(),void("ArrowUp"===e.key?de.value=Ko.up(de.value):de.value=Ko.down(de.value));if("Enter"!==e.key)return;if(!de.value||de.value.length<2)return;const l=de.value.toUpperCase();if(de.value="",Ko.add(l),"F"===l[0]&&To[l])To[l].execFlow(s);else if("S"===l[0]&&$o[l])$o[l].execFlow(s);else if("U"===l[0]&&h.value[l])if(Fo.writeNoAwait||(Fo.writeNoAwait=ee),Fo.fileBlockRef||(Fo.fileBlockRef=Y.value),Fo.active)(0,Ee.z8)({message:je.global.t("终端代码")+" "+Fo.name+" "+je.global.t("正在执行"),type:"warning",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER});else{if(Fo.reset(),Fo.name=l,Fo.active=!0,!h.value[l].execFlow||!(h.value[l].execFlow instanceof Function)){const e=h.value[l].workflow.toString();try{h.value[l].execFlow=new Function("kkTerminal",`return (async () => { ${e} })()`)}catch(t){return ue(l,"Compile Error"),(0,Ee.z8)({message:je.global.t("终端代码")+" "+l+" "+je.global.t("编译错误：")+t,type:"error",grouping:!0}),void Fo.reset()}}try{(0,Ee.z8)({message:je.global.t("终端代码")+" "+l+" "+je.global.t("工作流开始"),type:"success",grouping:!0}),await h.value[l].execFlow(Vo),(0,Ee.z8)({message:je.global.t("终端代码")+" "+l+" "+je.global.t("工作流结束"),type:"success",grouping:!0}),ue(l,"Execute Success")}catch(t){(0,Ee.z8)({message:je.global.t("终端代码")+" "+l+" "+je.global.t("执行中断：")+t,type:"warning",grouping:!0}),ue(l,"Execute Interrupt")}finally{Fo.reset()}}else"F"===l[0]||"S"===l[0]||"U"===l[0]?(0,Ee.z8)({message:je.global.t("终端代码")+" "+l+" "+je.global.t("不存在"),type:"warning",grouping:!0}):(0,Ee.z8)({message:je.global.t("终端代码必须以F，S，U开头"),type:"warning",grouping:!0})},pe=(0,Se.iH)(),me=e=>{const l={...h.value,...e};So.setItem(wo["tcodes"],Fe(JSON.stringify(l))),k()},ve=()=>{let e={};So.getItem(wo["tcodes"])&&(e=JSON.parse(Ue(So.getItem(wo["tcodes"]))));const l=new Blob([JSON.stringify(e,null,4)],{type:"text/plain"}),t=URL.createObjectURL(l);Wt(t,"TerminalCode.json"),URL.revokeObjectURL(t)},ge=(0,Se.iH)(),fe=(e,l)=>{const t={};t[e]={desc:h.value[e].desc||"",workflow:l||"",status:"Not Active"},me(t)},we=e=>{delete h.value[e],me({})},ye=()=>{window.addEventListener("resize",(()=>{Y.value&&(Y.value.isShowMenu=!1,Y.value.isShowPop=!1),T()}))},he=e=>{ee(e)},ke=e=>{ee(e)},_e=(0,Se.iH)({}),be=(0,Se.iH)({}),xe=(0,Se.iH)({}),Ce=(0,Se.iH)({}),ze={0:_e,1:be,2:xe,3:Ce},We=()=>{_e.value={},be.value={},xe.value={},Ce.value={},Te.value=!1},Ie=(e,l,t,a)=>{const o=ze[e];if(2===l)return o.value[t];1===l&&(delete o.value[t],Te.value=!0),0===l&&(o.value[t]?o.value[t]={...a}:(o.value={[t]:a,...o.value},Te.value=!0))},Te=(0,Se.iH)(!1),$e=(0,Se.iH)(!1),Ae=e=>{$e.value=e,Te.value=!1},Ke=async(e,l)=>{await Y.value.fileBlockView(e,l)};return(0,o.bv)((async()=>{if(oe(),b.value.record)return ye(),c.value=await bo("record-"+b.value.record),void(c.value?v(0):$("Record ID is Invalid.\r\n"));K(),ye(),ne()})),(0,o.Ah)((()=>{z&&S.value&&(S.value.removeEventListener("contextmenu",te),S.value.removeEventListener("compositionend",le),S.value.removeEventListener("click",ae)),ie&&clearInterval(ie)})),{recording:u,startRecord:p,stopRecord:m,cloudSync:g,env:_,urlParams:b,options:w,now_connect_status:a,connect_status:t,terminal:S,doSSHConnect:K,socket:A,showAdvance:B,showSettings:M,isShowSetting:P,isShowAdvance:L,doSettings:se,connectSettingRef:q,preferenceSettingRef:G,fileBlockRef:Y,cooperateGenRef:Z,statusMonitorRef:J,dockerBlockRef:X,saveEnv:Q,sshKey:H,doHeartBeat:ne,saveOp:C,deleteOp:D,tcode:de,tcodes:h,tCodeWorkflowRef:pe,handleTCode:ce,importTCodes:me,exportTCodes:ve,tCodeCenterRef:ge,handleSaveTCode:fe,handleDeleteTCode:we,closeBlock:re,resetTerminal:oe,sendMessage:ee,cooperating:V,onlineNumber:F,maxNumber:U,handleCooperate:R,endCooperateConfirm:N,calcType:Ju,calcSize:Ei,enableDocker:he,runContainer:ke,waitingList:_e,uploadingList:be,downloadingList:xe,finishedList:Ce,updateTransportLists:Ie,isShowDot:Te,isShowDropdown:$e,changeDropdownShowStatus:Ae,fileBlockView:Ke}}};const Jc=(0,Ql.Z)(Zc,[["render",Ce],["__scopeId","data-v-5eb5b9f0"]]);var Xc=Jc;const Qc=e=>((0,o.dD)("data-v-ce6dd306"),e=e(),(0,o.Cn)(),e),ep=["element-loading-text"],lp={class:"container"},tp={class:"kk-flex container-header"},ap=Qc((()=>(0,o._)("div",null,[(0,o._)("img",{src:n,alt:"terminal",style:{height:"72px"}})],-1))),op={class:"header-text"},sp={class:"title"},ip=Qc((()=>(0,o._)("div",{style:{height:"8px"}},null,-1))),np={class:"content"},rp={class:"container-body"},up={class:"kk-flex"},dp={style:{flex:"1"}},cp=Qc((()=>(0,o._)("div",{style:{width:"20px"}},null,-1))),pp={style:{margin:"0 10px"}},mp={class:"error-text",style:{"font-size":"16px"}};function vp(e,l,t,a,n,r){const u=(0,o.up)("Lock"),d=(0,o.up)("el-icon"),c=(0,o.up)("el-input"),p=(0,o.up)("el-button"),m=(0,o.Q2)("loading");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:"root-view no-select","element-loading-text":e.$t("加载中...")},[(0,o._)("div",lp,[(0,o._)("div",tp,[ap,(0,o._)("div",op,[(0,o._)("div",sp,(0,s.zw)(e.$t("欢迎来到kkTerminal")),1),ip,(0,o._)("div",np,(0,s.zw)(e.$t("管理员开启了对kkTerminal的密码校验")),1)])]),(0,o._)("div",rp,[(0,o._)("div",up,[(0,o._)("div",dp,[(0,o.Wm)(c,{modelValue:a.password,"onUpdate:modelValue":l[0]||(l[0]=e=>a.password=e),type:"password",onKeydown:(0,i.D2)(a.verify,["enter"]),class:"w-50 m-2 body-item",maxlength:"16",placeholder:e.$t("输入密码以获取访问权限")},{prefix:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"el-input__icon"},{default:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1})])),_:1},8,["modelValue","onKeydown","placeholder"])]),cp,(0,o._)("div",null,[(0,o.Wm)(p,{disabled:0===a.password.length,class:"body-item",type:"primary",onClick:a.verify},{default:(0,o.w5)((()=>[(0,o._)("span",pp,(0,s.zw)(e.$t("验证")),1)])),_:1},8,["disabled","onClick"])])]),(0,o._)("div",mp,(0,s.zw)(e.$t(a.err_msg)),1)])])],8,ep)),[[m,a.loading]])}var gp={name:"AccessCheck",components:{Lock:Kl.HEZ},setup(){const e=(0,a.tv)(),l=(0,a.yj)(),t=(0,Se.iH)(!1),o=(0,Se.iH)(""),s=(0,Se.iH)(""),i=()=>{t.value=!0,o.value="",qe({url:Qe+"/access/login",type:"post",data:{password:Re(s.value)},success(a){if("success"===a.status){(0,Ee.z8)({message:je.global.t("登录成功"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER});const o=JSON.parse(a.info);$e.response(o.responseKey),Do().then((()=>{t.value=!1,e.push({name:"terminal",query:{...l.query}})}))}else o.value=je.global.k("密码错误"),s.value="",t.value=!1}})};return je.global.locale=Dt()["lang"]||So.getItem(wo["lang"])||"en",{loading:t,err_msg:o,password:s,verify:i}}};const fp=(0,Ql.Z)(gp,[["render",vp],["__scopeId","data-v-ce6dd306"]]);var wp=fp;const yp=[{path:"/terminal",name:"terminal",component:Xc},{path:"/login",name:"login",component:wp},{path:"/",redirect:"/terminal"},{path:"/:catchAll(.*)",redirect:"/"}],hp=(0,a.p7)({history:(0,a.PO)(),routes:yp});var kp=hp;let _p=null;const bp=()=>_p,xp={RESPONSE_KEY_UPDATE:"RESPONSE_KEY_UPDATE"},Cp=()=>{_p||(_p=new BroadcastChannel("kkTerminal"),_p.onmessage=e=>{const{message:l,data:t}=JSON.parse(e.data);if(l===xp["RESPONSE_KEY_UPDATE"]){$e.response(t);const e=kp.currentRoute.value;"terminal"!==e.name&&kp.push({name:"terminal",query:{...e.query}})}})},Dp=["element-loading-text"];function Sp(e,l,t,a,s,i){const n=(0,o.up)("RouterView"),r=(0,o.Q2)("loading");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:"app-class","element-loading-text":e.$t("加载中...")},[a.isInitialized?((0,o.wg)(),(0,o.j4)(n,{key:0},{default:(0,o.w5)((({Component:e})=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(e),{osInfo:a.osInfo},null,8,["osInfo"]))])),_:1})):(0,o.kq)("",!0)],8,Dp)),[[r,a.loading]])}var zp={name:"App",components:{},setup(){const e=(0,a.tv)(),l=(0,a.yj)(),t=(0,Se.iH)(!1),s=(0,Se.iH)(!0),i=(0,Se.iH)(null);return(0,o.bv)((()=>{setTimeout((()=>{qe({url:Qe+"/system/init",type:"post",success(a){const o=JSON.parse(a.info);i.value=o.osInfo,$e.storage(o.storageKey),$e.socket(o.socketKey),$e.public(o.publicKey),o.responseKey?($e.response(o.responseKey),Do().then((()=>{e.push({name:"terminal",query:{...l.query}}),t.value=!0,s.value=!1}))):(e.push({name:"login",query:{...l.query}}),setTimeout((()=>{t.value=!0}),1),s.value=!1)}})}),1)})),{isInitialized:t,loading:s,osInfo:i}}};const Wp=(0,Ql.Z)(zp,[["render",Sp]]);var Ip=Wp;const Tp=e=>{const l=window.getComputedStyle(e),t=l.transform;if("none"===t)return 0;const a=new DOMMatrix(t);return a.m41},$p={updated(e,l){setTimeout((()=>{const t=e.querySelector(".el-dialog__header"),a=e.querySelector(".el-dialog__body");if(!t&&!a)return;const o=e.querySelector(".resize-handle");if(o)return;const s=e.querySelector(".el-dialog"),{minWidthRate:i,maxWidthRate:n}=l.value||{},r=s.offsetWidth*(i||.5),u=Math.min(s.offsetWidth*(n||2),.8*document.documentElement.clientWidth),d=document.createElement("div");d.classList.add("resize-handle","handle-left");const c=document.createElement("div");c.classList.add("resize-handle","handle-right"),t.appendChild(d),a.appendChild(d),t.appendChild(c),a.appendChild(c);const p={left:0,right:0};d.onpointerdown=e=>{e.preventDefault(),e.stopPropagation(),d.setPointerCapture(e.pointerId),p.left=e.clientX-d.getBoundingClientRect().left,d.onpointermove=e=>{if(e.preventDefault(),e.stopPropagation(),1!==e.buttons)return;const l=document.documentElement.clientWidth,t=l/2+Tp(s);s.style.width=Math.min(u,Math.max(r,2*(t-e.clientX+p.left)))+"px"},d.onpointerup=()=>{d.onpointermove=null,d.onpointerup=null}},c.onpointerdown=e=>{e.preventDefault(),e.stopPropagation(),c.setPointerCapture(e.pointerId),p.right=c.getBoundingClientRect().right-e.clientX,c.onpointermove=e=>{if(e.preventDefault(),e.stopPropagation(),1!==e.buttons)return;const l=document.documentElement.clientWidth,t=l/2+Tp(s);s.style.width=Math.min(u,Math.max(r,2*(e.clientX-t+p.right)))+"px"},c.onpointerup=()=>{c.onpointermove=null,c.onpointerup=null}}}),1)}};var Vp=$p,Fp=(t(4415),t(3441)),Up=t(7086),Rp=t(1015),Ep=t(5133),Np=t(6497),Hp=t(1179),Op=t(881),Ap=t(9695),Kp=t(3509),Pp=t(1745),Lp=t(1932),Mp=t(6164),jp=t(1183),Bp=t(5410),qp=t(8631),Gp=t(4775),Yp=t(3838),Zp=t(7919),Jp=t(1902),Xp=t(2563),Qp=t(5097),em=t(4143);Cp(),Ge();const lm=(0,i.ri)(Ip);lm.use(kp),lm.directive("resizable",Vp),lm.use(Fp.ElButton).use(Up.d0).use(Rp.gn).use(Ep.EZ).use(Np.LW).use(Hp.$).use(Op.Ub).use(Op.p8).use(Ap.b9).use(Kp.Q0).use(Pp.ElCheckbox).use(Lp.Xh).use(Mp.eI).use(jp.dQ),lm.use(Bp.YK).use(Bp.o2).use(Bp.Df).use(qp.OX).use(Gp.kN).use(Yp.KD).use(Yp.rh).use(Zp.$t).use(Jp.Ks).use(Xp.i1).use(Qp.d6).use(em.Kf),lm.use(je),lm.mount("#app");const tm=(e,l)=>{let t=null;return function(){const a=this,o=arguments;clearTimeout(t),t=setTimeout((function(){e.apply(a,o)}),l)}},am=window.ResizeObserver;window.ResizeObserver=class extends am{constructor(e){e=tm(e,16),super(e)}},lm.config.warnHandler=()=>{}},2716:function(e,l,t){var a={"./custom.svg":6489,"./kkTerminal.svg":8415};function o(e){var l=s(e);return t(l)}function s(e){if(!t.o(a,e)){var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=s,e.exports=o,o.id=2716},6489:function(e,l,t){"use strict";e.exports=t.p+"img/custom.837fbc25.svg"},8415:function(e,l,t){"use strict";e.exports=t.p+"img/kkTerminal.6be7ac1d.svg"},2480:function(){},5832:function(){}},l={};function t(a){var o=l[a];if(void 0!==o)return o.exports;var s=l[a]={id:a,loaded:!1,exports:{}};return e[a].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}t.m=e,function(){t.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){var e=[];t.O=function(l,a,o,s){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],o=e[d][1],s=e[d][2];for(var n=!0,r=0;r<a.length;r++)(!1&s||i>=s)&&Object.keys(t.O).every((function(e){return t.O[e](a[r])}))?a.splice(r--,1):(n=!1,s<i&&(i=s));if(n){e.splice(d--,1);var u=o();void 0!==u&&(l=u)}}return l}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[a,o,s]}}(),function(){t.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(l,{a:l}),l}}(),function(){t.d=function(e,l){for(var a in l)t.o(l,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:l[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(l){return 0===e[l]};var l=function(l,a){var o,s,i=a[0],n=a[1],r=a[2],u=0;if(i.some((function(l){return 0!==e[l]}))){for(o in n)t.o(n,o)&&(t.m[o]=n[o]);if(r)var d=r(t)}for(l&&l(a);u<i.length;u++)s=i[u],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(d)},a=self["webpackChunkterminal"]=self["webpackChunkterminal"]||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(7882)}));a=t.O(a)})();